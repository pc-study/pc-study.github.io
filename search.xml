<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Redhat 7 安装 Oracle 12CR2 RAC 完全避坑宝典</title>
      <link href="/post/261c23fa.html"/>
      <url>/post/261c23fa.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>相信在 Redhat 7 上安装过 <code>Oracle 12CR2 RAC</code> 的朋友，看了本文一定会后悔没有早点看到这篇完美的避坑指南！</p><p>😜 如果有朋友不信邪，可以按照常规的方式安装，大概率是会遇到下面我列出的这些坑。</p><h1 id="一、聊聊哪些坑"><a href="#一、聊聊哪些坑" class="headerlink" title="一、聊聊哪些坑"></a>一、聊聊哪些坑</h1><p>本文主要介绍 <code>Redhat 7.6</code> 系统安装 <code>Oracle 12201</code> 版本 <code>RAC</code> 的一些坑以及避坑方式。</p><p>绝对干货满满，物超所值，当然更欢迎大家来补充和纠错！</p><blockquote><p><strong>📢 注意：</strong> 坑点主要位于 Grid 软件安装步骤中 <code>cvu check</code> 和 <code>root.sh</code> 执行。</p></blockquote><h2 id="坑-1：ASM-device-sharedness-check"><a href="#坑-1：ASM-device-sharedness-check" class="headerlink" title="坑 1：ASM device sharedness check"></a>坑 1：ASM device sharedness check</h2><p>Grid 软件安装过程检查报错：Shared Storage Accessibility:&#x2F;dev&#x2F;asm_ocr …FAILED (PRVG-11506)</p><p><img src="https://img-blog.csdnimg.cn/7b60914c28444d4e94d952299448a3f1.png"></p><p>可参照 <code>MOS</code> 文档：</p><ul><li>12.2: PRVG-0802 : Storage type for path “&#x2F;dev&#x2F;mapper&#x2F;asm011p1” could not be determined (Doc ID 2251322.1)</li></ul><p>这里先卖个关子，不说解决方案，MOS 建议是打一个补丁 25784424 来修复：</p><blockquote><p><strong>Apply patch <a href="https://support.oracle.com/epmos/faces/ui/patch/PatchDetail.jspx?parent=DOCUMENT&sourceId=2251322.1&patchId=25784424">25784424</a>, if CVU storage check fails for ASMLib paths 。</strong></p></blockquote><h2 id="坑-2：执行-root-sh-报错"><a href="#坑-2：执行-root-sh-报错" class="headerlink" title="坑 2：执行 root.sh 报错"></a>坑 2：执行 root.sh 报错</h2><p><strong><font color='red'>😤 先吐槽一下，这 TM 简直巨坑无比！</font></strong></p><p>当执行 <code>root.sh</code> 命令到进度 <strong>14&#x2F;19</strong> 时，突然停止并且报错 <code>CLSRSC-400</code>，并提示<strong>重启主机系统</strong>，重启之后安装进程已经终止，继续执行依然报错，无奈卸载重装，结果依然报错，**<font color='orage'>当时搞了将近 3 个多小时</font><strong>，网上找遍了都没发现相关问题，</strong>真是一把心酸泪 😢**！</p><p><img src="https://img-blog.csdnimg.cn/ce3b6101cabd40dd904a7199cd2968ec.png"></p><p>在 <code>MOS</code> 上找了个相关文档，但没解决问题，可以参考一下：</p><ul><li>ALERT: root.sh Fails With “CLSRSC-400” While Installing GI 12.2.0.1 on RHEL or OL with RedHat Compatible Kernel (RHCK) 7.3 (Doc ID 2284463.1)</li></ul><p><code>MOS</code> 建议仍然是通过 <code>applyOneOffs</code> 打补丁来修复：</p><blockquote><p><strong>Interim patch 25078431 is required before installing 12.2 GI on Linux 7.3 (RedHat and OL7 with RHCK).</strong></p></blockquote><p><strong>📢 注意：</strong> 这里虽然没有帮助我解决问题，但是帮我打开了一个思路，让我想到了 12C 开始支持的新的打补丁方式 <code>applyPSU</code>，对我后面解决问题带来了很大的帮助！</p><h2 id="坑-3：ASMCMD-报错"><a href="#坑-3：ASMCMD-报错" class="headerlink" title="坑 3：ASMCMD 报错"></a>坑 3：ASMCMD 报错</h2><p>在修复了上述 2 个问题之后，😀 我又高高兴兴的开始执行 <code>root.sh</code>，看着一路畅通无阻，本想着收拾收拾回家了。</p><p>结果 <code>root.sh</code> 执行到进度 <code>19/19</code> 时，突然报错停止，报错内容为：kgfnGetConnDetails requires 4 parameters at&#x2F;u01&#x2F;app&#x2F;12.2.0&#x2F;grid&#x2F;lib&#x2F;asmcmdbase.pm line 5704，显示 <code>root.sh</code> 执行失败。</p><p><img src="https://img-blog.csdnimg.cn/7fff740d41ad4613a859184eb27a266e.png"></p><p>此时，我不认命的觉得它安装成功，去试了下 <code>asmcmd</code> 命令，我直接裂开了 😵！</p><p><img src="https://img-blog.csdnimg.cn/144e5423ed5d44d3920fc6934a8f8815.png"></p><p>好吧，放下书包，看报错日志，然后 <code>MOS</code> 一通发现了下面这些文档，以供参考：</p><ul><li>install.sh Hung And root.sh Is Failing At asmcmd lsdg –suppressheader While Installing A Zone With Clusterware (Doc ID 2414241.1)</li><li>ASMCMD Failing With “KGFNGETCONNDETAILS Requires 4 Parameters at <GI_HOME>&#x2F;lib&#x2F;asmcmdbase.pm (Doc ID 2748316.1)</li></ul><p>这个问题还算简单，但是还要卸载重装一遍，最后经过九九八一难，使出九牛二虎之力，终于把 Grid 软件安装成功了，后面 Oracle 软件安装和建库都尤为顺利。</p><h1 id="二、说说如何避坑"><a href="#二、说说如何避坑" class="headerlink" title="二、说说如何避坑"></a>二、说说如何避坑</h1><p>聊完了有哪些坑，下面当然要说说怎么避开了！</p><h2 id="applyPSU"><a href="#applyPSU" class="headerlink" title="applyPSU"></a>applyPSU</h2><p>之前坑 2 有个 MOS 说要使用 <code>applyOneOffs</code> 打补丁来修复，于是就去搜了一下这个参数的用法，发现可以在 <code>Grid</code> 软件安装前打上补丁，顺带着还发现了 <code>applyPSU</code>，感觉找到了出路！</p><p>当时我使用 MOS 的方式进行单个补丁修复，结果一个又一个，感觉没完了一样，后来转念一想，<code>PSU</code> 季度补丁是包含之前的 BUG 修复补丁的，直接使用 <code>applyPSU</code> 提前打上季度补丁来进行修复，就没那么多问题，值得一试！</p><ul><li>How to Apply a Grid Infrastructure Patch Before Grid Infrastructure Configuration (before root.sh or rootupgrade.sh or gridsetup.bat) is Executed (Doc ID 1410202.1)</li></ul><p>参考上述 MOS 文档，有详细的介绍和使用方法。</p><h2 id="修复坑1、2"><a href="#修复坑1、2" class="headerlink" title="修复坑1、2"></a>修复坑1、2</h2><p>通过 <code>12C</code> 开始支持的 <code>applyPSU</code> 方式，提前给 <code>Grid</code> 软件打上最新的季度 <code>PSU</code> 补丁，修复坑 1，2 的 <code>BUG</code>：</p><p><strong>1、解压 OPatch 补丁包</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## grid 用户下执行解压，覆盖 OPatch 旧版本</span></span><br><span class="line">unzip -o /soft/p6880880_122010_Linux-x86-64.zip -d /u01/app/12.2.0/grid/</span><br></pre></td></tr></table></figure><p><strong>2、查看 OPatch 补丁包版本</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## grid 用户下执行</span></span><br><span class="line">/u01/app/12.2.0/grid/OPatch/opatch version</span><br><span class="line"></span><br><span class="line">OPatch Version: 12.2.0.1.24</span><br></pre></td></tr></table></figure><p><strong>3、解压最新 PSU 补丁</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## grid 用户下执行</span></span><br><span class="line">unzip /soft/p32226491_122010_Linux-x86-64.zip -d /soft</span><br></pre></td></tr></table></figure><p><strong>📢 注意：</strong> 由于本文是在 2021年1月份写的，所以补丁包版本非最新，请下载当前最新的 PSU 补丁包！</p><p><strong>4、执行 Grid 软件安装</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## grid 用户下执行</span></span><br><span class="line">./gridSetup.sh -applyPSU /soft/32226491</span><br><span class="line"></span><br><span class="line">Preparing the home to patch...</span><br><span class="line">Applying the patch /soft/32226491/...</span><br><span class="line">Successfully applied the patch.</span><br><span class="line">The <span class="built_in">log</span> can be found at: /u01/app/oraInventory/logs/GridSetupActions2021-04-01_04-18-54PM/installerPatchActions_2021-04-01_04-18-54PM.log</span><br><span class="line">Launching Oracle Grid Infrastructure Setup Wizard...</span><br></pre></td></tr></table></figure><p>通过上述命令执行结果，可以看到成功安装了 PSU 补丁后才开始安装 Grid 软件！</p><p><strong>📢 注意：</strong> 当通过上述方式提前安装了 PSU 补丁后，后面简直可以说是一帆风顺，直到执行 root.sh 到最后一步，遇到了坑 3。</p><h2 id="修复坑-3"><a href="#修复坑-3" class="headerlink" title="修复坑 3"></a>修复坑 3</h2><p>这个问题很简单，只需要执行一行命令即可，但是要注意执行命令的时机。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 在 root 用户下执行，需要提前配置 grid 软件的 ORACLE_HOME 环境变量</span></span><br><span class="line">/usr/bin/make -f <span class="variable">$ORACLE_HOME</span>/rdbms/lib/ins_rdbms.mk client_sharedlib libasmclntsh12.ohso libasmperl12.ohso ORACLE_HOME=<span class="variable">$ORACLE_HOME</span></span><br></pre></td></tr></table></figure><p><strong>执行顺序：</strong></p><p>当 Grid 软件安装 **<font color='orage'>执行到出现 <code>root.sh</code> 提示框时</font>**，执行以上命令，📢 需在两个节点以<code>root</code> 身份执行该命令，<code>ORACLE_HOME</code> 路径请根据实际情况填写！确保所有节点执行完之后，再执行 <code>root.sh</code>，就可以完美修复坑 3。</p><p><strong>接下来，就是顺风顺水，常规安装步骤了！不过，有 19C 了谁还用 12C 呢？😎</strong></p><h1 id="三、知识拓展"><a href="#三、知识拓展" class="headerlink" title="三、知识拓展"></a>三、知识拓展</h1><p>咱们上面讲的几个坑，说白了都是 <code>BUG</code>，解决方案都是通过补丁来修复。事后我就在想，<strong>官方为什么不在安装之前先把补丁都打上呢？<font color='orage'>这样不就可以避免这些 BUG 报错嘛！</font></strong></p><p><strong>于是，我在试着整了一版打好 PSU 的 12C GRID 安装包，下面介绍一下如何操作！</strong></p><h2 id="1、实现依据"><a href="#1、实现依据" class="headerlink" title="1、实现依据"></a>1、实现依据</h2><p>通过以下👇🏻 两个参数可以将基础安装包和补丁包进行集成打包。</p><ul><li>Oracle 12C开始支持Grid安装前安装PSU补丁：-applyPSU</li><li>Oracle 18C&#x2F;19C支持Grid&#x2F;Oracle安装前安装RU补丁：-applyRU</li></ul><p><strong>集成目的：</strong> 安装时可以省去安装补丁的步骤，直接解压集成安装包安装即可！</p><h2 id="2、实现方式"><a href="#2、实现方式" class="headerlink" title="2、实现方式"></a>2、实现方式</h2><p>以下举例 <code>12CR2 Grid</code> 集成补丁包 <code>32540149</code> 步骤：</p><p><strong>1、上传安装介质</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##Grid基础安装包</span></span><br><span class="line">LINUX.X64_122010_grid_home.zip</span><br><span class="line"><span class="comment">##OPatch补丁包</span></span><br><span class="line">p6880880_122010_Linux-x86-64.zip</span><br><span class="line"><span class="comment">##PSU补丁包</span></span><br><span class="line">p32540149_122010_Linux-x86-64.zip</span><br><span class="line"><span class="comment">##Oracle一键配置脚本</span></span><br><span class="line">OracleShellInstall.sh</span><br></pre></td></tr></table></figure><p><strong>2、配置主机环境</strong></p><p>使用我编写的 Oracle 一键安装脚本进行环境配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">./OracleShellInstall.sh -i 10.211.55.100 `<span class="comment">#Public ip`\</span></span><br><span class="line">-n restart `<span class="comment"># hostname`\</span></span><br><span class="line">-o nocdb `<span class="comment"># oraclesid`\</span></span><br><span class="line">-gp oracle `<span class="comment"># grid user password`\</span></span><br><span class="line">-op oracle `<span class="comment"># oracle user password`\</span></span><br><span class="line">-b /oracle/app `<span class="comment"># install basedir`\</span></span><br><span class="line">-s AL32UTF8 `<span class="comment"># characterset`\</span></span><br><span class="line">-m Y</span><br></pre></td></tr></table></figure><p><strong>​3、安装补丁</strong></p><p>分别解压 <code>OPatch</code> 补丁包和 <code>PSU</code> 补丁包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##解压更新OPatch包</span></span><br><span class="line">unzip -o p6880880_122010_Linux-x86-64.zip -d /oracle/app/12.2.0/grid</span><br><span class="line"><span class="built_in">chown</span> -R grid:oinstall /oracle/app/12.2.0/grid/OPatch</span><br><span class="line"></span><br><span class="line"><span class="comment">##解压PSU补丁包</span></span><br><span class="line">unzip p32540149_122010_Linux-x86-64.zip /soft</span><br><span class="line"><span class="built_in">chown</span> -R grid:oinstall /soft/32540149</span><br></pre></td></tr></table></figure><p>Grid 安装好补丁，但是不执行安装过程：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">su - grid -c <span class="string">&quot;/oracle/app/12.2.0/grid/gridSetup.sh -applyPSU /soft/32540149&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 安装成功后</span></span><br><span class="line"><span class="comment">## 1.修复bug：</span></span><br><span class="line"><span class="comment">## [INS-42505] The installer has detected that the Oracle Grid Infrastructure home software at (/oracle/GRID/12201) is not complete. (Doc ID 2697235.1)</span></span><br><span class="line"><span class="built_in">mv</span> <span class="variable">$ORACLE_HOME</span>/install/files.lst <span class="variable">$ORACLE_HOME</span>/install/files.lst.bak</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/6e63a2a37d8747489bcd050a575fcf21.png"></p><p><strong>📢 注意：</strong> 上面遇到这个小 BUG，也可以无视，没有什么大影响。</p><p><strong>4、压缩 ORACLE_HOME 目录</strong></p><p>这里我将安装好的 Grid ORACLE_HOME 压缩打包成 <code>zip</code> 安装包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /oracle/app/12.2.0/grid/</span><br><span class="line">zip -r LINUX.X64_122010_grid_home_32540149.zip *</span><br><span class="line"><span class="built_in">mv</span> LINUX.X64_122010_grid_home_32540149.zip /soft</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/4539b02f4b174f95b7081ade147028e9.png"></p><p><strong><font color='orage'>至此，基础安装包和补丁包集成成功。</font></strong></p><h2 id="3、安装测试"><a href="#3、安装测试" class="headerlink" title="3、安装测试"></a>3、安装测试</h2><p>这里我们打开一台新的主机进行安装测试。</p><p><strong>1、上传集成安装包等介质</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##Grid集成安装包</span></span><br><span class="line">LINUX.X64_122010_grid_home_32540149.zip</span><br><span class="line"><span class="comment">##Oracle一键配置脚本</span></span><br><span class="line">OracleShellInstall.sh</span><br></pre></td></tr></table></figure><p><strong>2、主机环境初始化配置</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##iscsi挂载共享盘</span></span><br><span class="line">iscsiadm -m discovery -t st -p 10.211.55.22</span><br><span class="line">iscsiadm -m node -T iqn.2008-08.com.starwindsoftware:10.211.55.22-lucifer -p 10.211.55.22 -l</span><br><span class="line"> </span><br><span class="line"><span class="comment">##重命名安装包</span></span><br><span class="line"><span class="built_in">mv</span> LINUX.X64_122010_grid_home_32540149.zip LINUX.X64_122010_grid_home.zip</span><br><span class="line"> </span><br><span class="line"><span class="comment">##执行脚本初始化配置</span></span><br><span class="line"><span class="built_in">cd</span> /soft</span><br><span class="line">./OracleShellInstall.sh -i 10.211.55.100 `<span class="comment">#Public ip`\</span></span><br><span class="line">-n restart `<span class="comment"># hostname`\</span></span><br><span class="line">-o nocdb `<span class="comment"># oraclesid`\</span></span><br><span class="line">-gp oracle `<span class="comment"># grid user password`\</span></span><br><span class="line">-op oracle `<span class="comment"># oracle user password`\</span></span><br><span class="line">-b /u01/app `<span class="comment"># install basedir`\</span></span><br><span class="line">-s AL32UTF8 `<span class="comment"># characterset`\</span></span><br><span class="line">-<span class="built_in">dd</span> /dev/sdc `<span class="comment"># asm data disk`\</span></span><br><span class="line">-dn DATA `<span class="comment"># asm data diskgroupname`\</span></span><br><span class="line">-dr EXTERNAL `<span class="comment"># asm data redundancy`\</span></span><br><span class="line">-m Y</span><br></pre></td></tr></table></figure><p><strong>3、安装 Grid 软件</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">su - grid</span><br><span class="line"><span class="built_in">cd</span> /oracle/app/12.2.0/grid/</span><br><span class="line">./gridSetup.sh</span><br></pre></td></tr></table></figure><p>执行 <code>root.sh</code> 前执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 2.修复bug:ASMCMD Failing With &quot;KGFNGETCONNDETAILS Requires 4 Parameters at &lt;GI_HOME&gt;/lib/asmcmdbase.pm (Doc ID 2748316.1)</span></span><br><span class="line"><span class="built_in">export</span> ORACLE_HOME=/u01/app/12.2.0/grid</span><br><span class="line">/usr/bin/make -f <span class="variable">$ORACLE_HOME</span>/rdbms/lib/ins_rdbms.mk client_sharedlib libasmclntsh12.ohso libasmperl12.ohso ORACLE_HOME=<span class="variable">$ORACLE_HOME</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/e1107cd86032427f85a33fc0594b8518.png"></p><p>顺利安装完毕！虽然实际用处不大，也算是一个思路吧，可以节省一些时间。</p><h1 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h1><p>Oracle 学习路漫漫，茫茫文档需要看，直觉前路要变宽，到头还被 BUG 绊！😂</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Oracle </category>
          
          <category> RAC </category>
          
          <category> 12C </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Oracle </tag>
            
            <tag> RAC </tag>
            
            <tag> 12C </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>一步步教你 Linux 7 安装 Oracle 11GR2 RAC</title>
      <link href="/post/1ae1443c.html"/>
      <url>/post/1ae1443c.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p><strong><font color='orage'>Oracle RAC是什么?</font></strong></p><ul><li>Oracle Real Application Clusters (RAC) 允许客户跨多台服务器运行单个 Oracle 数据库，以最大限度地提高可用性并实现水平可扩展性，同时访问共享存储。</li><li>连接到 Oracle RAC 实例的用户会话可以在中断期间进行故障转移并安全地重放更改，而无需对最终用户应用程序进行任何更改，从而对最终用户隐藏了中断的影响。</li></ul><p><img src="https://img-blog.csdnimg.cn/20210612235829184.png"></p><ul><li>Oracle RAC 运行于集群之上，为 Oracle 数据库提供了最高级别的可用性、可伸缩性和低成本计算能力。</li><li>如果集群内的一个节点发生故障，Oracle 将可以继续在其余的节点上运行。</li><li>Oracle 的主要创新是一项称为高速缓存合并的技术。</li><li>高速缓存合并使得集群中的节点可以通过高速集群互联高效地同步其内存高速缓存，从而最大限度地低降低磁盘 I&#x2F;O。</li><li>高速缓存最重要的优势在于它能够使集群中所有节点的磁盘共享对所有数据的访问,数据无需在节点间进行分区。</li></ul><p><strong><font color='orage'>特点：</font></strong></p><ul><li>多台互连计算机组成，使用共享存储。</li><li>用户无感知，对于最终用户和应用程序而言，它们似乎是一台服务器。</li><li>高可用，只要有一个节点存活，就能正常对外提供服务，避免单点故障。</li><li>高性能，多节点负载均衡。</li><li>易伸缩，可以容易地添加、删除节点，以满足系统自身的调整。</li></ul><p><strong><font color='blue'>那么，如何部署一套RAC数据库环境呢？</font></strong></p><p><strong>大致步骤如下：</strong></p><ul><li>安装两台redhat7.3版本Linux系统（物理内存至少2G）</li><li>网络配置（双网卡，准备IP：Public IP，Virtual IP，Private IP，Scan IP）</li><li>存储配置（6块5G共享盘做ASM盘，根目录留50G用于安装grid和oracle）</li><li>预安装准备（系统参数&#x2F;etc&#x2F;sysctl.conf修改，防火墙selinux关闭，ntpd时钟定时同步，yum源配置安装<br>用户组及用户、目录新建，环境变量配置，用户资源限制&#x2F;etc&#x2F;security&#x2F;limits.conf配置，&#x2F;etc&#x2F;pam.d&#x2F;login修改pam_limits.so等等）</li><li>安装Grid软件</li><li>安装Oracle软件并建库</li><li>修改数据库内存配置，密码不过期，开启归档，布置归档定时删除脚本，布置rman备份机制)</li></ul><p><img src="https://img-blog.csdnimg.cn/20210613001253755.png"></p><p><strong><font color='red'>更多更详细的脚本使用方式可以订阅专栏：</font><a href="https://blog.csdn.net/m0_50546016/category_11127389.html">Oracle一键安装脚本</a>。</strong></p><h1 id="安装前配置"><a href="#安装前配置" class="headerlink" title="安装前配置"></a>安装前配置</h1><p>本文主机配置为 <code>Redhat 7.3 x86_64</code>，<code>内存2G</code>，<code>硬盘100G</code> ，<code>双网卡</code> ，<code>iscsi共享存储盘5G*6</code>！</p><table><thead><tr><th>节点</th><th>主机版本</th><th>主机名</th><th>实例名</th><th>Oracle版本</th><th>Public IP</th><th>Private IP</th><th>Virtual IP</th><th>Scan IP</th></tr></thead><tbody><tr><td>节点一</td><td>redhat 7.3</td><td>rac01</td><td>orcl1</td><td>11.2.0.4</td><td>192.168.56.10</td><td>172.0.0.1</td><td>192.168.56.20</td><td>192.168.56.110</td></tr><tr><td>节点二</td><td>redhat 7.3</td><td>rac02</td><td>orcl2</td><td>11.2.0.4</td><td>192.168.56.11</td><td>172.0.0.2</td><td>192.168.56.21</td><td>192.168.56.110</td></tr></tbody></table><p><strong>注意：</strong> 以下标题中（rac01&amp;rac02）代表节点一和节点二都需要执行，（rac01）代表只需要节点一执行。</p><h2 id="Linux主机安装（rac01-amp-rac02）"><a href="#Linux主机安装（rac01-amp-rac02）" class="headerlink" title="Linux主机安装（rac01&amp;rac02）"></a>Linux主机安装（rac01&amp;rac02）</h2><p>安装 Linux 服务器可选择：Centos，Redhat，Oracle Linux。</p><ul><li>RedHat下载：<a href="https://developers.redhat.com/products/rhel/download">https://developers.redhat.com/products/rhel/download</a></li><li>OracleLinux下载：<a href="https://yum.oracle.com/oracle-linux-isos.html">https://yum.oracle.com/oracle-linux-isos.html</a></li><li>Centos下载：<a href="https://vault.centos.org/">https://vault.centos.org/</a></li></ul><p><strong>📢 注意：</strong> 上述 <strong>Linux 安装包</strong> 和 <strong>Oracle 安装包</strong> 可点击链接跳转获取：</p><p><strong><code>Linux 安装包</code>：</strong> <a href="https://mp.weixin.qq.com/s/PFKkftgaTWpJKCnhI3uxZw">https://mp.weixin.qq.com/s/PFKkftgaTWpJKCnhI3uxZw</a></p><p><strong><code>Oracle 安装包</code>：</strong> <a href="https://mp.weixin.qq.com/s/ECJelOb6NUjZjpUvUa17pg">https://mp.weixin.qq.com/s/ECJelOb6NUjZjpUvUa17pg</a></p><p><img src="https://img-blog.csdnimg.cn/20210613002936736.png"></p><p><strong>📢 注意：</strong> Linux 系统的安装本文不做详细演示！</p><h2 id="配置-yum-源并安装依赖包（rac01-amp-rac02）"><a href="#配置-yum-源并安装依赖包（rac01-amp-rac02）" class="headerlink" title="配置 yum 源并安装依赖包（rac01&amp;rac02）"></a>配置 yum 源并安装依赖包（rac01&amp;rac02）</h2><p>Linux远程连接工具：</p><ul><li>本文将使用 XShell 和 Xftp 工具，安装包可以在官网下载。</li><li>其他工具也可以，比如：putty，SecureCRT 等等工具。</li></ul><p>Parallels Desktop挂载Linux主机镜像：</p><p><img src="https://img-blog.csdnimg.cn/20210613010127147.png"></p><p>VMware Workstation挂载Linux镜像：</p><p><img src="https://img-blog.csdnimg.cn/20210613010232723.png"></p><p><strong>注意：</strong> 需要提前挂载系统镜像。</p><p>挂载镜像源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">mount /dev/cdrom /mnt</span><br><span class="line"><span class="comment">##配置yum源</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/etc/yum.repos.d/local.repo</span></span><br><span class="line"><span class="string">[local]</span></span><br><span class="line"><span class="string">name=local</span></span><br><span class="line"><span class="string">baseurl=file:///mnt</span></span><br><span class="line"><span class="string">gpgcheck=0</span></span><br><span class="line"><span class="string">enabled=1</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><p>安装依赖包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall -y <span class="string">&quot;Server with GUI&quot;</span></span><br><span class="line">yum install -y bc \</span><br><span class="line">binutils \</span><br><span class="line">compat-libcap1 \</span><br><span class="line">compat-libstdc++-33 \</span><br><span class="line">gcc \</span><br><span class="line">gcc-c++ \</span><br><span class="line">elfutils-libelf \</span><br><span class="line">elfutils-libelf-devel \</span><br><span class="line">glibc \</span><br><span class="line">glibc-devel \</span><br><span class="line">ksh \</span><br><span class="line">libaio \</span><br><span class="line">libaio-devel \</span><br><span class="line">libgcc \</span><br><span class="line">libstdc++ \</span><br><span class="line">libstdc++-devel \</span><br><span class="line">libxcb \</span><br><span class="line">libX11 \</span><br><span class="line">libXau \</span><br><span class="line">libXi \</span><br><span class="line">libXtst \</span><br><span class="line">libXrender \</span><br><span class="line">libXrender-devel \</span><br><span class="line">make \</span><br><span class="line">net-tools \</span><br><span class="line">nfs-utils \</span><br><span class="line">smartmontools \</span><br><span class="line">sysstat \</span><br><span class="line">e2fsprogs \</span><br><span class="line">e2fsprogs-libs \</span><br><span class="line">fontconfig-devel \</span><br><span class="line">expect \</span><br><span class="line">unzip \</span><br><span class="line">openssh-clients \</span><br><span class="line">readline* \</span><br><span class="line">tigervnc* \</span><br><span class="line">psmisc --skip-broken</span><br></pre></td></tr></table></figure><p>手动上传并安装依赖包：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpm -ivh compat-libstdc++-33-3.2.3-72.el7.x86_64.rpm</span><br><span class="line">rpm -e ksh-20120801-142.el7.x86_64</span><br><span class="line">rpm -ivh pdksh-5.2.14-37.el5.x86_64.rpm</span><br></pre></td></tr></table></figure><p>检查依赖包安装情况：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rpm -q bc binutils compat-libcap1 compat-libstdc++-33 gcc gcc-c++ elfutils-libelf elfutils-libelf-devel glibc glibc-devel ksh libaio libaio-devel libgcc libstdc++ libstdc++-devel libxcb libX11 libXau libXi libXtst libXrender libXrender-devel make net-tools nfs-utils smartmontools sysstat e2fsprogs e2fsprogs-libs fontconfig-devel expect unzip openssh-clients readline | grep <span class="string">&quot;not installed&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613014702237.png"></p><p>确保依赖包均已成功安装！</p><h2 id="网络配置"><a href="#网络配置" class="headerlink" title="网络配置"></a>网络配置</h2><p>Linux 7 版本可以使用 <code>nmcli</code> 命令来配置网络，以下命令中的 <strong>IP地址、子网掩码、网关</strong> 和 <strong>网卡名称</strong> 请根据实际情况进行修改！</p><p><strong>rac01：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##配置Public IP</span></span><br><span class="line">nmcli connection modify eth0 ipv4.addresses 192.168.56.10/24 ipv4.gateway 192.168.56.1 ipv4.method manual autoconnect <span class="built_in">yes</span></span><br><span class="line"><span class="comment">##配置Private IP</span></span><br><span class="line">nmcli connection modify eth1 ipv4.addresses 172.0.0.1/24 ipv4.method manual autoconnect <span class="built_in">yes</span></span><br><span class="line"><span class="comment">##生效</span></span><br><span class="line">nmcli connection up eth0</span><br><span class="line">nmcli connection up eth1</span><br></pre></td></tr></table></figure><p><strong>rac02：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##配置Public IP</span></span><br><span class="line">nmcli connection modify eth0 ipv4.addresses 192.168.56.11/24 ipv4.gateway 192.168.56.1 ipv4.method manual autoconnect <span class="built_in">yes</span></span><br><span class="line"><span class="comment">##配置Private IP</span></span><br><span class="line">nmcli connection modify eth1 ipv4.addresses 172.0.0.2/24 ipv4.method manual autoconnect <span class="built_in">yes</span></span><br><span class="line"><span class="comment">##生效</span></span><br><span class="line">nmcli connection up eth0</span><br><span class="line">nmcli connection up eth1</span><br></pre></td></tr></table></figure><p>最后，配置好网络后，输入命令 <code>ip a</code> 查看网络是否配置成功，尝试 <code>ping</code> 测试网络。</p><h2 id="存储配置（rac01-amp-rac02）"><a href="#存储配置（rac01-amp-rac02）" class="headerlink" title="存储配置（rac01&amp;rac02）"></a>存储配置（rac01&amp;rac02）</h2><p><strong><font color='orage'>Windows 下配置 ISCSI 共享存储可参考： </font> <a href="http://luciferlpc.top/post/b153d9c4.html">一步步教你Windows配置ISCSI共享存储</a></strong></p><p>配置好共享存储后，在 Linux 主机连接共享存储：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##iscsi识别共享存储</span></span><br><span class="line">yum install -y iscsi-initiator-utils*</span><br><span class="line"><span class="comment">##输出targetname，10.211.55.18为iscsi共享存储设备IP地址</span></span><br><span class="line">iscsiadm -m discovery -t st -p 10.211.55.18</span><br><span class="line"><span class="comment">##连接共享存储</span></span><br><span class="line">iscsiadm -m node -T iqn.2008-08.com.starwindsoftware:10.211.55.18-lucifer -p 10.211.55.18 -l</span><br><span class="line">lsblk</span><br></pre></td></tr></table></figure><p>安装 <code>multipath</code> 绑定多路径：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">yum install -y device-mapper*</span><br><span class="line">mpathconf --<span class="built_in">enable</span> --with_multipathd y</span><br><span class="line"><span class="comment">##查看共享盘的scsi_id</span></span><br><span class="line">/usr/lib/udev/scsi_id -g -u /dev/sdb</span><br><span class="line">/usr/lib/udev/scsi_id -g -u /dev/sdc</span><br><span class="line">/usr/lib/udev/scsi_id -g -u /dev/sdd</span><br><span class="line">/usr/lib/udev/scsi_id -g -u /dev/sde</span><br><span class="line">/usr/lib/udev/scsi_id -g -u /dev/sdf</span><br><span class="line">/usr/lib/udev/scsi_id -g -u /dev/sdg</span><br></pre></td></tr></table></figure><p>配置 multipath 文件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;/etc/multipath.conf</span></span><br><span class="line"><span class="string">defaults &#123;</span></span><br><span class="line"><span class="string">    user_friendly_names yes</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">blacklist &#123;</span></span><br><span class="line"><span class="string">  devnode &quot;^sda&quot;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">multipaths &#123;</span></span><br><span class="line"><span class="string">  multipath &#123;</span></span><br><span class="line"><span class="string">  wwid &quot;27e2b3ddbd14752bb&quot;</span></span><br><span class="line"><span class="string">  alias ocr_1</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  multipath &#123;</span></span><br><span class="line"><span class="string">  wwid &quot;27e2b3ddb87ff88ee&quot;</span></span><br><span class="line"><span class="string">  alias ocr_2</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  multipath &#123;</span></span><br><span class="line"><span class="string">  wwid &quot;27e2b3ddb39fd2463&quot;</span></span><br><span class="line"><span class="string">  alias ocr_3</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  multipath &#123;</span></span><br><span class="line"><span class="string">  wwid &quot;2852b96c1283206bf6&quot;</span></span><br><span class="line"><span class="string">  alias data_1</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  multipath &#123;</span></span><br><span class="line"><span class="string">  wwid &quot;2852b96c12e8449cb9&quot;</span></span><br><span class="line"><span class="string">  alias data_2</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  multipath &#123;</span></span><br><span class="line"><span class="string">  wwid &quot;2852b96c12fc938e95&quot;</span></span><br><span class="line"><span class="string">  alias data_3</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><p><strong>📢 注意：</strong> wwid的值为上面获取的scsi_id，alias可自定义，这里配置3块OCR盘，3块DATA盘！</p><p>激活multipath多路径：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">multipath -F</span><br><span class="line">multipath -v2</span><br><span class="line">multipath -ll</span><br></pre></td></tr></table></figure><p>配置UDEV绑盘：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ocr_* data_*; <span class="keyword">do</span></span><br><span class="line"><span class="built_in">printf</span> <span class="string">&quot;%s %s\n&quot;</span> <span class="string">&quot;<span class="variable">$i</span>&quot;</span> <span class="string">&quot;<span class="subst">$(udevadm info --query=all --name=/dev/mapper/<span class="string">&quot;<span class="variable">$i</span>&quot;</span> | grep -i dm_uuid)</span>&quot;</span> &gt;&gt;/dev/mapper/udev_info</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="keyword">while</span> <span class="built_in">read</span> -r line; <span class="keyword">do</span></span><br><span class="line">dm_uuid=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$line</span>&quot;</span> | awk -F<span class="string">&#x27;=&#x27;</span> <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">disk_name=$(<span class="built_in">echo</span> <span class="string">&quot;<span class="variable">$line</span>&quot;</span> | awk <span class="string">&#x27;&#123;print $1&#125;&#x27;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;KERNEL==\&quot;dm-*\&quot;,ENV&#123;DM_UUID&#125;==\&quot;<span class="variable">$&#123;dm_uuid&#125;</span>\&quot;,SYMLINK+=\&quot;asm_<span class="variable">$&#123;disk_name&#125;</span>\&quot;,OWNER=\&quot;grid\&quot;,GROUP=\&quot;asmadmin\&quot;,MODE=\&quot;0660\&quot;&quot;</span> &gt;&gt;/etc/udev/rules.d/99-oracle-asmdevices.rules</span><br><span class="line"><span class="keyword">done</span> &lt;/dev/mapper/udev_info</span><br><span class="line"><span class="comment">##重载udev</span></span><br><span class="line">udevadm control --reload-rules</span><br><span class="line">udevadm trigger --<span class="built_in">type</span>=devices</span><br></pre></td></tr></table></figure><p>确认配置完成后，分别在两个节点输入命令 <code>ls /dev/asm*</code> 查看是否已经成功绑定！</p><h2 id="hosts-文件配置（rac01-amp-rac02）"><a href="#hosts-文件配置（rac01-amp-rac02）" class="headerlink" title="hosts 文件配置（rac01&amp;rac02）"></a>hosts 文件配置（rac01&amp;rac02）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/etc/hosts</span></span><br><span class="line"><span class="string">#Public IP</span></span><br><span class="line"><span class="string">192.168.56.10 rac01</span></span><br><span class="line"><span class="string">192.168.56.11 rac02</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#Private IP</span></span><br><span class="line"><span class="string">172.0.0.1 rac01-priv</span></span><br><span class="line"><span class="string">172.0.0.2 rac02-priv</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#Vip IP</span></span><br><span class="line"><span class="string">192.168.56.20 rac01-vip</span></span><br><span class="line"><span class="string">192.168.56.21 rac02-vip</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">#Scan IP</span></span><br><span class="line"><span class="string">192.168.56.110 rac-scan</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><h2 id="防火墙配置（rac01-amp-rac02）"><a href="#防火墙配置（rac01-amp-rac02）" class="headerlink" title="防火墙配置（rac01&amp;rac02）"></a>防火墙配置（rac01&amp;rac02）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl stop firewalld.service</span><br><span class="line">systemctl <span class="built_in">disable</span> firewalld.service</span><br><span class="line">systemctl status firewalld.service</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613014752447.png"></p><h2 id="selinux-配置（rac01-amp-rac02）"><a href="#selinux-配置（rac01-amp-rac02）" class="headerlink" title="selinux 配置（rac01&amp;rac02）"></a>selinux 配置（rac01&amp;rac02）</h2><p>配置 selinux 临时生效： </p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##重启后生效</span></span><br><span class="line">sed -i <span class="string">&#x27;s/SELINUX=enforcing/SELINUX=disabled/g&#x27;</span> /etc/selinux/config</span><br><span class="line">setenforce 0</span><br><span class="line"><span class="comment">##重启后检查</span></span><br><span class="line">getenforce</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613014855647.png"></p><p><strong>📢 注意：</strong> selinux 配置需要重启生效！</p><h2 id="时间同步配置（rac01-amp-rac02）"><a href="#时间同步配置（rac01-amp-rac02）" class="headerlink" title="时间同步配置（rac01&amp;rac02）"></a>时间同步配置（rac01&amp;rac02）</h2><p>首先需要禁用 chronyd 和 ntpd 服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##禁用chronyd</span></span><br><span class="line">yum install -y chrony</span><br><span class="line">timedatectl set-timezone Asia/Shanghai</span><br><span class="line">systemctl stop chronyd.service</span><br><span class="line">systemctl <span class="built_in">disable</span> chronyd.service</span><br><span class="line"><span class="comment">##禁用ntpd</span></span><br><span class="line">yum install -y ntpdate</span><br></pre></td></tr></table></figure><p>配置计划任务，定时刷新系统时间：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##10.211.55.200为时间服务器IP，每天12点同步系统时间</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/var/spool/cron/root</span></span><br><span class="line"><span class="string">00 12 * * * /usr/sbin/ntpdate -u 10.211.55.200 &amp;&amp; /usr/sbin/hwclock -w</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment">##查看计划任务</span></span><br><span class="line">crontab -l</span><br><span class="line"><span class="comment">##手动执行</span></span><br><span class="line">/usr/sbin/ntpdate -u 10.211.55.200 &amp;&amp; /usr/sbin/hwclock -w</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613015038499.png"></p><h2 id="关闭透明大页和-NUMA（rac01-amp-rac02）"><a href="#关闭透明大页和-NUMA（rac01-amp-rac02）" class="headerlink" title="关闭透明大页和 NUMA（rac01&amp;rac02）"></a>关闭透明大页和 NUMA（rac01&amp;rac02）</h2><p>Linux 7 配置内核文件，关闭透明大页和numa：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/quiet/quiet transparent_hugepage=never numa=off/&#x27;</span> /etc/default/grub</span><br><span class="line">grub2-mkconfig -o /boot/grub2/grub.cfg</span><br><span class="line"><span class="comment">##重启后检查是否生效</span></span><br><span class="line"><span class="built_in">cat</span> /sys/kernel/mm/transparent_hugepage/enabled</span><br><span class="line"><span class="built_in">cat</span> /proc/cmdline</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2021061301513221.png"></p><p><strong>📢 注意：</strong> 关闭 <code>透明大页</code> 和 <code>numa</code> 的配置，需要重启主机生效！</p><h2 id="avahi-daemon-配置（rac01-amp-rac02）"><a href="#avahi-daemon-配置（rac01-amp-rac02）" class="headerlink" title="avahi-daemon 配置（rac01&amp;rac02）"></a>avahi-daemon 配置（rac01&amp;rac02）</h2><p>有些主机安装选择最小化安装，没有安装 avahi-daemon 功能，建议安装之后禁用，防止以后误操作导致出问题：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y avahi*</span><br><span class="line">systemctl stop avahi-daemon.socket</span><br><span class="line">systemctl stop avahi-daemon.service</span><br><span class="line">pgrep -f avahi-daemon | awk <span class="string">&#x27;&#123;print &quot;kill -9 &quot;$2&#125;&#x27;</span></span><br></pre></td></tr></table></figure><p>配置 NOZEROCONF：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/etc/sysconfig/network</span></span><br><span class="line"><span class="string">NOZEROCONF=yes</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613015233988.png"></p><h2 id="系统参数配置（rac01-amp-rac02）"><a href="#系统参数配置（rac01-amp-rac02）" class="headerlink" title="系统参数配置（rac01&amp;rac02）"></a>系统参数配置（rac01&amp;rac02）</h2><p>安装 Oracle 数据库需要配置系统参数，以下使用脚本命令一键式配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##配置参数文件</span></span><br><span class="line">memTotal=$(grep MemTotal /proc/meminfo | awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span>)</span><br><span class="line">totalMemory=$((memTotal / <span class="number">2048</span>))</span><br><span class="line">shmall=$((memTotal / <span class="number">4</span>))</span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$shmall</span> -lt 2097152 ]; <span class="keyword">then</span></span><br><span class="line">shmall=2097152</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line">shmmax=$((memTotal * <span class="number">1024</span> - <span class="number">1</span>))</span><br><span class="line"><span class="keyword">if</span> [ <span class="string">&quot;<span class="variable">$shmmax</span>&quot;</span> -lt 4294967295 ]; <span class="keyword">then</span></span><br><span class="line">shmmax=4294967295</span><br><span class="line"><span class="keyword">fi</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/etc/sysctl.conf</span></span><br><span class="line"><span class="string">fs.aio-max-nr = 1048576</span></span><br><span class="line"><span class="string">fs.file-max = 6815744</span></span><br><span class="line"><span class="string">kernel.shmall = $shmall</span></span><br><span class="line"><span class="string">kernel.shmmax = $shmmax</span></span><br><span class="line"><span class="string">kernel.shmmni = 4096</span></span><br><span class="line"><span class="string">kernel.sem = 250 32000 100 128</span></span><br><span class="line"><span class="string">net.ipv4.ip_local_port_range = 9000 65500</span></span><br><span class="line"><span class="string">net.core.rmem_default = 262144</span></span><br><span class="line"><span class="string">net.core.rmem_max = 4194304</span></span><br><span class="line"><span class="string">net.core.wmem_default = 262144</span></span><br><span class="line"><span class="string">net.core.wmem_max = 1048576</span></span><br><span class="line"><span class="string">net.ipv4.conf.eth0.rp_filter = 1</span></span><br><span class="line"><span class="string">net.ipv4.conf.eth1.rp_filter = 2</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment">##生效</span></span><br><span class="line">sysctl -p</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613015316589.png"></p><h2 id="系统资源限制配置（rac01-amp-rac02）"><a href="#系统资源限制配置（rac01-amp-rac02）" class="headerlink" title="系统资源限制配置（rac01&amp;rac02）"></a>系统资源限制配置（rac01&amp;rac02）</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##配置limits.conf</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/etc/security/limits.conf</span></span><br><span class="line"><span class="string">oracle soft nofile 1024</span></span><br><span class="line"><span class="string">oracle hard nofile 65536</span></span><br><span class="line"><span class="string">oracle soft stack 10240</span></span><br><span class="line"><span class="string">oracle hard stack 32768</span></span><br><span class="line"><span class="string">oracle soft nproc 2047</span></span><br><span class="line"><span class="string">oracle hard nproc 16384</span></span><br><span class="line"><span class="string">oracle hard memlock 134217728</span></span><br><span class="line"><span class="string">oracle soft memlock 134217728</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">grid soft nofile 1024</span></span><br><span class="line"><span class="string">grid hard nofile 65536</span></span><br><span class="line"><span class="string">grid soft stack 10240</span></span><br><span class="line"><span class="string">grid hard stack 32768</span></span><br><span class="line"><span class="string">grid soft nproc 2047</span></span><br><span class="line"><span class="string">grid hard nproc 16384</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment">##配置pam.d/login</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/etc/pam.d/login</span></span><br><span class="line"><span class="string">session required pam_limits.so </span></span><br><span class="line"><span class="string">session required /lib64/security/pam_limits.so</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/202106130156230.png"></p><p><img src="https://img-blog.csdnimg.cn/20210613015705547.png"></p><h2 id="用户及组、目录创建（rac01-amp-rac02）"><a href="#用户及组、目录创建（rac01-amp-rac02）" class="headerlink" title="用户及组、目录创建（rac01&amp;rac02）"></a>用户及组、目录创建（rac01&amp;rac02）</h2><p>创建安装 Oracle 数据库所需的用户、组以及安装目录：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##组创建</span></span><br><span class="line">/usr/sbin/groupadd -g 54321 oinstall</span><br><span class="line">/usr/sbin/groupadd -g 54322 dba</span><br><span class="line">/usr/sbin/groupadd -g 54323 oper</span><br><span class="line">/usr/sbin/groupadd -g 54324 backupdba</span><br><span class="line">/usr/sbin/groupadd -g 54325 dgdba</span><br><span class="line">/usr/sbin/groupadd -g 54326 kmdba</span><br><span class="line">/usr/sbin/groupadd -g 54327 asmdba</span><br><span class="line">/usr/sbin/groupadd -g 54328 asmoper</span><br><span class="line">/usr/sbin/groupadd -g 54329 asmadmin</span><br><span class="line">/usr/sbin/groupadd -g 54330 racdba</span><br><span class="line"><span class="comment">##用户创建</span></span><br><span class="line">/usr/sbin/useradd -u 11012 -g oinstall -G asmadmin,asmdba,asmoper,dba,racdba,oper grid</span><br><span class="line">/usr/sbin/useradd -u 54321 -g oinstall -G asmdba,dba,backupdba,dgdba,kmdba,racdba,oper oracle</span><br><span class="line"><span class="comment">##修改用户密码为oracle</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;oracle&quot;</span> |passwd oracle --stdin</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;oracle&quot;</span> |passwd grid --stdin</span><br><span class="line"><span class="comment">##创建软件目录</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /u01/app/11.2.0/grid</span><br><span class="line"><span class="built_in">mkdir</span> -p /u01/app/grid</span><br><span class="line"><span class="built_in">mkdir</span> -p /u01/app/oracle/product/11.2.0/db</span><br><span class="line"><span class="built_in">mkdir</span> -p /u01/app/oraInventory</span><br><span class="line"><span class="built_in">mkdir</span> -p /backup</span><br><span class="line"><span class="built_in">mkdir</span> -p /home/oracle/scripts</span><br><span class="line"><span class="built_in">chown</span> -R oracle:oinstall /backup</span><br><span class="line"><span class="built_in">chown</span> -R oracle:oinstall /home/oracle/scripts</span><br><span class="line"><span class="built_in">chown</span> -R grid:oinstall /u01</span><br><span class="line"><span class="built_in">chown</span> -R grid:oinstall /u01/app/grid</span><br><span class="line"><span class="built_in">chown</span> -R grid:oinstall /u01/app/11.2.0/grid</span><br><span class="line"><span class="built_in">chown</span> -R grid:oinstall /u01/app/oraInventory</span><br><span class="line"><span class="built_in">chown</span> -R oracle:oinstall /u01/app/oracle</span><br><span class="line"><span class="built_in">chmod</span> -R 775 /u01</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2021061301573766.png"></p><h2 id="环境变量配置（rac01-amp-rac02）"><a href="#环境变量配置（rac01-amp-rac02）" class="headerlink" title="环境变量配置（rac01&amp;rac02）"></a>环境变量配置（rac01&amp;rac02）</h2><p>提前配置 profile 文件：</p><p><strong>grid 用户：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/home/grid/.bash_profile</span></span><br><span class="line"><span class="string">################OracleBegin#########################</span></span><br><span class="line"><span class="string">umask 022</span></span><br><span class="line"><span class="string">export TMP=/tmp</span></span><br><span class="line"><span class="string">export TMPDIR=\$TMP</span></span><br><span class="line"><span class="string">export NLS_LANG=AMERICAN_AMERICA.AL32UTF8</span></span><br><span class="line"><span class="string">export ORACLE_BASE=/u01/app/grid</span></span><br><span class="line"><span class="string">export ORACLE_HOME=/u01/app/11.2.0/grid</span></span><br><span class="line"><span class="string">export ORACLE_TERM=xterm</span></span><br><span class="line"><span class="string">export TNS_ADMIN=\$ORACLE_HOME/network/admin</span></span><br><span class="line"><span class="string">export LD_LIBRARY_PATH=\$ORACLE_HOME/lib:/lib:/usr/lib</span></span><br><span class="line"><span class="string">export ORACLE_SID=+ASM1</span></span><br><span class="line"><span class="string">export PATH=/usr/sbin:\$PATH</span></span><br><span class="line"><span class="string">export PATH=\$ORACLE_HOME/bin:\$ORACLE_HOME/OPatch:\$PATH</span></span><br><span class="line"><span class="string">alias sas=&#x27;sqlplus / as sysasm&#x27;</span></span><br><span class="line"><span class="string">export PS1=&quot;[\`whoami\`@\`hostname\`:&quot;&#x27;\$PWD]\$ &#x27;</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><p><strong>📢 注意：</strong> 每个节点的 ORACLE_SID 不一样（+ASM1&#x2F;+ASM2），需要自行修改！</p><p><strong>oracle 用户：</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/home/oracle/.bash_profile</span></span><br><span class="line"><span class="string">################OracleBegin#########################</span></span><br><span class="line"><span class="string">umask 022</span></span><br><span class="line"><span class="string">export TMP=/tmp</span></span><br><span class="line"><span class="string">export TMPDIR=\$TMP</span></span><br><span class="line"><span class="string">export NLS_LANG=AMERICAN_AMERICA.AL32UTF8</span></span><br><span class="line"><span class="string">export ORACLE_BASE=/u01/app/oracle</span></span><br><span class="line"><span class="string">export ORACLE_HOME=\$ORACLE_BASE/product/11.2.0/db</span></span><br><span class="line"><span class="string">export ORACLE_HOSTNAME=rac01</span></span><br><span class="line"><span class="string">export ORACLE_TERM=xterm</span></span><br><span class="line"><span class="string">export TNS_ADMIN=\$ORACLE_HOME/network/admin</span></span><br><span class="line"><span class="string">export LD_LIBRARY_PATH=\$ORACLE_HOME/lib:/lib:/usr/lib</span></span><br><span class="line"><span class="string">export ORACLE_SID=orcl1</span></span><br><span class="line"><span class="string">export PATH=/usr/sbin:\$PATH</span></span><br><span class="line"><span class="string">export PATH=\$ORACLE_HOME/bin:\$ORACLE_HOME/OPatch:\$PATH</span></span><br><span class="line"><span class="string">alias sas=&#x27;sqlplus / as sysdba&#x27;</span></span><br><span class="line"><span class="string">export PS1=&quot;[\`whoami\`@\`hostname\`:&quot;&#x27;\$PWD]\$ &#x27;</span></span><br><span class="line"><span class="string">################OracleEnd#########################</span></span><br><span class="line"><span class="string">EOF</span></span><br></pre></td></tr></table></figure><p><strong>📢 注意：</strong> 每个节点的 ORACLE_HOSTNAME（rac01&#x2F;rac02）和 ORACLE_SID（orcl1&#x2F;orcl2）不一样，需要自行修改！</p><h2 id="安装介质上传解压（rac01）"><a href="#安装介质上传解压（rac01）" class="headerlink" title="安装介质上传解压（rac01）"></a>安装介质上传解压（rac01）</h2><p>安装包使用     XFTP 工具进行上传，只需要上传至一节点 &#x2F;soft 目录下：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##创建安装介质存放目录</span></span><br><span class="line"><span class="built_in">mkdir</span> /soft</span><br><span class="line"><span class="comment">##上传安装介质到/soft目录</span></span><br><span class="line">p13390677_112040_Linux-x86-64_1of7.zip</span><br><span class="line">p13390677_112040_Linux-x86-64_2of7.zip</span><br><span class="line">p13390677_112040_Linux-x86-64_3of7.zip</span><br><span class="line"><span class="comment">##解压安装介质</span></span><br><span class="line"><span class="built_in">cd</span> /soft</span><br><span class="line">unzip -q p13390677_112040_Linux-x86-64_1of7.zip</span><br><span class="line">unzip -q p13390677_112040_Linux-x86-64_2of7.zip</span><br><span class="line">unzip -q p13390677_112040_Linux-x86-64_3of7.zip</span><br><span class="line"><span class="comment">##授权目录</span></span><br><span class="line"><span class="built_in">chown</span> -R oracle:oinstall /soft/database</span><br><span class="line"><span class="built_in">chown</span> -R grid:oinstall /soft/grid</span><br><span class="line"><span class="comment">##root用户下，cvuqdisk安装（rac01&amp;rac02）</span></span><br><span class="line"><span class="built_in">cd</span> /soft/grid/rpm</span><br><span class="line">rpm -ivh cvuqdisk-1.0.9-1.rpm </span><br><span class="line"><span class="comment">##传输到节点二安装</span></span><br><span class="line">scp cvuqdisk-1.0.9-1.rpm rac2:/tmp</span><br><span class="line">rpm -ivh /tmp/cvuqdisk-1.0.9-1.rpm </span><br></pre></td></tr></table></figure><p><strong>📢 注意：</strong> 安装包只需要在节点一上传解压即可！</p><p><strong><font color='orage'>至此，准备工作已经完成。</font></strong></p><h1 id="安装-Grid-软件（rac01）"><a href="#安装-Grid-软件（rac01）" class="headerlink" title="安装 Grid 软件（rac01）"></a>安装 Grid 软件（rac01）</h1><p>配置 grid 用户 vnc 图形界面：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##root用户下切换到grid用户</span></span><br><span class="line">su - grid</span><br><span class="line"><span class="comment">##执行vncserver，按提示输入密码即可</span></span><br><span class="line">vncserver</span><br><span class="line"><span class="comment">##在vnc客户端界面输入192.168.56.10:1，输入刚才输入的密码即可连接。</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613023253366.png"></p><p><img src="https://img-blog.csdnimg.cn/2021061302334592.png"></p><p><img src="https://img-blog.csdnimg.cn/2021061302342734.png"></p><p>右键打开终端：</p><p><img src="https://img-blog.csdnimg.cn/20210613025049210.png"></p><p>开始安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##应用环境变量</span></span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="comment">##进入安装目录</span></span><br><span class="line"><span class="built_in">cd</span> /soft/grid</span><br><span class="line"><span class="comment">##执行安装程序开始安装，加上jar包防止弹窗不显示问题</span></span><br><span class="line">./runInstaller -jreLoc /etc/alternatives/jre_1.8.0</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613025243202.png"></p><p>跳过版本更新：</p><p><img src="https://img-blog.csdnimg.cn/2021061302443768.png"></p><p>选择集群模式安装：</p><p><img src="https://img-blog.csdnimg.cn/20210613024538329.png"></p><p>自定义模式安装：</p><p><img src="https://img-blog.csdnimg.cn/20210613024630691.png"></p><p>选择语言：</p><p><img src="https://img-blog.csdnimg.cn/20210613024721353.png"></p><p>修改集群名称和 scan 名称：</p><p><img src="https://img-blog.csdnimg.cn/20210613024800916.png"></p><p><strong>📢 注意：</strong> scan 名称必须与 &#x2F;etc&#x2F;hosts 中配置的 scan 名称保持一致！</p><p>配置 grid 用户节点间互信：</p><p><img src="https://img-blog.csdnimg.cn/20210613025330906.png"></p><p><strong>📢 注意：</strong> 点击 Add 添加节点二，pubile hostname 为 <code>rac02</code>，virtual hostname 为 <code>rac02-vip</code>，输入密码：<code>oracle</code>，点击 setup 开始互信。</p><p>点击Test测试互信：</p><p><img src="https://img-blog.csdnimg.cn/20210613025625243.png"></p><p>确认网络信息是否正确：</p><p><img src="https://img-blog.csdnimg.cn/20210613025708614.png"></p><p>选择ASM模式安装：</p><p><img src="https://img-blog.csdnimg.cn/20210613025758442.png"></p><p>填写 OCR 裁决盘信息：</p><p><img src="https://img-blog.csdnimg.cn/20210613025836198.png"></p><p><strong>📢 注意：</strong> OCR 裁决盘这里冗余模式 External，Normal，High 对应磁盘数量为 1，3，5。</p><p>填写 ASM 实例 SYS 用户密码为 oracle：</p><p><img src="https://img-blog.csdnimg.cn/20210613030105848.png"></p><p>不使用 IPMI：</p><p><img src="https://img-blog.csdnimg.cn/20210613030204351.png"></p><p>选择用户组，默认即可：</p><p><img src="https://img-blog.csdnimg.cn/20210613030257796.png"></p><p>选择grid安装目录，默认即可：</p><p><img src="https://img-blog.csdnimg.cn/20210707215805712.png"></p><p><img src="https://img-blog.csdnimg.cn/20210613030424840.png"></p><p>安装前预检查：</p><p><img src="https://img-blog.csdnimg.cn/20210613030513955.png"></p><p>开始执行安装：</p><p><img src="https://img-blog.csdnimg.cn/20210613030555819.png"></p><p><img src="https://img-blog.csdnimg.cn/20210613030634609.png"></p><p>执行 root 脚本：（rac01&amp;rac02）</p><p><img src="https://img-blog.csdnimg.cn/2021061303065717.png"></p><p><strong>📢 注意：</strong> Linux7 安装 Oracle 11GR2 版本，执行 root.sh 时存在 BUG：</p><p><img src="https://img-blog.csdnimg.cn/20210613032357659.png"></p><p>需要在执行 root.sh 之前安装补丁 <code>18370031</code> 来修复，<strong>补丁下载地址</strong>：</p><p><a href="https://pan.baidu.com/s/1f1nCwZxfeqsdWGKN1DiI9Q"  target="_blank" rel="noopener noreferrer"><font size="5" color="orage">https://pan.baidu.com/s/1f1nCwZxfeqsdWGKN1DiI9Q</a></font><br><strong>提取码: <code>wbtw</code></strong></p><p>18370031 补丁安装：（rac01&amp;rac02）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##上传补丁包</span></span><br><span class="line">p18370031_112040_Linux-x86-64.zip</span><br><span class="line"><span class="comment">##解压补丁包</span></span><br><span class="line"><span class="built_in">cd</span> /soft</span><br><span class="line">unzip -q p18370031_112040_Linux-x86-64.zip</span><br><span class="line"><span class="comment">##授权补丁包</span></span><br><span class="line"><span class="built_in">chown</span> -R grid:oinstall /soft/18370031</span><br><span class="line"><span class="comment">##开始安装补丁，两个节点都需要执行</span></span><br><span class="line">opatch napply -oh <span class="variable">$ORACLE_HOME</span> -<span class="built_in">local</span> /soft/18370031 -silent</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613032747188.png"></p><p><strong>📢 注意：</strong> 两个节点都需要安装补丁 <code>18370031</code>！</p><p>打好补丁后，开始执行 root.sh 脚本：（rac01&amp;rac02）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##root用户下执行</span></span><br><span class="line">/u01/app/oraInventory/orainstRoot.sh</span><br><span class="line">/u01/app/11.2.0/grid/root.sh</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613032534680.png"></p><p><font color='orage'><strong>执行过程太长，不做记录！</strong></font></p><p>由于我们没有配置 DNS 解析，因此下方的错误忽略即可：</p><p><img src="https://img-blog.csdnimg.cn/20210613032612268.png"></p><p><img src="https://img-blog.csdnimg.cn/20210613032819116.png"></p><p><img src="https://img-blog.csdnimg.cn/2021061303301445.png"></p><p><font color='orage'><strong>至此，Grid集群软件安装成功！</strong></font></p><p><font color='red'><strong>注意：</strong></font> 如果需要安装 <code>PSU</code> 补丁，建议在建库之前安装，可以省去数据字典升级的步骤！</p><p>以 Grid PSU 补丁 <code>31718723</code> 为例，使用 <code>root</code> 用户执行补丁安装命令：（rac01&amp;rac02）**</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##解压补丁包</span></span><br><span class="line"><span class="built_in">cd</span> /soft</span><br><span class="line">unzip -q p31718723_112040_Linux-x86-64.zip</span><br><span class="line"><span class="comment">##切换到root用户执行，需要拷贝到2节点也执行一次</span></span><br><span class="line">opatch auto /soft/31718723 -oh <span class="variable">$GRID_ORACLE_HOME</span></span><br></pre></td></tr></table></figure><p><strong>📢 注意：</strong> 需要先替换 grid 和 oracle 软件的 OPatch 包为最新版本，否则无法成功安装补丁！</p><h1 id="创建-ASM-数据盘-DATA"><a href="#创建-ASM-数据盘-DATA" class="headerlink" title="创建 ASM 数据盘 DATA"></a>创建 ASM 数据盘 DATA</h1><p>这里创建的 DATA 磁盘组主要用于存放数据文件、日志文件等数据库文件！</p><p>这里我们可以使用静默创建或者图形化方式创建：</p><p><strong>1、静默创建</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">asmca -silent -sysAsmPassword oracle -asmsnmpPassword oracle -oui_internal -configureASM -diskString <span class="string">&#x27;/dev/asm*&#x27;</span> -diskGroupName DATA -diskList /dev/asm_data_1,/dev/asm_data_2,/dev/asm_data_3 -redundancy NORMAL -au_size 1</span><br></pre></td></tr></table></figure><p><strong>2、图形化创建</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">asmca</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613033445602.png"></p><p>点击 create 创建 DATA：</p><p><img src="https://img-blog.csdnimg.cn/20210613033543142.png"></p><p>点击 OK 创建 DATA：</p><p><img src="https://img-blog.csdnimg.cn/20210613033609346.png"></p><p><img src="https://img-blog.csdnimg.cn/20210613033637985.png"></p><p><strong><font color='orage'>建议重启两台主机，检查重启后Grid集群是否正常运行！</font></strong></p><h1 id="安装Oracle软件"><a href="#安装Oracle软件" class="headerlink" title="安装Oracle软件"></a>安装Oracle软件</h1><p>配置 oracle 用户 vnc 图形界面：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##root用户下切换到grid用户</span></span><br><span class="line">su - oracle</span><br><span class="line"><span class="comment">##执行vncserver，按提示输入密码即可</span></span><br><span class="line">vncserver</span><br><span class="line"><span class="comment">##在vnc客户端界面输入192.168.56.10:2，输入刚才输入的密码即可连接。</span></span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/2021061303411966.png"></p><p><img src="https://img-blog.csdnimg.cn/20210613034243211.png">、</p><p><img src="https://img-blog.csdnimg.cn/2021061302342734.png"></p><p>右键打开终端：</p><p><img src="https://img-blog.csdnimg.cn/20210613025049210.png"></p><p>开始安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##应用环境变量</span></span><br><span class="line"><span class="built_in">source</span> ~/.bash_profile</span><br><span class="line"><span class="comment">##进入安装目录</span></span><br><span class="line"><span class="built_in">cd</span> /soft/database</span><br><span class="line"><span class="comment">##执行安装程序开始安装，加上jar包防止弹窗不显示问题</span></span><br><span class="line">./runInstaller -jreLoc /etc/alternatives/jre_1.8.0</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210613034521828.png"></p><p>不配置 Oracle 邮件发送：</p><p><img src="https://img-blog.csdnimg.cn/20210613034620690.png"></p><p>跳过软件更新：</p><p><img src="https://img-blog.csdnimg.cn/20210613034720155.png"></p><p>选择仅安装 oracle 软件：</p><p><img src="https://img-blog.csdnimg.cn/20210613034744112.png"></p><p>配置 oracle 用户互信：</p><p><img src="https://img-blog.csdnimg.cn/20210613034813256.png"></p><p>输入密码，点击 setup 开始，成功之后点击 Test 。</p><p><img src="https://img-blog.csdnimg.cn/20210613034938141.png"></p><p>选择语言：</p><p><img src="https://img-blog.csdnimg.cn/2021061303501023.png"></p><p>选择企业版安装：</p><p><img src="https://img-blog.csdnimg.cn/202106130350263.png"></p><p>检查用户组，默认即可：</p><p><img src="https://img-blog.csdnimg.cn/2021061303505343.png"></p><p>安装前预检查：</p><p><img src="https://img-blog.csdnimg.cn/2021061303514626.png"></p><p>开始安装 Oracle 软件：</p><p><img src="https://img-blog.csdnimg.cn/20210613035248217.png"></p><p><img src="https://img-blog.csdnimg.cn/20210613035331947.png"></p><p>报错解决：</p><p><img src="https://img-blog.csdnimg.cn/20210613035356111.png"></p><p><strong>📢 注意：</strong> Linux7 安装 Oracle 11GR2 版本，oracle 软件安装过程中报错：<code>ins_emagent.mk</code>，需要修改文件 <code>/sysman/lib/ins_emagent.mk</code> 来修复！</p><p>两个节点都执行以下命令，然后点击继续：（rac01&amp;rac02）</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i <span class="string">&#x27;s/^\(\s*\$(MK_EMAGENT_NMECTL)\)\s*$/\1 -lnnz11/g&#x27;</span> <span class="string">&quot;<span class="variable">$ORACLE_HOME</span>/sysman/lib/ins_emagent.mk</span></span><br></pre></td></tr></table></figure><p>执行 root.sh 脚本：（rac01&amp;rac02）</p><p><img src="https://img-blog.csdnimg.cn/2021061304003259.png"></p><p>点击下一步，安装成功：</p><p><img src="https://img-blog.csdnimg.cn/20210613040217772.png"></p><p><strong><font color='orage'>至此，Oracle 软件已成功安装！</font></strong></p><p><font color='red'><strong>注意：</strong></font> 如果需要安装 <code>PSU</code> 补丁，建议在建库之前安装，可以省去数据字典升级的步骤！</p><p>以 Grid PSU 补丁 <code>31718723</code> 为例，使用 <code>root</code> 用户执行补丁安装命令：（rac01&amp;rac02）**</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##解压补丁包</span></span><br><span class="line"><span class="built_in">cd</span> /soft</span><br><span class="line">unzip -q p31718723_112040_Linux-x86-64.zip</span><br><span class="line"><span class="comment">##切换到root用户执行，需要拷贝到2节点也执行一次</span></span><br><span class="line">opatch auto /soft/31718723 -oh <span class="variable">$ORACLE_ORACLE_HOME</span></span><br></pre></td></tr></table></figure><p><strong>📢 注意：</strong> 需要先替换 grid 和 oracle 软件的 OPatch 包为最新版本，否则无法成功安装补丁！</p><h1 id="创建数据库实例"><a href="#创建数据库实例" class="headerlink" title="创建数据库实例"></a>创建数据库实例</h1><p>在确保 grid 和 oracle 软件和补丁都已安装成功后，即可开始创建数据库实例！</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dbca</span><br></pre></td></tr></table></figure><p>选择 rac 模式：</p><p><img src="https://img-blog.csdnimg.cn/20210613040910147.png"></p><p>选择创建数据库：</p><p><img src="https://img-blog.csdnimg.cn/20210613040950213.png"></p><p>选择自定义模板：</p><p><img src="https://img-blog.csdnimg.cn/20210613041018746.png"></p><p><strong>📢 注意：</strong> 这里我选择的是 <code>Custom Database</code> 选项，可以自定义安装组件！</p><p>填写数据库实例 ID：</p><p><img src="https://img-blog.csdnimg.cn/2021061304110452.png"></p><p>关闭 EM，保留自动化系统 JOB：</p><p><img src="https://img-blog.csdnimg.cn/20210613041156230.png"></p><p>填写 SYS 密码，需要记住：</p><p><img src="https://img-blog.csdnimg.cn/20210613041252616.png"></p><p>选择存放数据的 ASM 盘：<strong>DATA</strong></p><p><img src="https://img-blog.csdnimg.cn/20210613041322211.png"></p><p>不开启闪回区，建库后可随时开启：</p><p><img src="https://img-blog.csdnimg.cn/20210613041405114.png"></p><p>选择自定义组件，默认即可！</p><p><img src="https://img-blog.csdnimg.cn/20210613041452239.png"></p><p>配置初始化参数：</p><p><img src="https://img-blog.csdnimg.cn/20210613041537704.png"></p><p><strong>📢 注意：</strong> 如果使用自动管理内存，建议使用 <strong>70%~90%</strong> 的物理内存，建议 <code>/etc/shm</code> 和物理内存一样大！</p><p>block 默认 <code>8192</code>（即数据文件默认最大 32G），进程数增加到 <code>1500</code>：</p><p><img src="https://img-blog.csdnimg.cn/20210613041722649.png"></p><p>选择数据库字符集，默认字符集为 <code>AL32UTF8</code>，国家字符集为 <code>AL16UTF16</code>，<strong>需根据业务实际情况进行修改</strong>：</p><p><img src="https://img-blog.csdnimg.cn/20210613041840767.png"></p><p>开始建库：</p><p><img src="https://img-blog.csdnimg.cn/20210613041944128.png"></p><p><img src="https://img-blog.csdnimg.cn/20210613042015258.png"></p><p><img src="https://img-blog.csdnimg.cn/202106130421465.png"></p><p>数据库创建成功：</p><p><img src="https://img-blog.csdnimg.cn/20210613042220964.png"></p><p><img src="https://img-blog.csdnimg.cn/20210613042431687.png"></p><p><strong><font color='orage'>至此，数据库实例创建完成！</font></strong></p><h1 id="数据库优化配置（rac01）"><a href="#数据库优化配置（rac01）" class="headerlink" title="数据库优化配置（rac01）"></a>数据库优化配置（rac01）</h1><h2 id="开启数据库归档模式"><a href="#开启数据库归档模式" class="headerlink" title="开启数据库归档模式"></a>开启数据库归档模式</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##关闭数据库实例</span></span><br><span class="line">srvctl stop database -d orcl</span><br><span class="line"><span class="comment">##开启单个节点到mount模式</span></span><br><span class="line">srvctl start instance -d orcl -i orcl1 -o mount</span><br><span class="line"><span class="comment">##开启归档</span></span><br><span class="line">alter database archivelog;</span><br><span class="line"><span class="comment">##设置归档路径</span></span><br><span class="line">ALTER SYSTEM SET LOG_ARCHIVE_DEST_1=<span class="string">&#x27;LOCATION=+DATA&#x27;</span>;</span><br><span class="line"><span class="comment">##重启数据库实例</span></span><br><span class="line">srvctl stop instance -d orcl -i orcl1</span><br><span class="line">srvctl start database -d orcl</span><br><span class="line"><span class="comment">##检查归档</span></span><br><span class="line">archive <span class="built_in">log</span> list</span><br></pre></td></tr></table></figure><h2 id="配置定期删除归档计划任务"><a href="#配置定期删除归档计划任务" class="headerlink" title="配置定期删除归档计划任务"></a>配置定期删除归档计划任务</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">##进入oracle用户</span></span><br><span class="line">su - oracle</span><br><span class="line"><span class="comment">##写入脚本</span></span><br><span class="line">&#123;</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;#!/bin/bash&#x27;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;source ~/.bash_profile&#x27;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;deltime=`date +&quot;20%y%m%d%H%M%S&quot;`&#x27;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;rman target / nocatalog msglog /home/oracle/scripts/del_arch_\$&#123;deltime&#125;.log&lt;&lt;EOF&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;crosscheck archivelog all;&#x27;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;delete noprompt archivelog until time &#x27;sysdate-7&#x27;;&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&quot;delete noprompt force archivelog until time &#x27;SYSDATE-10&#x27;;&quot;</span></span><br><span class="line">    <span class="built_in">echo</span> <span class="string">&#x27;EOF&#x27;</span></span><br><span class="line">&#125; &gt;&gt;/home/oracle/scripts/del_arch.sh</span><br><span class="line"><span class="comment">##写入计划任务</span></span><br><span class="line"><span class="built_in">cat</span> &lt;&lt;<span class="string">EOF&gt;&gt;/var/spool/cron/oracle</span></span><br><span class="line"><span class="string">12 00 * * * /home/oracle/scripts/del_arch.sh</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment">##手动执行测试</span></span><br><span class="line">/home/oracle/scripts/del_arch.sh</span><br></pre></td></tr></table></figure><h2 id="设置密码永不过期"><a href="#设置密码永不过期" class="headerlink" title="设置密码永不过期"></a>设置密码永不过期</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlplus / as sysdba</span><br><span class="line">ALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;</span><br></pre></td></tr></table></figure><p>Oracle 11GR2 版本需要手动设置密码永不过期，12CR2 版本之后已经默认设置为永不过期了！</p>]]></content>
      
      
      <categories>
          
          <category> Linux </category>
          
          <category> Oracle </category>
          
          <category> RAC </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Linux </tag>
            
            <tag> Oracle </tag>
            
            <tag> RAC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>使用 StarWind 配置 ISCSI 共享存储</title>
      <link href="/post/b153d9c4.html"/>
      <url>/post/b153d9c4.html</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>之前讲过一篇文章 <a href="http://luciferlpc.top/post/1ae1443c.html">一步步教你Linux7安装Oracle RAC（11GR2版本）</a> 教大家如何安装 Oracle RAC。</p><p>有朋友希望将共享存储配置这一块详细讲一讲，因此便写了这篇。</p><h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h1><p><code>ISCSI</code>（Internet Small Computer System Interface，Internet 小型计算机系统接口)是一种由IBM公司研究开发的IP SAN技术。</p><p>该技术是将现有SCSI接口与以太网络(Ethernet)技术结合，基于 TCP&#x2F;IP的协议连接iSCSI服务端（Target）和客户端(Initiator)，使得封装后的SCSI数据包可以在通用互联网传输，最终实现iSCSI服务端映射为一个存储空间（磁盘）提供给已连接认证后的客户端。</p><p><img src="https://img-blog.csdnimg.cn/20210621155703252.png"></p><p>本文主要讲解的是 Windows 主机下配置 <code>StarWind</code> 软件实现共享存储！</p><h1 id="StarWind安装"><a href="#StarWind安装" class="headerlink" title="StarWind安装"></a>StarWind安装</h1><p><code>StarWind</code> 的特点就是简单快捷，方便操作；对于测试安装来说，Windows平台更实用。</p><h2 id="解压安装包"><a href="#解压安装包" class="headerlink" title="解压安装包"></a>解压安装包</h2><p>首先，需要下载 <code>StarWind</code> 安装包，<strong>下载地址</strong>：</p><p><a href="https://pan.baidu.com/s/1OX7rAiG9AQW8EfEGGHEjlQ"  target="_blank" rel="noopener noreferrer"><font size="5" color="orage">https://pan.baidu.com/s/1OX7rAiG9AQW8EfEGGHEjlQ</a></font> <strong>提取码：<code>kpl9</code></strong></p><p><img src="https://img-blog.csdnimg.cn/20210621160410613.png"></p><h2 id="运行安装"><a href="#运行安装" class="headerlink" title="运行安装"></a>运行安装</h2><p><img src="https://img-blog.csdnimg.cn/20210621160504272.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621160544313.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621160608972.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621160637453.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621160703248.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621160737939.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621160810275.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621160859729.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621160937349.png"></p><p>选择安装包中的key：</p><p><img src="https://img-blog.csdnimg.cn/20210621161034970.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621161124516.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621161152867.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621161227857.png"></p><p>选择安装：</p><p><img src="https://img-blog.csdnimg.cn/20210621161303502.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621161347768.png"></p><p><strong><font color='orage'>至此，StarWind 软件已经成功安装！</font></strong></p><h1 id="配置服务端StarWind-ISCSI"><a href="#配置服务端StarWind-ISCSI" class="headerlink" title="配置服务端StarWind ISCSI"></a>配置服务端StarWind ISCSI</h1><p>确保成功安装 StarWind 软件之后，接下来就需要通过软件配置共享存储！</p><h2 id="打开StarWind软件"><a href="#打开StarWind软件" class="headerlink" title="打开StarWind软件"></a>打开StarWind软件</h2><p><img src="https://img-blog.csdnimg.cn/20210621161745379.png"></p><h2 id="新建StarWind-Server"><a href="#新建StarWind-Server" class="headerlink" title="新建StarWind Server"></a>新建StarWind Server</h2><p><img src="https://img-blog.csdnimg.cn/20210621161901575.png"></p><p>通过 <code>cmd</code> 命令行输入 <code>ipconfig</code> 查看本机 ip 地址：</p><p><img src="https://img-blog.csdnimg.cn/20210621162027516.png"></p><p>填写本机 IP，点击OK：</p><p><img src="https://img-blog.csdnimg.cn/20210621162116899.png"></p><p>新建成功后，选择 Server，双击或者点击 connect 连接：</p><p><img src="https://img-blog.csdnimg.cn/20210621162300290.png"></p><h2 id="新建Target"><a href="#新建Target" class="headerlink" title="新建Target"></a>新建Target</h2><p><img src="https://img-blog.csdnimg.cn/20210621162447837.png"></p><p>填入 Target 别名，根据自己情况填写：</p><p><img src="https://img-blog.csdnimg.cn/20210707114844389.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621162855821.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621162922623.png"></p><p><img src="https://img-blog.csdnimg.cn/20210707122031113.png"></p><h1 id="添加Device存储盘"><a href="#添加Device存储盘" class="headerlink" title="添加Device存储盘"></a>添加Device存储盘</h1><p><img src="https://img-blog.csdnimg.cn/20210621163324469.png"></p><p>选择虚拟硬盘：</p><p><img src="https://img-blog.csdnimg.cn/20210621163406903.png"></p><p>选择镜像文件：</p><p><img src="https://img-blog.csdnimg.cn/20210621163450530.png"></p><p>创建新的虚拟盘：</p><p><img src="https://img-blog.csdnimg.cn/20210621163555151.png"></p><p>选择镜像文件路径和大小：</p><p><img src="https://img-blog.csdnimg.cn/20210621164100309.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621164317564.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621164424224.png"></p><p>选择已有 Target：</p><p><img src="https://img-blog.csdnimg.cn/20210621164513155.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621164537210.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621164613973.png"></p><p><img src="https://img-blog.csdnimg.cn/20210621164636208.png"></p><p><strong>📢 注意：</strong> 如果需要添加多块共享盘，只需要重复上述添加 Device 即可！</p><p><img src="https://img-blog.csdnimg.cn/2021070712212241.png"></p><p><strong><font color='orage'>至此，StarWind共享存储服务端已经配置完成。</font></strong></p><h1 id="Linux通过-ISCSI-连接共享存储"><a href="#Linux通过-ISCSI-连接共享存储" class="headerlink" title="Linux通过 ISCSI 连接共享存储"></a>Linux通过 ISCSI 连接共享存储</h1><h2 id="Linux-客户端安装-ISCSI-依赖"><a href="#Linux-客户端安装-ISCSI-依赖" class="headerlink" title="Linux 客户端安装 ISCSI 依赖"></a>Linux 客户端安装 ISCSI 依赖</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y iscsi-initiator-utils*</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210621165348769.png" alt="安装依赖"></p><h2 id="搜索服务端-ISCSI-Target"><a href="#搜索服务端-ISCSI-Target" class="headerlink" title="搜索服务端 ISCSI Target"></a>搜索服务端 ISCSI Target</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iscsiadm -m discovery -t st -p 10.211.55.33</span><br></pre></td></tr></table></figure><p><strong>📢 注意：</strong> 10.211.55.33 为服务端 IP 地址，即 Windows 主机的 IP 地址。</p><p><img src="https://img-blog.csdnimg.cn/20210621165616390.png"></p><h2 id="连接服务端-ISCSI-共享存储"><a href="#连接服务端-ISCSI-共享存储" class="headerlink" title="连接服务端 ISCSI 共享存储"></a>连接服务端 ISCSI 共享存储</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">iscsiadm -m node -T iqn.2008-08.com.starwindsoftware:10.211.55.33-lucifer -p 10.211.55.33 -l</span><br></pre></td></tr></table></figure><p><strong>📢 注意：</strong> <code>iqn.2008-08.com.starwindsoftware:10.211.55.33-lucifer</code> 为上一步搜索出的Target名称，复制即可！</p><p><img src="https://img-blog.csdnimg.cn/20210621165834145.png"></p><h2 id="Linux-客户端查看共享存储"><a href="#Linux-客户端查看共享存储" class="headerlink" title="Linux 客户端查看共享存储"></a>Linux 客户端查看共享存储</h2><p>Linux 客户端通过命令 lsblk 查看共享存储是否成功挂载：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsblk</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/20210621165930891.png"></p><p><strong><font color='orage'>如上所示，共享盘已经挂载成功。</font></strong></p>]]></content>
      
      
      <categories>
          
          <category> StarWind </category>
          
          <category> ISCSI </category>
          
      </categories>
      
      
        <tags>
            
            <tag> StarWind </tag>
            
            <tag> ISCSI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Butterfly 主题美化合集</title>
      <link href="/post/794f2e6e.html"/>
      <url>/post/794f2e6e.html</url>
      
        <content type="html"><![CDATA[<p><a href="https://github.com/jerryc127/hexo-theme-butterfly">hexo-theme-butterfly</a> 主题是基于 <a href="https://github.com/Molunerfinn/hexo-theme-melody">hexo-theme-melody</a> 的基础上进行开发的。</p><p>本帖的主要目的是用最平实的语言描述博客美化的进程，同时在每个章节为可能涉及的知识点提供相应的工具网站以供读者学习。当然，最重要的是给我自己留个魔改的日记。这样升级主题玩崩了也能找到回家的路。</p><h1 id="一、Butterfly-主题安装"><a href="#一、Butterfly-主题安装" class="headerlink" title="一、Butterfly 主题安装"></a>一、Butterfly 主题安装</h1><blockquote><p>参考自文章：<a href="https://butterfly.js.org/posts/21cfbf15/">https://butterfly.js.org/posts/21cfbf15/</a></p></blockquote><p>Butterfly 主题安装支持：</p><ul><li>Git 安装（Github 和 Gitee）</li><li>NPM 安装</li></ul><p>本次选择 Gitee，进入 Hexo 博客根目录下执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://gitee.com/immyw/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><h2 id="应用主题"><a href="#应用主题" class="headerlink" title="应用主题"></a>应用主题</h2><p>修改 Hexo 根目录下的 <code>_config.yml</code>，把主题改为 <code>butterfly</code>：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">theme:</span> <span class="string">butterfly</span></span><br></pre></td></tr></table></figure><h2 id="安装插件"><a href="#安装插件" class="headerlink" title="安装插件"></a>安装插件</h2><p>如果你没有 pug 以及 stylus 的渲染器，请下载安装：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h2 id="升级建议"><a href="#升级建议" class="headerlink" title="升级建议"></a>升级建议</h2><p>为了减少升级主题后带来的不便，请使用以下方法：</p><p>在 hexo 的根目录创建一个文件 _config.butterfly.yml，并把主题目录的 _config.yml 内容复制到 _config.butterfly.yml 去，以后只需要在 <code>_config.butterfly.yml </code> 进行配置就行。</p><h1 id="二、Butterfly-主题美化"><a href="#二、Butterfly-主题美化" class="headerlink" title="二、Butterfly 主题美化"></a>二、Butterfly 主题美化</h1><ol><li>鉴于每个人的根目录名称都不一样，本帖<strong>博客根目录</strong>一律以<code>[Blogroot]</code>指代。</li><li>本帖涉及魔改源码的内容，会使用<strong>diff代码块</strong>标识，复制时请<strong>不要忘记删除</strong>前面的<code>+、-</code>符号。</li><li>因为<code>.pug</code>和<code>.styl</code>以及<code>.yml</code>等对缩进要求较为严格，请尽量<strong>不要使用记事本等无法提供语法高亮的文本编辑器</strong>进行修改。</li><li>本帖基于<code>Butterfly主题</code>进行魔改方案编写，因此请读者优先掌握 <a href="https://butterfly.js.org/">Butterfly主题官方文档 </a> 的内容后再来进行魔改。以避免不必要的兼容性问题。</li></ol><h2 id="基础美化"><a href="#基础美化" class="headerlink" title="基础美化"></a>基础美化</h2><p>一些基础的 Butterfly 美化方案在官方文档中均可以找到，所以请先熟读 <a href="https://butterfly.js.org/">Butterfly主题官方文档 </a>。</p><h2 id="引入阿里矢量图标库"><a href="#引入阿里矢量图标库" class="headerlink" title="引入阿里矢量图标库"></a>引入阿里矢量图标库</h2><blockquote><p>转自 <a href="https://akilar.top/posts/d2ebecef/">Akilar《confont Inject》</a> 仅用于学习。</p></blockquote><p>阿里图标库全名阿里巴巴矢量图标库。提供了丰富的免费图标资源。并且支持多种引入方式。</p><h3 id="新建图标项目"><a href="#新建图标项目" class="headerlink" title="新建图标项目"></a>新建图标项目</h3><p>1、访问 <a href="https://www.iconfont.cn/">阿里巴巴矢量图标库</a> , 注册登录。</p><p>2、搜索自己心仪的图标，然后选择<strong>添加入库</strong>，加到购物车。</p><p>3、选择完毕后点击右上角的购物车图标，打开侧栏，选择添加到项目，如果没有项目就新建一个。</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/81982c3a.png"></p><p>4、可以通过上方顶栏菜单 -&gt; 资源管理 -&gt; 我的项目，找到之前添加的图标项目。</p><p>5、现在的 iconfont 可以在图标库的项目设置里直接打开彩色设置，然后采用 fontclass 的引用方式即可使用多彩图标。但是<strong>单一项目彩色图标上限是 40 个图标</strong>，酌情采用。</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/a11217c7.png"><br><img src="https://npm.elemecdn.com/akilar-candyassets/image/110a882c.png"></p><h3 id="引入图标"><a href="#引入图标" class="headerlink" title="引入图标"></a>引入图标</h3><p>1、找到之前新建的图标项目，选择Symbol-&gt;查看在线链接，获取 <code>Symbol.js</code> 的在线链接，并引入。在 <code>[Blogroot]\_config.butterfly.yml</code> 的 <code>inject</code> 配置项中填入：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    inject:</span><br><span class="line">      head:</span><br><span class="line">      bottom:</span><br><span class="line"><span class="addition">+       - &lt;script async src=&quot;//at.alicdn.com/t/font_2264842_3izu8i5eoc2.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>2、打开 <code>[Blogroot]\themes\butterfly\source\css\custom.css</code>, 输入以下内容：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">svg<span class="selector-class">.icon</span> &#123;</span><br><span class="line">   <span class="attribute">width</span>: <span class="number">1em</span>; <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">   <span class="comment">/* width和height定义图标的默认宽度和高度*/</span></span><br><span class="line">   <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">   fill: currentColor;</span><br><span class="line">   <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、添加外挂标签，在 <code>[Blogroot]\themes\butterfly\scripts\tag\</code> 目录下新建 <code>iconfont.js</code>，打开 <code>[Blogroot]\themes\butterfly\scripts\tag\iconfont.js</code>, 输入：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&#x27;use strict&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">iconFont</span>(<span class="params">args</span>) &#123;</span><br><span class="line">  args = args.<span class="title function_">join</span>(<span class="string">&#x27; &#x27;</span>).<span class="title function_">split</span>(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">  <span class="keyword">let</span> p0 = args[<span class="number">0</span>]</span><br><span class="line">  <span class="keyword">let</span> p1 = args[<span class="number">1</span>]?args[<span class="number">1</span>]:<span class="number">1</span></span><br><span class="line">  <span class="keyword">return</span> <span class="string">`&lt;svg class=&quot;icon&quot; style=&quot;width:<span class="subst">$&#123;p1&#125;</span>em; height:<span class="subst">$&#123;p1&#125;</span>em&quot; aria-hidden=&quot;true&quot;&gt;&lt;use xlink:href=&quot;#<span class="subst">$&#123;p0&#125;</span>&quot;&gt;&lt;/use&gt;&lt;/svg&gt;`</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">hexo.<span class="property">extend</span>.<span class="property">tag</span>.<span class="title function_">register</span>(<span class="string">&#x27;icon&#x27;</span>,iconFont);</span><br></pre></td></tr></table></figure><p><code>hexo cl &amp;&amp; hexo g</code> 以后即可使用外挂标签的形式来写入图标了。</p><h2 id="封面节日挂件效果"><a href="#封面节日挂件效果" class="headerlink" title="封面节日挂件效果"></a>封面节日挂件效果</h2><p>1、新建 <code>[Blogroot]\themes\butterfly\scripts\festival.js</code>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">helper</span>.<span class="title function_">register</span>(<span class="string">&#x27;getFestivalIcon&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> icon = [</span><br><span class="line">        <span class="string">&#x27;#icon-qiandai&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-denglong&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-juanzhou&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-hongbao&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-duilian&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-bianpao&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-shanzi&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-tangguo&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-yuanbao&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-qianchuan&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;#icon-denglong2&#x27;</span></span><br><span class="line">    ]</span><br><span class="line">    <span class="keyword">var</span> index = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>()*icon.<span class="property">length</span>);</span><br><span class="line">    <span class="keyword">return</span> icon[index]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>2、修改 <code>[Blogroot]\themes\butterfly\layout\includes\mixins\post-ui.pug</code>：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">  if post_cover &amp;&amp; theme.cover.index_enable</span><br><span class="line">    .post_cover(class=leftOrRight)</span><br><span class="line">      a(href=url_for(link) title=title)</span><br><span class="line"><span class="addition">+       svg.icon.festival-decoration(aria-hidden=&quot;true&quot;)</span></span><br><span class="line"><span class="addition">+         use(xlink:href=getFestivalIcon())    </span></span><br><span class="line">        if theme.lazyload.enable</span><br><span class="line">          img.post_bg(data-lazy-src=url_for(post_cover) onerror=`this.onerror=null;this.src=&#x27;`+ url_for(theme.error_img.post_page) + `&#x27;` alt=title)</span><br><span class="line">        else</span><br><span class="line">          img.post_bg(src=url_for(post_cover) onerror=`this.onerror=null;this.src=&#x27;`+ url_for(theme.error_img.post_page) + `&#x27;` alt=title)</span><br></pre></td></tr></table></figure><p>3、新建 <code>[Blogroot]\themes\butterfly\source\css\custom.css</code>：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">svg<span class="selector-class">.icon</span><span class="selector-class">.festival-decoration</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">3em</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">3em</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">2em</span>;</span><br><span class="line">    <span class="attribute">margin-bottom</span>: -<span class="number">3em</span>;</span><br><span class="line">    <span class="attribute">display</span>: block;</span><br><span class="line">    <span class="attribute">z-index</span>: <span class="number">100</span>;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    -webkit-<span class="attribute">animation</span>: sway <span class="number">1s</span> infinite ease-in-out alternate;</span><br><span class="line">    <span class="attribute">animation</span>: sway <span class="number">1s</span> infinite ease-in-out alternate;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> sway &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">20deg</span>);</span><br><span class="line">    <span class="attribute">transform-origin</span>: center top;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    -webkit-<span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">20deg</span>);</span><br><span class="line">    <span class="attribute">transform-origin</span>: center top;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> sway &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">20deg</span>);</span><br><span class="line">    <span class="attribute">transform-origin</span>: center top;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">20deg</span>);</span><br><span class="line">    <span class="attribute">transform-origin</span>: center top;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、修改<code>_config.butterfly.yml</code> 的 <code>inject</code> 配置项，引入 <code>custom.css</code> 和 <code>iconfont</code> 的 <code>js</code>，此处为我的图标库链接，熟练掌握前置教程后可以换成自己的：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">    - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot;  media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt; #教学用样式</span><br><span class="line">  bottom:</span><br><span class="line">    # 阿里矢量图标</span><br><span class="line">    - &lt;script async src=&quot;//at.alicdn.com/t/font_2032782_ev6ytrh30f.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><h2 id="时间轴生肖图标"><a href="#时间轴生肖图标" class="headerlink" title="时间轴生肖图标"></a>时间轴生肖图标</h2><blockquote><p>转自 <a href="https://akilar.top/posts/22257072/">Akilar《Archive Beautify》</a> 仅用于学习。</p></blockquote><p>需要使用阿里矢量图标的 symbol 引入方案，为彩色图标。</p><p>1、在 <code>[Blogroot]\themes\butterfly\scripts\</code> 目录下新建 <code>year.js</code>，并在 <code>[Blogroot]\themes\butterfly\scripts\year.js</code> 中输入以下内容：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">hexo.<span class="property">extend</span>.<span class="property">helper</span>.<span class="title function_">register</span>(<span class="string">&#x27;getAnimalIcon&#x27;</span>, <span class="keyword">function</span> (<span class="params">year</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> index = <span class="built_in">parseInt</span>(year) % <span class="number">12</span>;</span><br><span class="line">    <span class="keyword">var</span> icon = &#123;</span><br><span class="line">        <span class="number">0</span>: <span class="string">&#x27;icon-monkey&#x27;</span>,</span><br><span class="line">        <span class="number">1</span>: <span class="string">&#x27;icon-rooster&#x27;</span>,</span><br><span class="line">        <span class="number">2</span>: <span class="string">&#x27;icon-dog&#x27;</span>,</span><br><span class="line">        <span class="number">3</span>: <span class="string">&#x27;icon-boar&#x27;</span>,</span><br><span class="line">        <span class="number">4</span>: <span class="string">&#x27;icon-rat&#x27;</span>,</span><br><span class="line">        <span class="number">5</span>: <span class="string">&#x27;icon-ox&#x27;</span>,</span><br><span class="line">        <span class="number">6</span>: <span class="string">&#x27;icon-tiger&#x27;</span>,</span><br><span class="line">        <span class="number">7</span>: <span class="string">&#x27;icon-rabbit&#x27;</span>,</span><br><span class="line">        <span class="number">8</span>: <span class="string">&#x27;icon-dragon&#x27;</span>,</span><br><span class="line">        <span class="number">9</span>: <span class="string">&#x27;icon-snake&#x27;</span>,</span><br><span class="line">        <span class="number">10</span>: <span class="string">&#x27;icon-horse&#x27;</span>,</span><br><span class="line">        <span class="number">11</span>: <span class="string">&#x27;icon-goat&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> icon[index]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>2、在 <code>[Blogroot]\_config.butterfly.yml</code> 的 <code>inject</code> 配置项中填入我的生肖图标线上链接，并引入自定义 css 文件（没有 <code>custom.css</code> 文件的可以自己新建一个 <code>[Blogroot]\themes\butterfly\source\css\custom.css</code>）：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">    inject:</span><br><span class="line">      head:</span><br><span class="line"><span class="addition">+       - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot;  media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br><span class="line">      bottom:</span><br><span class="line"><span class="addition">+       - &lt;script async src=&quot;//at.alicdn.com/t/font_2264842_3izu8i5eoc2.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>此处 <code>async</code> 是异步加载属性，能够减少 HTML 阻塞。</p><p>3、打开 <code>[Blogroot]\themes\butterfly\source\css\custom.css</code>, 输入以下内容：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">svg<span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="comment">/* 这里定义svg.icon，避免和Butterfly自带的note标签冲突 */</span></span><br><span class="line">   <span class="attribute">width</span>: <span class="number">1em</span>; <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">   <span class="comment">/* width和height定义图标的默认宽度和高度*/</span></span><br><span class="line">   <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">   fill: currentColor;</span><br><span class="line">   <span class="attribute">overflow</span>: hidden;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、修改 <code>[Blogroot]\themes\butterfly\layout\includes\mixins\article-sort.pug</code>，第 7 行开始，注意缩进。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">    - let title = article.title || _p(&#x27;no_title&#x27;)</span><br><span class="line"><span class="addition">+   - let iconAnimal = &#x27;#&#x27;+ getAnimalIcon(tempYear)</span></span><br><span class="line">    if tempYear !== year</span><br><span class="line">      - year = tempYear</span><br><span class="line"><span class="deletion">-     .article-sort-item.year= year</span></span><br><span class="line"><span class="addition">+     .article-sort-item.year</span></span><br><span class="line"><span class="addition">+       span= year</span></span><br><span class="line"><span class="addition">+       svg.icon(aria-hidden=&#x27;true&#x27;)</span></span><br><span class="line"><span class="addition">+         use(xlink:href=iconAnimal)</span></span><br><span class="line">    .article-sort-item(class=no_cover)</span><br><span class="line">      if article.cover &amp;&amp; theme.cover.archives_enable</span><br></pre></td></tr></table></figure><h2 id="添加看板娘"><a href="#添加看板娘" class="headerlink" title="添加看板娘"></a>添加看板娘</h2><blockquote><p>转自 <a href="https://akilar.top/posts/5b8f515f/">Akilar《Live2d Widget》</a> 仅用于学习。</p></blockquote><p>1、在<code>[Blogroot]\themes\butterfly\source\</code>目录下打开终端,输入：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> https://github.com/stevenjoezhang/live2d-widget.git live2d-widget</span><br></pre></td></tr></table></figure><p>2、找到路径<code>[Blogroot]\themes\butterfly\source\live2d-widget\autoload.js</code>，打开<code>autoload.js</code>，修改内容：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="deletion">- const live2d_path = &quot;https://cdn.jsdelivr.net/gh/stevenjoezhang/live2d-widget/&quot;;</span></span><br><span class="line"><span class="addition">+ const live2d_path = &quot;/live2d-widget/&quot;;</span></span><br></pre></td></tr></table></figure><p>3、在<code>Butterfly</code>的主题配置文件<code>[Blogroot]\_config.butterfly.yml</code>中,<br><code>butterfly</code>主题其实自带<code>fontawesome</code>依赖，无需引入，</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    # Inject</span><br><span class="line">    # Insert the code to head (before &#x27;&lt;/head&gt;&#x27; tag) and the bottom (before &#x27;&lt;/body&gt;&#x27; tag)</span><br><span class="line">    # 插入代码到头部 &lt;/head&gt; 之前 和 底部 &lt;/body&gt; 之前</span><br><span class="line">    inject:</span><br><span class="line">      head:</span><br><span class="line">        # - &lt;link rel=&quot;stylesheet&quot; href=&quot;/xxx.css&quot;&gt;</span><br><span class="line">      bottom:</span><br><span class="line">        # - &lt;script src=&quot;xxxx&quot;&gt;&lt;/script&gt;</span><br><span class="line"><span class="addition">+       - &lt;script defer src=&quot;/live2d-widget/autoload.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><h2 id="昼夜转换动画"><a href="#昼夜转换动画" class="headerlink" title="昼夜转换动画"></a>昼夜转换动画</h2><blockquote><p>转自 <a href="https://akilar.top/posts/d9550c81/">Akilar《添加白天夜间模式转换动画》</a> 仅用于学习。</p></blockquote><p>1、新建 <code>[Blogroot]\themes\butterfly\layout\includes\custom\sun_moon.pug</code>, 这部分其实实质上就是一个 svg 文件，通过 js 操作它的旋转显隐，淡入淡出实现动画效果。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">svg(aria-hidden=&#x27;true&#x27;, style=&#x27;position:absolute; overflow:hidden; width:0; height:0&#x27;)</span><br><span class="line">  symbol#icon-sun(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M960 512l-128 128v192h-192l-128 128-128-128H192v-192l-128-128 128-128V192h192l128-128 128 128h192v192z&#x27;, fill=&#x27;#FFD878&#x27;, p-id=&#x27;8420&#x27;)</span><br><span class="line">    path(d=&#x27;M736 512a224 224 0 1 0-448 0 224 224 0 1 0 448 0z&#x27;, fill=&#x27;#FFE4A9&#x27;, p-id=&#x27;8421&#x27;)</span><br><span class="line">    path(d=&#x27;M512 109.248L626.752 224H800v173.248L914.752 512 800 626.752V800h-173.248L512 914.752 397.248 800H224v-173.248L109.248 512 224 397.248V224h173.248L512 109.248M512 64l-128 128H192v192l-128 128 128 128v192h192l128 128 128-128h192v-192l128-128-128-128V192h-192l-128-128z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8422&#x27;)</span><br><span class="line">    path(d=&#x27;M512 320c105.888 0 192 86.112 192 192s-86.112 192-192 192-192-86.112-192-192 86.112-192 192-192m0-32a224 224 0 1 0 0 448 224 224 0 0 0 0-448z&#x27;, fill=&#x27;#4D5152&#x27;, p-id=&#x27;8423&#x27;)</span><br><span class="line">  symbol#icon-moon(viewBox=&#x27;0 0 1024 1024&#x27;)</span><br><span class="line">    path(d=&#x27;M611.370667 167.082667a445.013333 445.013333 0 0 1-38.4 161.834666 477.824 477.824 0 0 1-244.736 244.394667 445.141333 445.141333 0 0 1-161.109334 38.058667 85.077333 85.077333 0 0 0-65.066666 135.722666A462.08 462.08 0 1 0 747.093333 102.058667a85.077333 85.077333 0 0 0-135.722666 65.024z&#x27;, fill=&#x27;#FFB531&#x27;, p-id=&#x27;11345&#x27;)</span><br><span class="line">    path(d=&#x27;M329.728 274.133333l35.157333-35.157333a21.333333 21.333333 0 1 0-30.165333-30.165333l-35.157333 35.157333-35.114667-35.157333a21.333333 21.333333 0 0 0-30.165333 30.165333l35.114666 35.157333-35.114666 35.157334a21.333333 21.333333 0 1 0 30.165333 30.165333l35.114667-35.157333 35.157333 35.157333a21.333333 21.333333 0 1 0 30.165333-30.165333z&#x27;, fill=&#x27;#030835&#x27;, p-id=&#x27;11346&#x27;)</span><br></pre></td></tr></table></figure><p>2、新建 <code>[Blogroot]\themes\butterfly\source\css\_layout\sun_moon.styl</code>：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.Cuteen_DarkSky</span>,</span><br><span class="line"><span class="selector-class">.Cuteen_DarkSky</span><span class="selector-pseudo">:before</span></span><br><span class="line">  <span class="attribute">content</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">  <span class="attribute">position</span> fixed</span><br><span class="line">  <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">right</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">88888888</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.Cuteen_DarkSky</span></span><br><span class="line">  <span class="attribute">background</span> linear-gradient(<span class="number">#feb8b0</span>, <span class="number">#fef9db</span>)</span><br><span class="line">  <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">    <span class="attribute">transition</span> <span class="number">2s</span> ease all</span><br><span class="line">    <span class="attribute">opacity</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">background</span> linear-gradient(<span class="number">#4c3f6d</span>, <span class="number">#6c62bb</span>, <span class="number">#93b1ed</span>)</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.DarkMode</span></span><br><span class="line">  <span class="selector-class">.Cuteen_DarkSky</span></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">opacity</span> <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.Cuteen_DarkPlanet</span></span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">99999999</span></span><br><span class="line">  <span class="attribute">position</span> fixed</span><br><span class="line">  <span class="attribute">left</span> -<span class="number">50%</span></span><br><span class="line">  <span class="attribute">top</span> -<span class="number">50%</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">200%</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">200%</span></span><br><span class="line">  -webkit-<span class="attribute">animation</span> CuteenPlanetMove <span class="number">2s</span> cubic-bezier(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">  <span class="attribute">animation</span> CuteenPlanetMove <span class="number">2s</span> cubic-bezier(<span class="number">0.7</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">  <span class="attribute">transform-origin</span> center bottom</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> CuteenPlanetMove &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: rotate(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    <span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> CuteenPlanetMove &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: rotate(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  to &#123;</span><br><span class="line">    <span class="attribute">transform</span>: rotate(<span class="number">360deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.Cuteen_DarkPlanet</span></span><br><span class="line">  <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">left</span> <span class="number">35%</span></span><br><span class="line">    <span class="attribute">top</span> <span class="number">40%</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">9.375rem</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">9.375rem</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">50%</span></span><br><span class="line">    <span class="attribute">content</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="attribute">background</span> linear-gradient(<span class="number">#fefefe</span>, <span class="number">#fffbe8</span>)</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.search</span></span><br><span class="line">  <span class="selector-tag">span</span></span><br><span class="line">    <span class="attribute">display</span> none</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.menus_item</span></span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">text-decoration</span> none<span class="meta">!important</span></span><br><span class="line"><span class="comment">//按钮相关，对侧栏按钮做过魔改的可以调整这里的数值</span></span><br><span class="line"><span class="selector-class">.icon-V</span></span><br><span class="line">  <span class="attribute">padding</span> <span class="number">5px</span></span><br></pre></td></tr></table></figure><p>3、新建 <code>[Blogroot]\themes\butterfly\source\js\sun_moon.js</code>, 去除了冗余代码，去 jquery：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">switchNightMode</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="title function_">insertAdjacentHTML</span>(<span class="string">&#x27;beforeend&#x27;</span>, <span class="string">&#x27;&lt;div class=&quot;Cuteen_DarkSky&quot;&gt;&lt;div class=&quot;Cuteen_DarkPlanet&quot;&gt;&lt;/div&gt;&lt;/div&gt;&#x27;</span>),</span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;DarkMode&#x27;</span>) ? (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;0&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)) : (<span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&#x27;isDark&#x27;</span>, <span class="string">&#x27;1&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)),</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">          <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">transition</span> = <span class="string">&#x27;opacity 3s&#x27;</span>;</span><br><span class="line">          <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="property">style</span>.<span class="property">opacity</span> = <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">          <span class="built_in">setTimeout</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">document</span>.<span class="title function_">getElementsByClassName</span>(<span class="string">&#x27;Cuteen_DarkSky&#x27;</span>)[<span class="number">0</span>].<span class="title function_">remove</span>();</span><br><span class="line">          &#125;, <span class="number">1e3</span>);</span><br><span class="line">        &#125;, <span class="number">2e3</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">  <span class="keyword">const</span> nowMode = <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="title function_">getAttribute</span>(<span class="string">&#x27;data-theme&#x27;</span>) === <span class="string">&#x27;dark&#x27;</span> ? <span class="string">&#x27;dark&#x27;</span> : <span class="string">&#x27;light&#x27;</span></span><br><span class="line">  <span class="keyword">if</span> (nowMode === <span class="string">&#x27;light&#x27;</span>) &#123;</span><br><span class="line">    <span class="title function_">activateDarkMode</span>()</span><br><span class="line">    saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;dark&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span> !== <span class="literal">undefined</span> &amp;&amp; btf.<span class="title function_">snackbarShow</span>(<span class="variable constant_">GLOBAL_CONFIG</span>.<span class="property">Snackbar</span>.<span class="property">day_to_night</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-sun&#x27;</span>)</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="title function_">activateLightMode</span>()</span><br><span class="line">    saveToLocal.<span class="title function_">set</span>(<span class="string">&#x27;theme&#x27;</span>, <span class="string">&#x27;light&#x27;</span>, <span class="number">2</span>)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;body&#x27;</span>).<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;DarkMode&#x27;</span>), <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;modeicon&#x27;</span>).<span class="title function_">setAttribute</span>(<span class="string">&#x27;xlink:href&#x27;</span>, <span class="string">&#x27;#icon-moon&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// handle some cases</span></span><br><span class="line">  <span class="keyword">typeof</span> utterancesTheme === <span class="string">&#x27;function&#x27;</span> &amp;&amp; <span class="title function_">utterancesTheme</span>()</span><br><span class="line">  <span class="keyword">typeof</span> <span class="variable constant_">FB</span> === <span class="string">&#x27;object&#x27;</span> &amp;&amp; <span class="variable language_">window</span>.<span class="title function_">loadFBComment</span>()</span><br><span class="line">  <span class="variable language_">window</span>.<span class="property">DISQUS</span> &amp;&amp; <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;disqus_thread&#x27;</span>).<span class="property">children</span>.<span class="property">length</span> &amp;&amp; <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="title function_">disqusReset</span>(), <span class="number">200</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4、修改 <code>[Blogroot]\themes\butterfly\layout\includes\head.pug</code>, 在文件末位加上一行：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  //- global config</span><br><span class="line">  !=partial(&#x27;includes/head/config&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br><span class="line"></span><br><span class="line">  include ./head/config_site.pug</span><br><span class="line">  include ./head/noscript.pug</span><br><span class="line"></span><br><span class="line">  !=fragment_cache(&#x27;injectHeadJs&#x27;, function()&#123;return inject_head_js()&#125;)</span><br><span class="line"></span><br><span class="line">  !=fragment_cache(&#x27;injectHead&#x27;, function()&#123;return injectHtml(theme.inject.head)&#125;)</span><br><span class="line"><span class="addition">+ include ./custom/sun_moon.pug</span></span><br></pre></td></tr></table></figure><p>5、修改 <code>[Blogroot]\themes\butterfly\layout\includes\rightside.pug</code>, 把原本的昼夜切换按钮替换掉：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  when &#x27;translate&#x27;</span><br><span class="line">    if translate.enable</span><br><span class="line">      button#translateLink(type=&quot;button&quot; title=_p(&#x27;rightside.translate_title&#x27;))= translate.default</span><br><span class="line">  when &#x27;darkmode&#x27;</span><br><span class="line">    if darkmode.enable &amp;&amp; darkmode.button</span><br><span class="line"><span class="deletion">-     button#darkmode(type=&quot;button&quot; title=_p(&#x27;rightside.night_mode_title&#x27;))</span></span><br><span class="line"><span class="deletion">-       i.fas.fa-adjust</span></span><br><span class="line"><span class="addition">+     a.icon-V.hidden(onclick=&#x27;switchNightMode()&#x27;,  title=_p(&#x27;rightside.night_mode_title&#x27;))</span></span><br><span class="line"><span class="addition">+       svg(width=&#x27;25&#x27;, height=&#x27;25&#x27;, viewBox=&#x27;0 0 1024 1024&#x27;)</span></span><br><span class="line"><span class="addition">+         use#modeicon(xlink:href=&#x27;#icon-moon&#x27;)</span></span><br></pre></td></tr></table></figure><p>6、修改 <code>[Blogroot]\_config.butterfly.yml</code>, 引入一下 js：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">inject:</span><br><span class="line">  head:</span><br><span class="line">  bottome:</span><br><span class="line">    - &lt;script src=&quot;/js/sun_moon.js&quot; async&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>7、具体效果就自己切换下夜间模式看看吧。</p><h2 id="添加-Twikoo-评论"><a href="#添加-Twikoo-评论" class="headerlink" title="添加 Twikoo 评论"></a>添加 Twikoo 评论</h2><p><code>Twikoo</code> 是一个简洁、安全、无后端的静态网站评论系统，基于腾讯云开发。</p><h3 id="Vercel-部署"><a href="#Vercel-部署" class="headerlink" title="Vercel 部署"></a>Vercel 部署</h3><p>参考自 <a href="https://twikoo.js.org/">Twikoo 中文文档</a> ，Vercel 免费部署方式：<a href="https://www.bilibili.com/video/BV1Fh411e7ZH">查看视频教程</a>。</p><ol><li>申请 <a href="https://www.mongodb.com/cloud/atlas/register">MongoDB (opens new window)</a> 账号。</li><li>创建免费 MongoDB 数据库，区域推荐选择 <code>AWS / N. Virginia (us-east-1)</code></li><li>在 Clusters 页面点击 CONNECT，按步骤设置允许所有 IP 地址的连接（<a href="https://vercel.com/support/articles/how-to-allowlist-deployment-ip-address">为什么？ (opens new window)</a>），创建数据库用户，并记录数据库连接字符串，请将连接字符串中的 <code>&lt;password&gt;</code> 修改为数据库密码</li><li>申请 <a href="https://vercel.com/signup">Vercel (opens new window) </a>账号</li><li>点击以下按钮将 Twikoo 一键部署到 Vercel<br><a href="https://vercel.com/import/project?template=https://github.com/imaegoo/twikoo/tree/dev/src/vercel-min"><img src="https://vercel.com/button" alt="img">(opens new window)</a></li><li>进入 Settings - Environment Variables，添加环境变量 <code>MONGODB_URI</code>，值为第 3 步的数据库连接字符串</li><li>进入 Overview，点击 Domains 下方的链接，如果环境配置正确，可以看到 “Twikoo 云函数运行正常” 的提示</li><li>Vercel Domains（包含 <code>https://</code> 前缀，例如 <code>https://xxx.vercel.app</code>）即为您的 <code>环境ID (envId)</code></li></ol><h3 id="前端部署"><a href="#前端部署" class="headerlink" title="前端部署"></a>前端部署</h3><p>修改主题配置文件 <code>[Blogroot]\_config.butterfly.yml</code>，你只需要把获取到 Vercel 的 <code>环境ID (envId)</code> 填写到配置上去就行：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">twikoo:</span></span><br><span class="line">  <span class="attr">envId:</span></span><br><span class="line">  <span class="attr">region:</span></span><br><span class="line">  <span class="attr">visitor:</span> <span class="literal">false</span></span><br><span class="line">  <span class="attr">option:</span></span><br></pre></td></tr></table></figure><p>然后设置评论应用为</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">comments:</span></span><br><span class="line">  <span class="attr">use:</span> <span class="string">twikoo</span></span><br></pre></td></tr></table></figure><h2 id="Twikoo-评论块气泡风格魔改美化"><a href="#Twikoo-评论块气泡风格魔改美化" class="headerlink" title="Twikoo 评论块气泡风格魔改美化"></a>Twikoo 评论块气泡风格魔改美化</h2><blockquote><p>转自 <a href="https://akilar.top/posts/d99b5f01/">Akilar《twikoo 评论块气泡风格魔改美化》</a> 仅用于学习。</p></blockquote><p>1、新建 <code>[Blogroot]\themes\butterfly\source\css\custom\twikoo_beautify.css</code>：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 自定义twikoo评论输入框高度 */</span></span><br><span class="line"><span class="selector-class">.tk-input</span><span class="selector-attr">[data-v-619b4c52]</span> <span class="selector-class">.el-textarea__inner</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">130px</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 输入评论时自动隐藏输入框背景图片 */</span></span><br><span class="line"><span class="selector-class">.tk-input</span><span class="selector-attr">[data-v-619b4c52]</span> <span class="selector-class">.el-textarea__inner</span><span class="selector-pseudo">:focus</span> &#123;</span><br><span class="line">  <span class="attribute">background-image</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 调整楼中楼样式 ，整体左移，贴合气泡化效果 */</span></span><br><span class="line"><span class="selector-class">.tk-replies</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">70px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="built_in">calc</span>(<span class="number">100%</span> + <span class="number">70px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 头像宽度调整 rem单位与全局字体大小挂钩，需配合自己情况调整大小以保证头像显示完整*/</span></span><br><span class="line"><span class="selector-class">.tk-replies</span> <span class="selector-class">.tk-avatar</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-replies</span> <span class="selector-class">.tk-avatar</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2.5rem</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 回复框左移，避免窄屏时出框 */</span></span><br><span class="line"><span class="selector-class">.tk-comments-container</span> <span class="selector-class">.tk-submit</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">70px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 评论块气泡化修改 */</span></span><br><span class="line"><span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#00a6ff</span>; <span class="comment">/*默认模式访客气泡配色*/</span></span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>; <span class="comment">/*默认模式访客气泡字体配色*/</span></span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">10px</span>;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">16px</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: visible <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">max-height</span>: none <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 修复图片出框 */</span></span><br><span class="line"><span class="selector-class">.tk-content</span> <span class="selector-tag">img</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span> <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 修复过长文本出框 */</span></span><br><span class="line"><span class="selector-class">.tk-content</span> pre &#123;</span><br><span class="line">  <span class="attribute">white-space</span>: pre-wrap;</span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eeecaa</span>; <span class="comment">/*默认模式超链接配色*/</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">2px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#00a6ff</span>; <span class="comment">/*默认模式访客气泡小三角配色*/</span></span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#ff8080</span>; <span class="comment">/*默认模式博主气泡配色*/</span></span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>; <span class="comment">/*默认模式博主气泡字体配色*/</span></span><br><span class="line">  <span class="attribute">width</span>: fit-content;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#eeecaa</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">13px</span>;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">2px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#ff8080</span>; <span class="comment">/*默认模式博主气泡小三角配色*/</span></span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-row</span><span class="selector-attr">[data-v-d82ce9a0]</span> &#123;</span><br><span class="line">  <span class="attribute">max-width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">width</span>: fit-content;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-avatar</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 夜间模式配色，具体比照上方默认模式class */</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dfa036</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> <span class="selector-tag">a</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#dfa036</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">border-top</span>: <span class="number">2px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">20px</span> solid transparent;</span><br><span class="line">  <span class="attribute">border-right</span>: <span class="number">15px</span> solid <span class="number">#000</span>;</span><br><span class="line">  <span class="attribute">border-left</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 自适应内容 */</span></span><br><span class="line"><span class="keyword">@media</span> screen <span class="keyword">and</span> (<span class="attribute">min-width</span>: <span class="number">1024px</span>) &#123;</span><br><span class="line">  <span class="comment">/* 设置宽度上限，避免挤压博主头像 */</span></span><br><span class="line">  <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">75%</span>;</span><br><span class="line">    <span class="attribute">width</span>: fit-content;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">75%</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">left</span>: <span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">15px</span> solid <span class="number">#ff8080</span>;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-avatar</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">75%</span> + <span class="number">70px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-row</span><span class="selector-attr">[data-v-d82ce9a0]</span> &#123;</span><br><span class="line">    <span class="attribute">position</span>: relative;</span><br><span class="line">    <span class="attribute">top</span>: <span class="number">0px</span>;</span><br><span class="line">    <span class="attribute">left</span>: <span class="built_in">calc</span>(<span class="number">75%</span> - <span class="number">230px</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span> <span class="selector-class">.tk-master</span> <span class="selector-class">.tk-content</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">    <span class="attribute">border-left</span>: <span class="number">15px</span> solid <span class="number">#000</span>;</span><br><span class="line">    <span class="attribute">border-right</span>: <span class="number">0px</span> solid transparent;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 设备名称常态隐藏，悬停评论时显示 */</span></span><br><span class="line"><span class="selector-class">.tk-extras</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">  <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tk-content</span><span class="selector-pseudo">:hover</span> + <span class="selector-class">.tk-extras</span> &#123;</span><br><span class="line">  -webkit-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  -moz-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  -o-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  -ms-<span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  <span class="attribute">animation</span>: tk-extras-fadeIn <span class="number">0.5s</span> linear;</span><br><span class="line">  -webkit-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">  -moz-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">  -o-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">  -ms-<span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">  <span class="attribute">animation-fill-mode</span>: forwards;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-moz-keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@-o-keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> tk-extras-fadeIn &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: <span class="string">&quot;progid:DXImageTransform.Microsoft.Alpha(Opacity=0)&quot;</span>;</span><br><span class="line">    <span class="attribute">filter</span>: <span class="built_in">alpha</span>(opacity=<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    -ms-<span class="attribute">filter</span>: none;</span><br><span class="line">    <span class="attribute">filter</span>: none;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2、修改 <code>[Blogroot]\_config.butterfly.yml</code> 的 <code>inject</code> 配置项：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">  inject:</span><br><span class="line">    head:</span><br><span class="line"><span class="addition">+     - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom/twikoo_beautify.css&quot;  media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br></pre></td></tr></table></figure><h2 id="留言板动态弹出信封样式"><a href="#留言板动态弹出信封样式" class="headerlink" title="留言板动态弹出信封样式"></a>留言板动态弹出信封样式</h2><blockquote><p>转自 <a href="https://akilar.top/posts/e2d3c450/">Akilar《留言板动态弹出信封样式》</a> 仅用于学习。</p></blockquote><p>已发布插件版，具体配置方案请参看插件文档：<a href="https://www.npmjs.com/package/hexo-butterfly-envelope">hexo-butterfly-envelope</a>。</p><p>1、在 <code>[Blogroot]</code> 运行指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-envelope --save</span><br></pre></td></tr></table></figure><p>2、在站点配置文件或者主题配置文件添加配置项（对，两者任一均可。但不要都写）：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># envelope_comment</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/58900a8/</span></span><br><span class="line"><span class="attr">envelope_comment:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment">#开关</span></span><br><span class="line">  <span class="attr">cover:</span> <span class="string">https://ae01.alicdn.com/kf/U5bb04af32be544c4b41206d9a42fcacfd.jpg</span> <span class="comment">#信笺封面图</span></span><br><span class="line">  <span class="attr">message:</span> <span class="comment">#信笺内容，支持多行</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想问的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想说的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">有什么想吐槽的？</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">哪怕是有什么想吃的，都可以告诉我哦~</span></span><br><span class="line">  <span class="attr">bottom:</span> <span class="string">自动书记人偶竭诚为您服务！</span> <span class="comment">#信笺结束语，只能单行</span></span><br><span class="line">  <span class="attr">height:</span> <span class="comment">#调整信笺划出高度，默认1050px</span></span><br><span class="line">  <span class="attr">path:</span> <span class="comment">#【可选】comments 的路径名称。默认为 comments，生成的页面为 comments/index.html</span></span><br><span class="line">  <span class="attr">front_matter:</span> <span class="comment">#【可选】comments页面的 front_matter 配置</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">留言板</span></span><br><span class="line">    <span class="attr">comments:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><h2 id="引入-Aplayer-播放音乐"><a href="#引入-Aplayer-播放音乐" class="headerlink" title="引入 Aplayer 播放音乐"></a>引入 Aplayer 播放音乐</h2><blockquote><p>转自 <a href="https://akilar.top/posts/3afa069a/">Akilar《引入 Aplayer 播放音乐》</a> 仅用于学习。</p></blockquote><p>1、在博客根目录 <code>[Blogroot]</code> 下打开终端，运行以下指令安装 <a href="https://www.npmjs.com/package/hexo-tag-aplayer">hexo-tag-aplayer</a> 插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-tag-aplayer --save</span><br></pre></td></tr></table></figure><p>2、在站点配置文件 <code>[Blogroot]\_config.yml</code> 中新增配置项，建议直接加在最底下：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># APlayer</span></span><br><span class="line"><span class="comment"># https://github.com/MoePlayer/hexo-tag-aplayer/blob/master/docs/README-zh_cn.md</span></span><br><span class="line"><span class="attr">aplayer:</span></span><br><span class="line">  <span class="attr">meting:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">asset_inject:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><p>3、修改主题配置文件 <code>[Blogroot]\_config.butterfly.yml</code> 中关于 Aplayer 的配置内容：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Inject the css and script (aplayer/meting)</span></span><br><span class="line"><span class="attr">aplayerInject:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">per_page:</span> <span class="literal">true</span></span><br></pre></td></tr></table></figure><p>4、在主题配置文件 <code>[Blogroot]\_config.butterfly.yml</code> 的 inject 配置项中添加 Aplayer 的容器。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;div</span> <span class="string">class=&quot;aplayer</span> <span class="literal">no</span><span class="string">-destroy&quot;</span> <span class="string">data-id=&quot;5183531430&quot;</span> <span class="string">data-server=&quot;netease&quot;</span> <span class="string">data-type=&quot;playlist&quot;</span> <span class="string">data-fixed=&quot;true&quot;</span> <span class="string">data-mini=&quot;true&quot;</span> <span class="string">data-listFolded=&quot;false&quot;</span> <span class="string">data-order=&quot;random&quot;</span> <span class="string">data-preload=&quot;none&quot;</span> <span class="string">data-autoplay=&quot;false&quot;</span> <span class="string">muted&gt;&lt;/div&gt;</span></span><br></pre></td></tr></table></figure><p>5、在博客根目录 <code>[Blogroot]</code> 下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>6、关于更换歌单的问题，大部分同学都因为只更改了 data-id 的值，所以出现歌单加载不出的情况，此处需要注意，<strong>data-id</strong>、<strong>data-server</strong>、<strong>data-type</strong> 分别对应了<code>歌单的id，歌单的服务商、歌单的类型</code><del>（感觉自己说了废话）</del>，所以需要确认这三项是一一对应的。</p><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/a163bdad.png"></p><p>如图中所示，找到网易云歌单的 url，<code>https://music.163.com/#/playlist?id=4907060762</code>, 此处的<strong>palylist</strong> 对应的就是<strong>data-type</strong> 的值，<strong>id</strong> 就是<strong>data-id</strong> 的值，而网易云的<strong>data-server</strong> 为<strong>netease</strong>，这个可以通过 Aplayer 的插件文档查阅到。 只有三个参数对应正确才能正常加载歌单。</p><p>7、Aplayer 的网易云歌单接口时不时的会挂掉，所以如果你确定你配置正确，但是歌单还是没有出现。不妨去看看其他人的站点是不是也没有 Aplayer 标签了来判断是 Aplayer 本身接口的问题还是自己配置出错的问题。</p><p>8、配置成功后会发现 Aplayer 的吸底标签一直占据着左下角的一片空间，对手机端阅读不太友好，可以添加一下 CSS 样式使其自动缩进隐藏。在 <code>[Blogroot]\themes\butterfly\source\css\custom.css</code> 中 (没有这个文件就按照路径自己新建) 添加如下内容：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-body</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: -<span class="number">66px</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="comment">/* 默认情况下缩进左侧66px，只留一点箭头部分 */</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.aplayer</span><span class="selector-class">.aplayer-fixed</span><span class="selector-class">.aplayer-narrow</span> <span class="selector-class">.aplayer-body</span><span class="selector-pseudo">:hover</span> &#123;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span> <span class="meta">!important</span>;</span><br><span class="line">  <span class="comment">/* 鼠标悬停是左侧缩进归零，完全显示按钮 */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>9、不要忘了到主题配置文件引入自定义样式，修改 <code>[Blogroot]_config.butterfly.yml</code> 的 <code>inject</code> 配置项：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  inject:</span><br><span class="line">    head:</span><br><span class="line"><span class="addition">+     - &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/custom.css&quot;  media=&quot;defer&quot; onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span></span><br><span class="line">    bottom:</span><br><span class="line">      - &lt;div class=&quot;aplayer no-destroy&quot; data-id=&quot;5183531430&quot; data-server=&quot;netease&quot; data-type=&quot;playlist&quot; data-fixed=&quot;true&quot; data-mini=&quot;true&quot; data-listFolded=&quot;false&quot; data-order=&quot;random&quot; data-preload=&quot;none&quot; data-autoplay=&quot;false&quot; muted&gt;&lt;/div&gt;</span><br></pre></td></tr></table></figure><h2 id="巫师施法特效"><a href="#巫师施法特效" class="headerlink" title="巫师施法特效"></a>巫师施法特效</h2><blockquote><p>转自 <a href="https://akilar.top/posts/3d221bf2/">Akilar《Loading Animation》</a> 仅用于学习。</p></blockquote><p>1、修改 <code>[Blogroot]\themes\butterfly\layout\includes\loading\loading.pug</code>，本教程算上默认的旋转盒子加载动画，一共提供7种款式，读者可以根据代码结构自行改写移除不需要的内容。</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">if theme.preloader.enable</span><br><span class="line">  case theme.preloader.load_style    </span><br><span class="line">    when &#x27;gear&#x27;</span><br><span class="line">      include ./load_style/gear.pug</span><br><span class="line">    when &#x27;ironheart&#x27;</span><br><span class="line">      include ./load_style/ironheart.pug</span><br><span class="line">    when &#x27;scarecrow&#x27;</span><br><span class="line">      include ./load_style/scarecrow.pug</span><br><span class="line">    when &#x27;triangles&#x27;</span><br><span class="line">      include ./load_style/triangles.pug</span><br><span class="line">    when &#x27;wizard&#x27;</span><br><span class="line">      include ./load_style/wizard.pug</span><br><span class="line">    when &#x27;image&#x27;</span><br><span class="line">      include ./load_style/image.pug</span><br><span class="line">    default</span><br><span class="line">      include ./load_style/default.pug</span><br></pre></td></tr></table></figure><p>2、新建<code>[Blogroot]\themes\butterfly\layout\includes\loading\load_style\wizard.pug</code>,这是<del>无限施法老头</del>巫师施法加载动画。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">#loading-box</span><br><span class="line">  .loading-left-bg</span><br><span class="line">  .loading-right-bg</span><br><span class="line">  .wizard-scene</span><br><span class="line">    .wizard-objects</span><br><span class="line">      .wizard-square</span><br><span class="line">      .wizard-circle</span><br><span class="line">      .wizard-triangle</span><br><span class="line">    .wizard</span><br><span class="line">      .wizard-body</span><br><span class="line">      .wizard-right-arm</span><br><span class="line">        .wizard-right-hand</span><br><span class="line">      .wizard-left-arm</span><br><span class="line">        .wizard-left-hand</span><br><span class="line">      .wizard-head</span><br><span class="line">        .wizard-beard</span><br><span class="line">        .wizard-face</span><br><span class="line">          .wizard-adds</span><br><span class="line">        .wizard-hat</span><br><span class="line">          .wizard-hat-of-the-hat</span><br><span class="line">          .wizard-four-point-star.--first</span><br><span class="line">          .wizard-four-point-star.--second</span><br><span class="line">          .wizard-four-point-star.--third</span><br></pre></td></tr></table></figure><p><img src="https://npm.elemecdn.com/akilar-candyassets/image/wizard.gif"></p><p>3、修改<code>[Blogroot]\themes\butterfly\source\css\_layout\loading.styl</code>，复制以下代码替换全部内容：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;preloader.enable&#x27;</span>)</span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;preloader.load_style&#x27;</span>) == <span class="string">&#x27;gear&#x27;</span></span><br><span class="line">    <span class="keyword">@import</span> <span class="string">&#x27;./_load_style/gear&#x27;</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;preloader.load_style&#x27;</span>) == <span class="string">&#x27;ironheart&#x27;</span></span><br><span class="line">    <span class="keyword">@import</span> <span class="string">&#x27;./_load_style/ironheart&#x27;</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;preloader.load_style&#x27;</span>) == <span class="string">&#x27;scarecrow&#x27;</span></span><br><span class="line">    <span class="keyword">@import</span> <span class="string">&#x27;./_load_style/scarecrow&#x27;</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;preloader.load_style&#x27;</span>) == <span class="string">&#x27;triangles&#x27;</span></span><br><span class="line">    <span class="keyword">@import</span> <span class="string">&#x27;./_load_style/triangles&#x27;</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;preloader.load_style&#x27;</span>) == <span class="string">&#x27;wizard&#x27;</span></span><br><span class="line">    <span class="keyword">@import</span> <span class="string">&#x27;./_load_style/wizard&#x27;</span></span><br><span class="line">  <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;preloader.load_style&#x27;</span>) == <span class="string">&#x27;image&#x27;</span></span><br><span class="line">    <span class="keyword">@import</span> <span class="string">&#x27;./_load_style/image&#x27;</span></span><br><span class="line">  <span class="keyword">else</span></span><br><span class="line">    <span class="keyword">@import</span> <span class="string">&#x27;./_load_style/default&#x27;</span></span><br></pre></td></tr></table></figure><p>4、新建<code>[Blogroot]\themes\butterfly\source\css\_load_style\wizard.styl</code>：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.loading-bg</span></span><br><span class="line">  <span class="attribute">position</span> fixed</span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">1000</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">50%</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">100%</span></span><br><span class="line">  <span class="attribute">background</span> var(--preloader-bg)</span><br><span class="line"><span class="selector-id">#loading-box</span></span><br><span class="line">  <span class="selector-class">.loading-left-bg</span></span><br><span class="line">    <span class="keyword">@extend</span> <span class="selector-class">.loading-bg</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">  <span class="selector-class">.loading-right-bg</span></span><br><span class="line">    <span class="keyword">@extend</span> <span class="selector-class">.loading-bg</span></span><br><span class="line">    <span class="attribute">right</span> <span class="number">0</span></span><br><span class="line">  &amp;<span class="selector-class">.loaded</span></span><br><span class="line">    <span class="attribute">z-index</span> -<span class="number">1000</span></span><br><span class="line">    <span class="selector-class">.loading-left-bg</span></span><br><span class="line">      <span class="attribute">transition</span> all <span class="number">1.0s</span></span><br><span class="line">      <span class="attribute">transform</span> translate(-<span class="number">100%</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="selector-class">.loading-right-bg</span></span><br><span class="line">      <span class="attribute">transition</span> all <span class="number">1.0s</span></span><br><span class="line">      <span class="attribute">transform</span> translate(<span class="number">100%</span>, <span class="number">0</span>)</span><br><span class="line"><span class="selector-id">#loading-box</span></span><br><span class="line">  <span class="attribute">position</span> fixed</span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">1000</span></span><br><span class="line">  <span class="attribute">display</span> -webkit-box</span><br><span class="line">  <span class="attribute">display</span> flex</span><br><span class="line">  -webkit-box-align center</span><br><span class="line">  <span class="attribute">align-items</span> center</span><br><span class="line">  -webkit-box-pack center</span><br><span class="line">  <span class="attribute">justify-content</span> center</span><br><span class="line">  -webkit-box-orient vertical</span><br><span class="line">  -webkit-box-<span class="attribute">direction</span> normal</span><br><span class="line">  <span class="attribute">flex-direction</span> column</span><br><span class="line">  <span class="attribute">flex-wrap</span> wrap</span><br><span class="line">  <span class="attribute">width</span> <span class="number">100vw</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">100vh</span></span><br><span class="line">  <span class="attribute">overflow</span> hidden</span><br><span class="line"></span><br><span class="line">  &amp;<span class="selector-class">.loaded</span></span><br><span class="line">    <span class="selector-class">.wizard-scene</span></span><br><span class="line">      <span class="attribute">display</span> none</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-scene</span></span><br><span class="line">  <span class="attribute">position</span> fixed</span><br><span class="line">  <span class="attribute">z-index</span> <span class="number">1001</span></span><br><span class="line">  <span class="attribute">display</span> -webkit-box</span><br><span class="line">  <span class="attribute">display</span> flex</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard</span></span><br><span class="line">  <span class="attribute">position</span> relative</span><br><span class="line">  <span class="attribute">width</span> <span class="number">190px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">240px</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-body</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">left</span> <span class="number">68px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">100px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">60px</span></span><br><span class="line">  <span class="attribute">background</span> <span class="number">#3f64ce</span></span><br><span class="line">  <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">    <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">bottom</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">100px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">60px</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#3f64ce</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> skewX(<span class="number">14deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> skewX(<span class="number">14deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-right-arm</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">74px</span></span><br><span class="line">  <span class="attribute">left</span> <span class="number">110px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">44px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">90px</span></span><br><span class="line">  <span class="attribute">background</span> <span class="number">#3f64ce</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">22px</span></span><br><span class="line">  -webkit-<span class="attribute">transform-origin</span> <span class="number">16px</span> <span class="number">22px</span></span><br><span class="line">  <span class="attribute">transform-origin</span> <span class="number">16px</span> <span class="number">22px</span></span><br><span class="line">  -webkit-<span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line">  <span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line">  -webkit-<span class="attribute">animation</span> right_arm <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="attribute">animation</span> right_arm <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="selector-class">.right-hand</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">right</span> <span class="number">8px</span></span><br><span class="line">    <span class="attribute">bottom</span> <span class="number">8px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">30px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">30px</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">50%</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#f1c5b4</span></span><br><span class="line">    -webkit-<span class="attribute">transform-origin</span> center center</span><br><span class="line">    <span class="attribute">transform-origin</span> center center</span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">    -webkit-<span class="attribute">animation</span> right_hand <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">    <span class="attribute">animation</span> right_hand <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="selector-class">.wizard-right-hand</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">right</span> <span class="number">0px</span></span><br><span class="line">      <span class="attribute">top</span> -<span class="number">8px</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">15px</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">30px</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">10px</span></span><br><span class="line">      <span class="attribute">background</span> <span class="number">#f1c5b4</span></span><br><span class="line">      -webkit-<span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line">      <span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line">      -webkit-<span class="attribute">animation</span> right_finger <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">      <span class="attribute">animation</span> right_finger <span class="number">10s</span> ease-in-out infinite</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-left-arm</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">74px</span></span><br><span class="line">  <span class="attribute">left</span> <span class="number">26px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">44px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">70px</span></span><br><span class="line">  <span class="attribute">background</span> <span class="number">#3f64ce</span></span><br><span class="line">  <span class="attribute">border-bottom-left-radius</span> <span class="number">8px</span></span><br><span class="line">  -webkit-<span class="attribute">transform-origin</span> <span class="number">60px</span> <span class="number">26px</span></span><br><span class="line">  <span class="attribute">transform-origin</span> <span class="number">60px</span> <span class="number">26px</span></span><br><span class="line">  -webkit-<span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line">  <span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line">  -webkit-<span class="attribute">animation</span> left_arm <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="attribute">animation</span> left_arm <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="selector-class">.wizard-left-hand</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">left</span> -<span class="number">18px</span></span><br><span class="line">    <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">18px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">30px</span></span><br><span class="line">    <span class="attribute">border-top-left-radius</span> <span class="number">35px</span></span><br><span class="line">    <span class="attribute">border-bottom-left-radius</span> <span class="number">35px</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#f1c5b4</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">right</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">30px</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">15px</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">background</span> <span class="number">#f1c5b4</span></span><br><span class="line">      -webkit-<span class="attribute">transform-origin</span> right bottom</span><br><span class="line">      <span class="attribute">transform-origin</span> right bottom</span><br><span class="line">      -webkit-<span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line">      <span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line">      -webkit-<span class="attribute">animation</span> left_finger <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">      <span class="attribute">animation</span> left_finger <span class="number">10s</span> ease-in-out infinite</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-head</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">left</span> <span class="number">14px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">160px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">210px</span></span><br><span class="line">  -webkit-<span class="attribute">transform-origin</span> center center</span><br><span class="line">  <span class="attribute">transform-origin</span> center center</span><br><span class="line">  -webkit-<span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line">  <span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line">  -webkit-<span class="attribute">animation</span> head <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="attribute">animation</span> head <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="selector-class">.wizard-beard</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">bottom</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">38px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">106px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">80px</span></span><br><span class="line">    <span class="attribute">border-bottom-right-radius</span> <span class="number">55%</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#ffffff</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">top</span> <span class="number">16px</span></span><br><span class="line">      <span class="attribute">left</span> -<span class="number">10px</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">40px</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">background</span> <span class="number">#ffffff</span></span><br><span class="line">  <span class="selector-class">.wizard-face</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">bottom</span> <span class="number">76px</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">38px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">30px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">60px</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#f1c5b4</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::before</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">top</span> <span class="number">0px</span></span><br><span class="line">      <span class="attribute">left</span> <span class="number">40px</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">40px</span></span><br><span class="line">      <span class="attribute">border-bottom-right-radius</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">border-bottom-left-radius</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">background</span> <span class="number">#f1c5b4</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">top</span> <span class="number">16px</span></span><br><span class="line">      <span class="attribute">left</span> -<span class="number">10px</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">50px</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">border-bottom-right-radius</span> <span class="number">0px</span></span><br><span class="line">      <span class="attribute">background</span> <span class="number">#ffffff</span></span><br><span class="line">    <span class="selector-class">.wizard-adds</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">top</span> <span class="number">0px</span></span><br><span class="line">      <span class="attribute">left</span> -<span class="number">10px</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">40px</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">background</span> <span class="number">#f1c5b4</span></span><br><span class="line">      <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">        <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="attribute">position</span> absolute</span><br><span class="line">        <span class="attribute">top</span> <span class="number">5px</span></span><br><span class="line">        <span class="attribute">left</span> <span class="number">80px</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">15px</span></span><br><span class="line">        <span class="attribute">height</span> <span class="number">20px</span></span><br><span class="line">        <span class="attribute">border-bottom-right-radius</span> <span class="number">20px</span></span><br><span class="line">        <span class="attribute">border-top-right-radius</span> <span class="number">20px</span></span><br><span class="line">        <span class="attribute">background</span> <span class="number">#f1c5b4</span></span><br><span class="line">  <span class="selector-class">.wizard-hat</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">bottom</span> <span class="number">106px</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">160px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#3f64ce</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::before</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">top</span> -<span class="number">70px</span></span><br><span class="line">      <span class="attribute">left</span> <span class="number">50%</span></span><br><span class="line">      -webkit-<span class="attribute">transform</span> translatex(-<span class="number">50%</span>)</span><br><span class="line">      <span class="attribute">transform</span> translatex(-<span class="number">50%</span>)</span><br><span class="line">      <span class="attribute">width</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">border-style</span> solid</span><br><span class="line">      <span class="attribute">border-width</span> <span class="number">0</span> <span class="number">34px</span> <span class="number">70px</span> <span class="number">50px</span></span><br><span class="line">      <span class="attribute">border-color</span> transparent transparent <span class="number">#3f64ce</span> transparent</span><br><span class="line">    <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">160px</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">20px</span></span><br><span class="line">      <span class="attribute">background</span> <span class="number">#3f64ce</span></span><br><span class="line">      <span class="attribute">border-radius</span> <span class="number">20px</span></span><br><span class="line">    <span class="selector-class">.wizard-hat-of-the-hat</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">bottom</span> <span class="number">78px</span></span><br><span class="line">      <span class="attribute">left</span> <span class="number">79px</span></span><br><span class="line">      <span class="attribute">width</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">border-style</span> solid</span><br><span class="line">      <span class="attribute">border-width</span> <span class="number">0</span> <span class="number">25px</span> <span class="number">25px</span> <span class="number">19px</span></span><br><span class="line">      <span class="attribute">border-color</span> transparent transparent <span class="number">#3f64ce</span> transparent</span><br><span class="line">      <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">        <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="attribute">position</span> absolute</span><br><span class="line">        <span class="attribute">top</span> <span class="number">6px</span></span><br><span class="line">        <span class="attribute">left</span> -<span class="number">4px</span></span><br><span class="line">        <span class="attribute">width</span> <span class="number">35px</span></span><br><span class="line">        <span class="attribute">height</span> <span class="number">10px</span></span><br><span class="line">        <span class="attribute">border-radius</span> <span class="number">10px</span></span><br><span class="line">        <span class="attribute">border-bottom-left-radius</span> <span class="number">0px</span></span><br><span class="line">        <span class="attribute">background</span> <span class="number">#3f64ce</span></span><br><span class="line">        -webkit-<span class="attribute">transform</span> rotate(<span class="number">40deg</span>)</span><br><span class="line">        <span class="attribute">transform</span> rotate(<span class="number">40deg</span>)</span><br><span class="line">    <span class="selector-class">.wizard-four-point-star</span></span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">width</span> <span class="number">12px</span></span><br><span class="line">      <span class="attribute">height</span> <span class="number">12px</span></span><br><span class="line">      <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">        -webkit-<span class="attribute">transform</span> rotate(<span class="number">156.66deg</span>) skew(<span class="number">45deg</span>)</span><br><span class="line">        <span class="attribute">transform</span> rotate(<span class="number">156.66deg</span>) skew(<span class="number">45deg</span>)</span><br><span class="line">      &amp;.<span class="attr">--first</span></span><br><span class="line">        <span class="attribute">bottom</span> <span class="number">28px</span></span><br><span class="line">        <span class="attribute">left</span> <span class="number">46px</span></span><br><span class="line">      &amp;.<span class="attr">--second</span></span><br><span class="line">        <span class="attribute">bottom</span> <span class="number">40px</span></span><br><span class="line">        <span class="attribute">left</span> <span class="number">80px</span></span><br><span class="line">      &amp;.<span class="attr">--third</span></span><br><span class="line">        <span class="attribute">bottom</span> <span class="number">15px</span></span><br><span class="line">        <span class="attribute">left</span> <span class="number">108px</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-head</span> <span class="selector-class">.wizard-hat</span> <span class="selector-class">.wizard-four-point-star</span><span class="selector-pseudo">::after</span>, <span class="selector-class">.wizard-head</span> <span class="selector-class">.wizard-hat</span> <span class="selector-class">.wizard-four-point-star</span><span class="selector-pseudo">::before</span></span><br><span class="line">  <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">background</span> <span class="number">#ffffff</span></span><br><span class="line">  <span class="attribute">display</span> block</span><br><span class="line">  <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">141.4213%</span></span><br><span class="line">  <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">10%</span></span><br><span class="line">  -webkit-<span class="attribute">transform</span> rotate(<span class="number">66.66deg</span>) skewX(<span class="number">45deg</span>)</span><br><span class="line">  <span class="attribute">transform</span> rotate(<span class="number">66.66deg</span>) skewX(<span class="number">45deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-objects</span></span><br><span class="line">  <span class="attribute">position</span> relative</span><br><span class="line">  <span class="attribute">width</span> <span class="number">200px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">240px</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-square</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">bottom</span> -<span class="number">60px</span></span><br><span class="line">  <span class="attribute">left</span> -<span class="number">5px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">120px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">120px</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">50%</span></span><br><span class="line">  -webkit-<span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">  <span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">  -webkit-<span class="attribute">animation</span> path_square <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="attribute">animation</span> path_square <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">    <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">top</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">50px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">50px</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#9ab3f5</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-circle</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">bottom</span> <span class="number">10px</span></span><br><span class="line">  <span class="attribute">left</span> <span class="number">0</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">100px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">100px</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">50%</span></span><br><span class="line">  -webkit-<span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">  <span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">  -webkit-<span class="attribute">animation</span> path_circle <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="attribute">animation</span> path_circle <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">    <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">bottom</span> -<span class="number">10px</span></span><br><span class="line">    <span class="attribute">left</span> <span class="number">25px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">50px</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">50px</span></span><br><span class="line">    <span class="attribute">border-radius</span> <span class="number">50%</span></span><br><span class="line">    <span class="attribute">background</span> <span class="number">#c56183</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.wizard-triangle</span></span><br><span class="line">  <span class="attribute">position</span> absolute</span><br><span class="line">  <span class="attribute">bottom</span> -<span class="number">62px</span></span><br><span class="line">  <span class="attribute">left</span> -<span class="number">10px</span></span><br><span class="line">  <span class="attribute">width</span> <span class="number">110px</span></span><br><span class="line">  <span class="attribute">height</span> <span class="number">110px</span></span><br><span class="line">  <span class="attribute">border-radius</span> <span class="number">50%</span></span><br><span class="line">  -webkit-<span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">  <span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">  -webkit-<span class="attribute">animation</span> path_triangle <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="attribute">animation</span> path_triangle <span class="number">10s</span> ease-in-out infinite</span><br><span class="line">  <span class="selector-pseudo">&amp;::after</span></span><br><span class="line">    <span class="attribute">content</span> <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="attribute">position</span> absolute</span><br><span class="line">    <span class="attribute">top</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">right</span> -<span class="number">10px</span></span><br><span class="line">    <span class="attribute">width</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">height</span> <span class="number">0</span></span><br><span class="line">    <span class="attribute">border-style</span> solid</span><br><span class="line">    <span class="attribute">border-width</span> <span class="number">0</span> <span class="number">28px</span> <span class="number">48px</span> <span class="number">28px</span></span><br><span class="line">    <span class="attribute">border-color</span> transparent transparent <span class="number">#89beb3</span> transparent</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/** 10s animation - 10% = 1s */</span></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> right_arm</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">8deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">8deg</span>)</span><br><span class="line">  <span class="number">15%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">20deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">20deg</span>)</span><br><span class="line">  <span class="number">20%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">25%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">26deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">26deg</span>)</span><br><span class="line">  <span class="number">30%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">35%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">28deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">28deg</span>)</span><br><span class="line">  <span class="number">40%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">9deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">9deg</span>)</span><br><span class="line">  <span class="number">45%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">28deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">28deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">8deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">8deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">74deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">74deg</span>)</span><br><span class="line">  <span class="number">62%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> right_arm</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">8deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">8deg</span>)</span><br><span class="line">  <span class="number">15%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">20deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">20deg</span>)</span><br><span class="line">  <span class="number">20%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">25%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">26deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">26deg</span>)</span><br><span class="line">  <span class="number">30%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">35%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">28deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">28deg</span>)</span><br><span class="line">  <span class="number">40%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">9deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">9deg</span>)</span><br><span class="line">  <span class="number">45%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">28deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">28deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">8deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">8deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">74deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">74deg</span>)</span><br><span class="line">  <span class="number">62%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">70deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> left_arm</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">6deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">6deg</span>)</span><br><span class="line">  <span class="number">15%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">  <span class="number">20%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">25%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">  <span class="number">30%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">35%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">17deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">17deg</span>)</span><br><span class="line">  <span class="number">40%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">45%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">6deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">6deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">74deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">74deg</span>)</span><br><span class="line">  <span class="number">62%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> left_arm</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">6deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">6deg</span>)</span><br><span class="line">  <span class="number">15%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">  <span class="number">20%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">25%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">  <span class="number">30%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">35%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">17deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">17deg</span>)</span><br><span class="line">  <span class="number">40%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">45%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">18deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">6deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">6deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">74deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">74deg</span>)</span><br><span class="line">  <span class="number">62%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">70deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> right_hand</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">20deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">20deg</span>)</span><br><span class="line">  <span class="number">15%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">20%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">  <span class="number">25%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">30%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">  <span class="number">35%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">40%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">  <span class="number">45%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">60%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> right_hand</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">20deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">20deg</span>)</span><br><span class="line">  <span class="number">15%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">20%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">  <span class="number">25%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">30%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">  <span class="number">35%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">40%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">  <span class="number">45%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">60deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">60%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">40deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> right_finger</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> none</span><br><span class="line">    <span class="attribute">transform</span> none</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> none</span><br><span class="line">    <span class="attribute">transform</span> none</span><br><span class="line">  <span class="number">60%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> right_finger</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> none</span><br><span class="line">    <span class="attribute">transform</span> none</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> none</span><br><span class="line">    <span class="attribute">transform</span> none</span><br><span class="line">  <span class="number">60%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">16px</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> left_finger</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">6deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">6deg</span>)</span><br><span class="line">  <span class="number">15%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">20%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">8deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">8deg</span>)</span><br><span class="line">  <span class="number">25%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">30%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">7deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">7deg</span>)</span><br><span class="line">  <span class="number">35%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">40%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">45%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">6deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">6deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> left_finger</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">6deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">6deg</span>)</span><br><span class="line">  <span class="number">15%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">20%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">8deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">8deg</span>)</span><br><span class="line">  <span class="number">25%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">30%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">7deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">7deg</span>)</span><br><span class="line">  <span class="number">35%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">40%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">45%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">6deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">1</span>) rotate(<span class="number">6deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> scaleX(<span class="number">0</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> head</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translatex(<span class="number">10px</span>) rotate(<span class="number">7deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translatex(<span class="number">10px</span>) rotate(<span class="number">7deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translatex(<span class="number">0px</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translatex(<span class="number">0px</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">56%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> head</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translatex(<span class="number">10px</span>) rotate(<span class="number">7deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translatex(<span class="number">10px</span>) rotate(<span class="number">7deg</span>)</span><br><span class="line">  <span class="number">50%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translatex(<span class="number">0px</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translatex(<span class="number">0px</span>) rotate(<span class="number">0deg</span>)</span><br><span class="line">  <span class="number">56%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">3deg</span>)</span><br><span class="line"><span class="comment">/** 10s animation - 10% = 1s */</span></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> path_circle</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">55%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">360deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">360deg</span>)</span><br><span class="line">  <span class="number">63%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> path_circle</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">5deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">5deg</span>)</span><br><span class="line">  <span class="number">55%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">360deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">100px</span>) rotate(-<span class="number">360deg</span>)</span><br><span class="line">  <span class="number">63%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> path_square</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">55%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(-<span class="number">350deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(-<span class="number">350deg</span>)</span><br><span class="line">  <span class="number">57%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(-<span class="number">350deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(-<span class="number">350deg</span>)</span><br><span class="line">  <span class="number">63%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> path_square</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">55%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(-<span class="number">350deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(-<span class="number">350deg</span>)</span><br><span class="line">  <span class="number">57%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(-<span class="number">350deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">155px</span>) translatex(-<span class="number">15px</span>) rotate(-<span class="number">350deg</span>)</span><br><span class="line">  <span class="number">63%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@-webkit-keyframes</span> path_triangle</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">55%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">365deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">365deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">365deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">365deg</span>)</span><br><span class="line">  <span class="number">63%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> path_triangle</span><br><span class="line">  <span class="number">0%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(<span class="number">0</span>)</span><br><span class="line">  <span class="number">10%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">10deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">10deg</span>)</span><br><span class="line">  <span class="number">55%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">365deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">365deg</span>)</span><br><span class="line">  <span class="number">58%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">365deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> translateY(-<span class="number">172px</span>) translatex(<span class="number">10px</span>) rotate(-<span class="number">365deg</span>)</span><br><span class="line">  <span class="number">63%</span></span><br><span class="line">    -webkit-<span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br><span class="line">    <span class="attribute">transform</span> rotate(-<span class="number">360deg</span>)</span><br></pre></td></tr></table></figure><p>5、修改<code>[Blogroot]\themes\butterfly\layout\includes\layout.pug</code>，以适配接下来需要添加的配置项：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    body</span><br><span class="line"><span class="deletion">-     if theme.preloader</span></span><br><span class="line"><span class="addition">+     if theme.preloader.enable</span></span><br><span class="line">        !=partial(&#x27;includes/loading/loading&#x27;, &#123;&#125;, &#123;cache: true&#125;)</span><br></pre></td></tr></table></figure><p>6、修改<code>[Blogroot]\themes\butterfly\source\css\var.styl</code>，添加自定义修改背景色的配置项。(大概98行的位置)</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">      // preloader</span><br><span class="line"><span class="deletion">-     $preloader-bg = #37474f</span></span><br><span class="line"><span class="addition">+     $preloader-bg = hexo-config(&#x27;preloader.enable&#x27;) &amp;&amp; hexo-config(&#x27;preloader.load_color&#x27;) ? convert(hexo-config(&#x27;preloader.load_color&#x27;)) : #37474f</span></span><br><span class="line">      $preloader-word-color = #fff</span><br></pre></td></tr></table></figure><p>7、修改<code>[Blogroot]\_config.butterfly.yml</code>的<code>preloader</code>配置项。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    # Loading Animation (加載動畫)</span><br><span class="line"><span class="deletion">-   preloader: true</span></span><br><span class="line"><span class="addition">+   preloader:</span></span><br><span class="line"><span class="addition">+     enable: true # true|false</span></span><br><span class="line"><span class="addition">+     load_color: &#x27;#000000&#x27; # &#x27;#37474f&#x27;</span></span><br><span class="line"><span class="addition">+     load_style: wizard # default|gear|ironheart|scarecrow|triangles|wizard|image</span></span><br><span class="line"><span class="addition">+     load_image:  # url</span></span><br></pre></td></tr></table></figure><p>8、此项为非必要修改项，主要是为了避免使用<code>image</code>主题时，切换夜间模式后，背景色被强制覆盖为黑色<del>，说白了就是治疗强迫症</del>。修改<code>[Blogroot]\themes\butterfly\source\css\_mode\darkmode.styl</code>第10行的<code>--preloader-bg: darken(#121212, 2)</code>。</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    --search-input-color: alpha(#FFFFFF, .7)</span><br><span class="line">    --search-result-title: alpha(#FFFFFF, .9)</span><br><span class="line"><span class="deletion">-   --preloader-bg: darken(#121212, 2)</span></span><br><span class="line"><span class="addition">+   --preloader-bg: darken(#ca3b3e, -2)</span></span><br><span class="line">    --preloader-color: alpha(#FFFFFF, .7)</span><br><span class="line">    --tab-border-color: #2c2c2c</span><br></pre></td></tr></table></figure><p>其中<code>#ca3b3e</code>是设置为image主题时，切换为夜间模式后，自定义图片的背景色值。（切换夜间模式时，整个页面会降低色调，所以连带着自定义图片的色值也变暗，需要重新取值。）</p><h2 id="首页置顶轮播图"><a href="#首页置顶轮播图" class="headerlink" title="首页置顶轮播图"></a>首页置顶轮播图</h2><blockquote><p>转自 <a href="https://akilar.top/posts/8e1264d1/">Akilar《Swiper Bar》</a> 仅用于学习。</p></blockquote><p>1、安装插件，在博客根目录 <code>[Blogroot]</code> 下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-swiper --save</span><br></pre></td></tr></table></figure><p>2、添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code> 或者主题配置文件<code>_config.butterfly.yml</code> 中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-butterfly-swiper</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/8e1264d1/</span></span><br><span class="line"><span class="attr">swiper:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">timemode:</span> <span class="string">date</span> <span class="comment">#date/updated</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">default_descr:</span> <span class="string">再怎么看我也不知道怎么描述它的啦！</span></span><br><span class="line">  <span class="attr">swiper_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.css</span> <span class="comment">#swiper css依赖</span></span><br><span class="line">  <span class="attr">swiper_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper.min.js</span> <span class="comment">#swiper js依赖</span></span><br><span class="line">  <span class="attr">custom_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiperstyle.css</span> <span class="comment"># 适配主题样式补丁</span></span><br><span class="line">  <span class="attr">custom_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-swiper/lib/swiper_init.js</span> <span class="comment"># swiper初始化方法</span></span><br></pre></td></tr></table></figure><p>3、在文章的 <code>front_matter</code> 中添加 <code>swiper_index</code> 配置项即可。</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 文章标题</span><br><span class="line">date: 创建日期</span><br><span class="line">updated: 更新日期</span><br><span class="line">cover: 文章封面</span><br><span class="line">description: 文章描述</span><br><span class="line"><span class="section">swiper<span class="emphasis">_index: 1 #置顶轮播图顺序，非负整数，数字越大越靠前</span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure><h2 id="gitcalendar"><a href="#gitcalendar" class="headerlink" title="gitcalendar"></a>gitcalendar</h2><blockquote><p>转自 <a href="https://akilar.top/posts/1f9c68c9/">Akilar《Gitcalendar》</a> 仅用于学习。</p></blockquote><p>1、安装插件，在博客根目录 <code>[Blogroot]</code> 下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-filter-gitcalendar --save</span><br></pre></td></tr></table></figure><p>2、添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code> 或者主题配置文件如<code>_config.butterfly.yml</code> 中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-filter-gitcalendar</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/1f9c68c9/</span></span><br><span class="line"><span class="attr">gitcalendar:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">/</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="comment"># butterfly挂载容器</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">id</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">recent-posts</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="comment"># volantis挂载容器</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: l_main</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># matery挂载容器</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: id</span></span><br><span class="line">  <span class="comment">#   name: indexCard</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="comment"># mengd挂载容器</span></span><br><span class="line">  <span class="comment"># layout:</span></span><br><span class="line">  <span class="comment">#   type: class</span></span><br><span class="line">  <span class="comment">#   name: content</span></span><br><span class="line">  <span class="comment">#   index: 0</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">Akilarlxh</span> <span class="comment">#git用户名</span></span><br><span class="line">  <span class="attr">apiurl:</span> <span class="string">&#x27;https://gitcalendar.akilar.top&#x27;</span></span><br><span class="line">  <span class="attr">minheight:</span></span><br><span class="line">    <span class="attr">pc:</span> <span class="string">280px</span> <span class="comment">#桌面端最小高度</span></span><br><span class="line">    <span class="attr">mibile:</span> <span class="string">0px</span> <span class="comment">#移动端最小高度</span></span><br><span class="line">  <span class="attr">color:</span> <span class="string">&quot;[&#x27;#e4dfd7&#x27;, &#x27;#f9f4dc&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f7e8aa&#x27;, &#x27;#f8df72&#x27;, &#x27;#fcd217&#x27;, &#x27;#fcc515&#x27;, &#x27;#f28e16&#x27;, &#x27;#fb8b05&#x27;, &#x27;#d85916&#x27;, &#x27;#f43e06&#x27;]&quot;</span> <span class="comment">#橘黄色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#fdcdec&#x27;, &#x27;#fc9bd9&#x27;, &#x27;#fa6ac5&#x27;, &#x27;#f838b2&#x27;, &#x27;#f5089f&#x27;, &#x27;#c4067e&#x27;, &#x27;#92055e&#x27;, &#x27;#540336&#x27;, &#x27;#48022f&#x27;, &#x27;#30021f&#x27;]&quot; #浅紫色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f0fff4&#x27;, &#x27;#dcffe4&#x27;, &#x27;#bef5cb&#x27;, &#x27;#85e89d&#x27;, &#x27;#34d058&#x27;, &#x27;#28a745&#x27;, &#x27;#22863a&#x27;, &#x27;#176f2c&#x27;, &#x27;#165c26&#x27;, &#x27;#144620&#x27;]&quot; #翠绿色调</span></span><br><span class="line">  <span class="comment"># color: &quot;[&#x27;#ebedf0&#x27;, &#x27;#f1f8ff&#x27;, &#x27;#dbedff&#x27;, &#x27;#c8e1ff&#x27;, &#x27;#79b8ff&#x27;, &#x27;#2188ff&#x27;, &#x27;#0366d6&#x27;, &#x27;#005cc5&#x27;, &#x27;#044289&#x27;, &#x27;#032f62&#x27;, &#x27;#05264c&#x27;]&quot; #天青色调</span></span><br><span class="line">  <span class="attr">container:</span> <span class="string">.recent-post-item(style=&#x27;width:100%;height:auto;padding:10px;&#x27;)</span> <span class="comment">#父元素容器，需要使用pug语法</span></span><br><span class="line">  <span class="attr">gitcalendar_css:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.css</span></span><br><span class="line">  <span class="attr">gitcalendar_js:</span> <span class="string">https://npm.elemecdn.com/hexo-filter-gitcalendar/lib/gitcalendar.js</span></span><br></pre></td></tr></table></figure><h2 id="侧边栏时钟"><a href="#侧边栏时钟" class="headerlink" title="侧边栏时钟"></a>侧边栏时钟</h2><blockquote><p>转自 <a href="https://akilar.top/posts/4e39cf4a/">Akilar《Sidebar Card Clock》</a> 仅用于学习。</p></blockquote><p>1、安装插件，在博客根目录 <code>[Blogroot]</code> 下打开终端，运行以下指令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-butterfly-clock --save</span><br></pre></td></tr></table></figure><p>2、添加配置信息，以下为写法示例<br>在站点配置文件<code>_config.yml</code> 或者主题配置文件<code>_config.butterfly.yml</code> 中添加：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># electric_clock</span></span><br><span class="line"><span class="comment"># see https://akilar.top/posts/4e39cf4a/</span></span><br><span class="line"><span class="attr">electric_clock:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span> <span class="comment"># 开关</span></span><br><span class="line">  <span class="attr">priority:</span> <span class="number">5</span> <span class="comment">#过滤器优先权</span></span><br><span class="line">  <span class="attr">enable_page:</span> <span class="string">all</span> <span class="comment"># 应用页面</span></span><br><span class="line">  <span class="attr">exclude:</span></span><br><span class="line">    <span class="comment"># - /posts/</span></span><br><span class="line">    <span class="comment"># - /about/</span></span><br><span class="line">  <span class="attr">layout:</span> <span class="comment"># 挂载容器类型</span></span><br><span class="line">    <span class="attr">type:</span> <span class="string">class</span></span><br><span class="line">    <span class="attr">name:</span> <span class="string">sticky_layout</span></span><br><span class="line">    <span class="attr">index:</span> <span class="number">0</span></span><br><span class="line">  <span class="attr">loading:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-clock/lib/loading.gif</span> <span class="comment">#加载动画自定义</span></span><br><span class="line">  <span class="attr">clock_css:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.css</span></span><br><span class="line">  <span class="attr">clock_js:</span> <span class="string">https://npm.elemecdn.com/hexo-butterfly-clock/lib/clock.min.js</span></span><br><span class="line">  <span class="attr">ip_api:</span> <span class="string">https://pv.sohu.com/cityjson?ie=utf-8</span></span><br></pre></td></tr></table></figure><h2 id="版权申明美化"><a href="#版权申明美化" class="headerlink" title="版权申明美化"></a>版权申明美化</h2><blockquote><p>转自 <a href="https://akilar.top/posts/8322f8e6/">Akilar《Copyright-beautify》</a> 仅用于学习。</p></blockquote><p>1、修改 <code>[Blogroot]\themes\butterfly\layout\includes\post\post-copyright.pug</code>, 直接复制以下内容替换原文件内容。此处多次用到了三元运算符作为默认项设置，在确保有主题配置文件的默认项的情况下，也可以在相应文章的 <code>front-matter</code> 中重新定义作者，原文链接，开源许可协议等内容。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">if theme.post_copyright.enable &amp;&amp; page.copyright !== false</span><br><span class="line">  - let author = page.copyright_author ? page.copyright_author : config.author</span><br><span class="line">  - let url = page.copyright_url ? page.copyright_url : page.permalink</span><br><span class="line">  - let license = page.license ? page.license : theme.post_copyright.license</span><br><span class="line">  - let license_url = page.license_url ? page.license_url : theme.post_copyright.license_url</span><br><span class="line">  .post-copyright</span><br><span class="line">    .post-copyright__title</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        h #[=page.title]</span><br><span class="line">    .post-copyright__type</span><br><span class="line">      span.post-copyright-info</span><br><span class="line">        a(href=url_for(url))= theme.post_copyright.decode ? decodeURI(url) : url</span><br><span class="line">    .post-copyright-m</span><br><span class="line">      .post-copyright-m-info</span><br><span class="line">        .post-copyright-a</span><br><span class="line">            h 作者</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=author</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 发布于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=date(page.date, config.date_format)</span><br><span class="line">        .post-copyright-u</span><br><span class="line">            h 更新于</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                h=date(page.updated, config.date_format)</span><br><span class="line">        .post-copyright-c</span><br><span class="line">            h 许可协议</span><br><span class="line">            .post-copyright-cc-info</span><br><span class="line">                a.icon(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=&#x27;Creative Commons&#x27; href=&#x27;https://creativecommons.org/&#x27;)</span><br><span class="line">                  i.fab.fa-creative-commons</span><br><span class="line">                a(rel=&#x27;noopener&#x27; target=&#x27;_blank&#x27; title=license href=url_for(license_url))=license</span><br></pre></td></tr></table></figure><p>2、修改 <code>[Blogroot]\themes\butterfly\source\css\_layout\post.styl</code>, 直接复制以下内容，替换原文件。</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">beautify</span><span class="params">()</span></span></span><br><span class="line">  <span class="built_in">headStyle</span>(fontsize)</span><br><span class="line">    <span class="attribute">padding-left</span>: unit(fontsize + <span class="number">12</span>, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">margin-left</span>: unit((-(fontsize + <span class="number">6</span>)), <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line">      <span class="attribute">font-size</span>: unit(fontsize, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">padding-left</span>: unit(fontsize + <span class="number">18</span>, <span class="string">&#x27;px&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span>,</span><br><span class="line">  <span class="selector-tag">h2</span>,</span><br><span class="line">  <span class="selector-tag">h3</span>,</span><br><span class="line">  <span class="selector-tag">h4</span>,</span><br><span class="line">  <span class="selector-tag">h5</span>,</span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">top</span>: calc(<span class="number">50%</span> - <span class="number">7px</span>)</span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$title</span>-prefix-icon-color</span><br><span class="line">      <span class="attribute">content</span>: <span class="variable">$title</span>-prefix-icon</span><br><span class="line">      <span class="attribute">line-height</span>: <span class="number">1</span></span><br><span class="line">      <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-out</span><br><span class="line">      <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h1</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h2</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">18</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h3</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">16</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h4</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">14</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h5</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">h6</span></span><br><span class="line">    <span class="built_in">headStyle</span>(<span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">li</span></span><br><span class="line">    <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">      <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">      <span class="attribute">font-weight</span>: <span class="number">600</span></span><br><span class="line">      <span class="attribute">font-size</span>: <span class="number">1.05em</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="selector-pseudo">&amp;::marker</span></span><br><span class="line">        <span class="attribute">color</span>: var(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ul</span> &gt; <span class="selector-tag">li</span></span><br><span class="line">    <span class="attribute">list-style-type</span>: circle</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#article-container</span></span><br><span class="line">  <span class="attribute">word-wrap</span>: break-word</span><br><span class="line">  <span class="attribute">overflow-wrap</span>: break-word</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">a</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-link-color</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">text-decoration</span>: underline</span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">img</span></span><br><span class="line">    <span class="attribute">display</span>: block</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> auto <span class="number">20px</span></span><br><span class="line">    <span class="attribute">max-width</span>: <span class="number">100%</span></span><br><span class="line">    <span class="attribute">transition</span>: filter <span class="number">375ms</span> ease-in .<span class="number">2s</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">p</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">16px</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">iframe</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;anchor&#x27;</span>)</span><br><span class="line">    <span class="selector-tag">a</span><span class="selector-class">.headerlink</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">float</span>: right</span><br><span class="line">        <span class="attribute">color</span>: var(--headline-presudo)</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f0c1&#x27;</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">95em</span></span><br><span class="line">        <span class="attribute">opacity</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">3s</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">          <span class="attribute">color</span>: var(--pseudo-hover)</span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">h1</span>,</span><br><span class="line">    <span class="selector-tag">h2</span>,</span><br><span class="line">    <span class="selector-tag">h3</span>,</span><br><span class="line">    <span class="selector-tag">h4</span>,</span><br><span class="line">    <span class="selector-tag">h5</span>,</span><br><span class="line">    <span class="selector-tag">h6</span></span><br><span class="line">      <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">        <span class="selector-tag">a</span><span class="selector-class">.headerlink</span></span><br><span class="line">          <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">            <span class="attribute">opacity</span>: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  <span class="selector-tag">ol</span>,</span><br><span class="line">  <span class="selector-tag">ul</span></span><br><span class="line">    <span class="selector-tag">ol</span>,</span><br><span class="line">    <span class="selector-tag">ul</span></span><br><span class="line">      <span class="attribute">padding-left</span>: <span class="number">20px</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">li</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">4px</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-tag">p</span></span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.enable&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;site&#x27;</span></span><br><span class="line">      <span class="built_in">beautify</span>()</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;beautify.field&#x27;</span>) == <span class="string">&#x27;post&#x27;</span></span><br><span class="line">      &amp;<span class="selector-class">.post-content</span></span><br><span class="line">        <span class="built_in">beautify</span>()</span><br><span class="line"></span><br><span class="line">  &gt; <span class="selector-pseudo">:last-child</span></span><br><span class="line">    <span class="attribute">margin-bottom</span>: <span class="number">0</span> <span class="meta">!important</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.tag_share</span></span><br><span class="line">    <span class="selector-class">.post-meta</span></span><br><span class="line">      &amp;__tag-list</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line"></span><br><span class="line">      &amp;__tags</span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">8px</span> <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">12px</span></span><br><span class="line">        <span class="attribute">width</span>: fit-content</span><br><span class="line">        <span class="attribute">border</span>: <span class="number">1px</span> solid <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">12px</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line">        <span class="attribute">transition</span>: all .<span class="number">2s</span> ease-in-out</span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">          <span class="attribute">background</span>: <span class="variable">$light</span>-blue</span><br><span class="line">          <span class="attribute">color</span>: var(--white)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post_share</span></span><br><span class="line">      <span class="attribute">display</span>: inline-block</span><br><span class="line">      <span class="attribute">float</span>: right</span><br><span class="line">      <span class="attribute">margin</span>: <span class="number">8px</span> <span class="number">0</span></span><br><span class="line">      <span class="attribute">width</span>: fit-content</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.social-share</span></span><br><span class="line">        <span class="attribute">font-size</span>: .<span class="number">85em</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.social-share-icon</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">4px</span></span><br><span class="line">          <span class="attribute">width</span>: w = <span class="number">1.85em</span></span><br><span class="line">          <span class="attribute">height</span>: w</span><br><span class="line">          <span class="attribute">font-size</span>: <span class="number">1.2em</span></span><br><span class="line">          <span class="attribute">line-height</span>: w</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span> <span class="number">10px</span></span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">10px</span> <span class="number">16px</span></span><br><span class="line">    <span class="attribute">border</span>: <span class="number">1px</span> solid var(--light-grey)</span><br><span class="line">    <span class="attribute">transition</span>: box-shadow .<span class="number">3s</span> ease-in-out</span><br><span class="line">    <span class="attribute">overflow</span>: hidden</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">12px</span><span class="meta">!important</span></span><br><span class="line">    <span class="attribute">background-color</span>: rgb(<span class="number">239</span> <span class="number">241</span> <span class="number">243</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">      <span class="attribute">background</span> var(--heo-post-blockquote-bg)</span><br><span class="line">      <span class="attribute">position</span> absolute</span><br><span class="line">      <span class="attribute">right</span> -<span class="number">26px</span></span><br><span class="line">      <span class="attribute">top</span> -<span class="number">120px</span></span><br><span class="line">      <span class="attribute">content</span> <span class="string">&#x27;\f25e&#x27;</span></span><br><span class="line">      <span class="attribute">font-size</span> <span class="number">200px</span></span><br><span class="line">      <span class="attribute">font-family</span> <span class="string">&#x27;Font Awesome 5 Brands&#x27;</span></span><br><span class="line">      <span class="attribute">opacity</span> .<span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">8px</span> <span class="number">0</span> rgba(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">6</span>), <span class="number">0</span> <span class="number">2px</span> <span class="number">4px</span> <span class="number">0</span> rgba(<span class="number">232</span>, <span class="number">237</span>, <span class="number">250</span>, .<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      &amp;-meta</span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$light</span>-blue</span><br><span class="line">        <span class="attribute">font-weight</span>: bold</span><br><span class="line"></span><br><span class="line">      &amp;-info</span><br><span class="line">        <span class="attribute">padding-left</span>: <span class="number">6px</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-tag">a</span></span><br><span class="line">          <span class="attribute">text-decoration</span>: none</span><br><span class="line">          <span class="attribute">word-break</span>: break-word</span><br><span class="line"></span><br><span class="line">          <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">            <span class="attribute">text-decoration</span>: none</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-copyright-cc-info</span></span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$theme</span>-color;</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.post-outdate-notice</span></span><br><span class="line">    <span class="attribute">position</span>: relative</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">20px</span></span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1.2em</span></span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">3px</span></span><br><span class="line">    <span class="attribute">background-color</span>: <span class="variable">$noticeOutdate</span>-bg</span><br><span class="line">    <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-color</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">hexo-config</span>(<span class="string">&#x27;noticeOutdate.style&#x27;</span>) == <span class="string">&#x27;flat&#x27;</span></span><br><span class="line">      <span class="attribute">padding</span>: .<span class="number">5em</span> <span class="number">1em</span> .<span class="number">5em</span> <span class="number">2.6em</span></span><br><span class="line">      <span class="attribute">border-left</span>: <span class="number">5px</span> solid <span class="variable">$noticeOutdate</span>-border</span><br><span class="line"></span><br><span class="line">      <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">        <span class="keyword">@extend</span> <span class="selector-class">.fontawesomeIcon</span></span><br><span class="line">        <span class="attribute">position</span>: absolute</span><br><span class="line">        <span class="attribute">top</span>: <span class="number">50%</span></span><br><span class="line">        <span class="attribute">left</span>: .<span class="number">9em</span></span><br><span class="line">        <span class="attribute">color</span>: <span class="variable">$noticeOutdate</span>-border</span><br><span class="line">        <span class="attribute">content</span>: <span class="string">&#x27;\f071&#x27;</span></span><br><span class="line">        <span class="attribute">transform</span>: translateY(-<span class="number">50%</span>)</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.ads-wrap</span></span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">40px</span> <span class="number">0</span></span><br><span class="line"><span class="selector-class">.post-copyright-m-info</span></span><br><span class="line">  <span class="selector-class">.post-copyright-a</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-c</span>,</span><br><span class="line">  <span class="selector-class">.post-copyright-u</span></span><br><span class="line">    <span class="attribute">display</span> inline-block</span><br><span class="line">    <span class="attribute">width</span> fit-content</span><br><span class="line">    <span class="attribute">padding</span> <span class="number">2px</span> <span class="number">5px</span></span><br><span class="line"><span class="selector-attr">[data-theme=<span class="string">&quot;dark&quot;</span>]</span></span><br><span class="line">  <span class="selector-id">#post</span></span><br><span class="line">    <span class="selector-class">.post-copyright</span></span><br><span class="line">      <span class="attribute">background-color</span> <span class="number">#07080a</span></span><br><span class="line">      <span class="attribute">text-shadow</span> <span class="number">#bfbeb8</span> <span class="number">0</span> <span class="number">0</span> <span class="number">2px</span></span><br><span class="line">      <span class="attribute">border</span> <span class="number">1px</span> solid rgb(<span class="number">19</span> <span class="number">18</span> <span class="number">18</span> / <span class="number">35%</span>)</span><br><span class="line">      <span class="attribute">box-shadow</span> <span class="number">0</span> <span class="number">0</span> <span class="number">5px</span> rgb(<span class="number">20</span>, <span class="number">120</span>, <span class="number">210</span>)</span><br><span class="line">      <span class="attribute">animation</span> flashlight <span class="number">1s</span> linear infinite alternate</span><br><span class="line">  <span class="selector-class">.post-copyright-info</span></span><br><span class="line">    <span class="attribute">color</span> <span class="number">#e0e0e4</span></span><br><span class="line"></span><br><span class="line"><span class="selector-id">#post</span></span><br><span class="line">  <span class="selector-class">.post-copyright__title</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">22px</span></span><br><span class="line">  <span class="selector-class">.post-copyright__notice</span></span><br><span class="line">    <span class="attribute">font-size</span> <span class="number">15px</span></span><br><span class="line">  <span class="selector-class">.post-copyright</span></span><br><span class="line">    <span class="attribute">box-shadow</span> <span class="number">2px</span> <span class="number">2px</span> <span class="number">5px</span></span><br></pre></td></tr></table></figure><p>3、默认项的配置</p><ul><li><p>作者：<code>[Blogroot]\_config.yml</code> 中的 <code>author</code> 配置项：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Lucifer三思而后行</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">luciferlpc.top</span></span><br><span class="line"><span class="attr">description:</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">三笠ぃ</span> <span class="comment">#默认作者</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure></li><li><p>许可协议：<code>[Blogroot]\_config.butterfly.yml</code> 中的 <code>license</code> 和 <code>license_url</code> 配置项：</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">post_copyright:</span></span><br><span class="line">  <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">decode:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">license:</span> <span class="string">CC</span> <span class="string">BY-NC-SA</span> <span class="number">4.0</span></span><br><span class="line">  <span class="attr">license_url:</span> <span class="string">https://creativecommons.org/licenses/by-nc-sa/4.0/</span></span><br></pre></td></tr></table></figure></li></ul><p>4、页面覆写配置项，修改对应文章的 <code>front-matter</code>：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: Copyright-beautify # 文章名称</span><br><span class="line">date: 2021-03-02 13:52:46 # 文章发布日期</span><br><span class="line">updated: 2021-03-02 13:52:46 # 文章更新日期</span><br><span class="line">copyright<span class="emphasis">_author: Nesxc # 作者覆写</span></span><br><span class="line"><span class="emphasis">copyright_</span>url: https://www.nesxc.com/post/hexocc.html # 原文链接覆写</span><br><span class="line">license: # 许可协议名称覆写</span><br><span class="line"><span class="section">license<span class="emphasis">_url: # 许可协议链接覆写</span></span></span><br><span class="line"><span class="emphasis"><span class="section">---</span></span></span><br></pre></td></tr></table></figure><h2 id="打赏按钮投币彩蛋效果"><a href="#打赏按钮投币彩蛋效果" class="headerlink" title="打赏按钮投币彩蛋效果"></a>打赏按钮投币彩蛋效果</h2><p>1、修改 <code>[Blogroot]\themes\butterfly\layout\includes\post\reward.pug</code>, 整体替换为以下内容：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">link(rel=<span class="string">&#x27;stylesheet&#x27;</span> href=url_for(theme.CDN.coin_css) media=<span class="string">&quot;defer&quot;</span> onload=<span class="string">&quot;this.media=&#x27;all&#x27;&quot;</span>)</span><br><span class="line">.post-reward</span><br><span class="line">  button.tip-button.reward-button</span><br><span class="line">    span.tip-button__text= _p(<span class="string">&#x27;donate&#x27;</span>)</span><br><span class="line">    .coin-wrapper</span><br><span class="line">      .coin</span><br><span class="line">        .coin__middle</span><br><span class="line">        .coin__back</span><br><span class="line">        .coin__front</span><br><span class="line">    .reward-main</span><br><span class="line">      ul.reward-<span class="built_in">all</span></span><br><span class="line">        each item <span class="keyword">in</span> theme.reward.QR_code</span><br><span class="line">          - var clickTo = (item.itemlist||item).link ? (item.itemlist||item).link : (item.itemlist||item).img</span><br><span class="line">          li.reward-item</span><br><span class="line">            a(href=clickTo target=<span class="string">&#x27;_blank&#x27;</span>)</span><br><span class="line">              img.post-qr-code-img(src=url_for((item.itemlist||item).img) alt=(item.itemlist||item).text)</span><br><span class="line">            .post-qr-code-desc=(item.itemlist||item).text</span><br><span class="line"><span class="keyword">if</span> theme.reward.coinAudio</span><br><span class="line">  - var coinAudio = theme.reward.coinAudio ? url_for(theme.reward.coinAudio) : <span class="string">&#x27;https://npm.elemecdn.com/akilar-candyassets@1.0.16/audio/coin.mp3&#x27;</span></span><br><span class="line">  audio<span class="comment">#coinAudio(src=coinAudio)</span></span><br><span class="line">script(defer src=url_for(theme.CDN.coin_js))</span><br></pre></td></tr></table></figure><p>2、新建 <code>[Blogroot]\themes\butterfly\source\css\coin.css</code>：</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.tip-button</span> &#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0.25rem</span>;</span><br><span class="line">  <span class="attribute">cursor</span>: pointer;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">font-weight</span>: <span class="number">600</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">2.6rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: -<span class="number">4rem</span>;</span><br><span class="line">  <span class="attribute">outline</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">0%</span> <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">50ms</span> ease-in-out;</span><br><span class="line">  <span class="attribute">width</span>: auto;</span><br><span class="line">  -webkit-tap-highlight-<span class="attribute">color</span>: transparent;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-pseudo">:active</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">4deg</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.clicked</span> &#123;</span><br><span class="line">  <span class="attribute">animation</span>: <span class="number">150ms</span> ease-in-out <span class="number">1</span> shake;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.clicked</span> <span class="selector-class">.tip-button__text</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">100ms</span> linear <span class="number">200ms</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.clicked</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0.5rem</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">60%</span>;</span><br><span class="line">  <span class="attribute">background</span>: $button-hover-color;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.clicked</span> <span class="selector-class">.coin</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: margin-bottom <span class="number">1s</span> linear <span class="number">200ms</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.shrink-landing</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">transition</span>: width <span class="number">200ms</span> ease-in;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.coin-landed</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-class">.coin-landed</span> <span class="selector-class">.coin-wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>(circle at <span class="number">35%</span> <span class="number">97%</span>, <span class="built_in">rgba</span>(<span class="number">3</span>, <span class="number">16</span>, <span class="number">50</span>, <span class="number">0.4</span>) <span class="number">0.04rem</span>, transparent <span class="number">0.04rem</span>), <span class="built_in">radial-gradient</span>(circle at <span class="number">45%</span> <span class="number">92%</span>, <span class="built_in">rgba</span>(<span class="number">3</span>, <span class="number">16</span>, <span class="number">50</span>, <span class="number">0.4</span>) <span class="number">0.04rem</span>, transparent <span class="number">0.02rem</span>), <span class="built_in">radial-gradient</span>(circle at <span class="number">55%</span> <span class="number">98%</span>, <span class="built_in">rgba</span>(<span class="number">3</span>, <span class="number">16</span>, <span class="number">50</span>, <span class="number">0.4</span>) <span class="number">0.04rem</span>, transparent <span class="number">0.04rem</span>), <span class="built_in">radial-gradient</span>(circle at <span class="number">65%</span> <span class="number">96%</span>, <span class="built_in">rgba</span>(<span class="number">3</span>, <span class="number">16</span>, <span class="number">50</span>, <span class="number">0.4</span>) <span class="number">0.06rem</span>, transparent <span class="number">0.06rem</span>);</span><br><span class="line">  <span class="attribute">background-position</span>: center bottom;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">2</span>) <span class="built_in">translateY</span>(-<span class="number">10px</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button__text</span> &#123;</span><br><span class="line">  <span class="attribute">color</span>: <span class="number">#fff</span>;</span><br><span class="line">  <span class="attribute">margin-right</span>: <span class="number">1.8rem</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">position</span>: relative;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">100ms</span> linear <span class="number">500ms</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">0.25rem</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">display</span>: block;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(-<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">transition</span>: height <span class="number">250ms</span> ease-in-out <span class="number">400ms</span>, width <span class="number">250ms</span> ease-in-out <span class="number">300ms</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.tip-button</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">bottom</span>: -<span class="number">1rem</span>;</span><br><span class="line">  <span class="attribute">color</span>: white;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;ヾ(≧O≦)〃嗷~&#x27;</span>; <span class="comment">/*点击后显示的内容*/</span></span><br><span class="line">  <span class="attribute">height</span>: <span class="number">110%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">text-align</span>: center;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">20%</span>;</span><br><span class="line">  <span class="attribute">transition</span>: transform <span class="number">200ms</span> <span class="built_in">cubic-bezier</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0.35</span>, <span class="number">1.43</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.coin-wrapper</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: none;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">18rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">pointer-events</span>: none;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">transform</span>: none;</span><br><span class="line">  <span class="attribute">transform-origin</span>: <span class="number">50%</span> <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">200ms</span> linear <span class="number">100ms</span>, transform <span class="number">300ms</span> ease-out;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.coin</span> &#123;</span><br><span class="line">  <span class="attr">--front-y-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--back-y-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--coin-y-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--coin-x-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--coin-scale-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--coin-rotation-multiplier</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attr">--shine-opacity-multiplier</span>: <span class="number">0.4</span>;</span><br><span class="line">  <span class="attr">--shine-bg-multiplier</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--coin-y-multiplier) * <span class="number">1rem</span> - <span class="number">3.5rem</span>);</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">3.5rem</span>;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">3.05rem</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">right</span>: <span class="built_in">calc</span>(<span class="built_in">var</span>(--coin-x-multiplier) * <span class="number">34%</span> + <span class="number">16%</span>);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateX</span>(<span class="number">50%</span>) <span class="built_in">scale</span>(<span class="built_in">calc</span>(<span class="number">0.4</span> + <span class="built_in">var</span>(--coin-scale-multiplier))) <span class="built_in">rotate</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--coin-rotation-multiplier) * -<span class="number">1deg</span>));</span><br><span class="line">  <span class="attribute">transition</span>: opacity <span class="number">100ms</span> linear <span class="number">200ms</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">3.5rem</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__front</span>, <span class="selector-class">.coin__middle</span>, <span class="selector-class">.coin__back</span>, <span class="selector-class">.coin</span><span class="selector-pseudo">::before</span>, <span class="selector-class">.coin__front</span><span class="selector-pseudo">::after</span>, <span class="selector-class">.coin__back</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">border-radius</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__front</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>(circle at <span class="number">50%</span> <span class="number">50%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">115</span>, <span class="number">124</span>, <span class="number">153</span>, <span class="number">0.4</span>) <span class="number">54%</span>, <span class="number">#c2cadf</span> <span class="number">54%</span>), <span class="built_in">linear-gradient</span>(<span class="number">210deg</span>, <span class="number">#8590b3</span> <span class="number">32%</span>, transparent <span class="number">32%</span>), <span class="built_in">linear-gradient</span>(<span class="number">150deg</span>, <span class="number">#8590b3</span> <span class="number">32%</span>, transparent <span class="number">32%</span>), <span class="built_in">linear-gradient</span>(to right, <span class="number">#8590b3</span> <span class="number">22%</span>, transparent <span class="number">22%</span>, transparent <span class="number">78%</span>, <span class="number">#8590b3</span> <span class="number">78%</span>), <span class="built_in">linear-gradient</span>(to bottom, <span class="number">#fcfaf9</span> <span class="number">44%</span>, transparent <span class="number">44%</span>, transparent <span class="number">65%</span>, <span class="number">#fcfaf9</span> <span class="number">65%</span>, <span class="number">#fcfaf9</span> <span class="number">71%</span>, <span class="number">#8590b3</span> <span class="number">71%</span>), <span class="built_in">linear-gradient</span>(to right, transparent <span class="number">28%</span>, <span class="number">#fcfaf9</span> <span class="number">28%</span>, <span class="number">#fcfaf9</span> <span class="number">34%</span>, <span class="number">#8590b3</span> <span class="number">34%</span>, <span class="number">#8590b3</span> <span class="number">40%</span>, <span class="number">#fcfaf9</span> <span class="number">40%</span>, <span class="number">#fcfaf9</span> <span class="number">47%</span>, <span class="number">#8590b3</span> <span class="number">47%</span>, <span class="number">#8590b3</span> <span class="number">53%</span>, <span class="number">#fcfaf9</span> <span class="number">53%</span>, <span class="number">#fcfaf9</span> <span class="number">60%</span>, <span class="number">#8590b3</span> <span class="number">60%</span>, <span class="number">#8590b3</span> <span class="number">66%</span>, <span class="number">#fcfaf9</span> <span class="number">66%</span>, <span class="number">#fcfaf9</span> <span class="number">72%</span>, transparent <span class="number">72%</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#8590b3</span>;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--front-y-multiplier) * <span class="number">0.3181818182rem</span> / <span class="number">2</span>)) <span class="built_in">scaleY</span>(<span class="built_in">var</span>(--front-scale-multiplier));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__front</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">var</span>(--front-y-multiplier);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__middle</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#737c99</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--middle-y-multiplier) * <span class="number">0.3181818182rem</span> / <span class="number">2</span>)) <span class="built_in">scaleY</span>(<span class="built_in">var</span>(--middle-scale-multiplier));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__back</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>(circle at <span class="number">50%</span> <span class="number">50%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">115</span>, <span class="number">124</span>, <span class="number">153</span>, <span class="number">0.4</span>) <span class="number">54%</span>, <span class="number">#c2cadf</span> <span class="number">54%</span>), <span class="built_in">radial-gradient</span>(circle at <span class="number">50%</span> <span class="number">40%</span>, <span class="number">#fcfaf9</span> <span class="number">23%</span>, transparent <span class="number">23%</span>), <span class="built_in">radial-gradient</span>(circle at <span class="number">50%</span> <span class="number">100%</span>, <span class="number">#fcfaf9</span> <span class="number">35%</span>, transparent <span class="number">35%</span>);</span><br><span class="line">  <span class="attribute">background-color</span>: <span class="number">#8590b3</span>;</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">100%</span> <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--back-y-multiplier) * <span class="number">0.3181818182rem</span> / <span class="number">2</span>)) <span class="built_in">scaleY</span>(<span class="built_in">var</span>(--back-scale-multiplier));</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin__back</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0.2</span>);</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">var</span>(--back-y-multiplier);</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin</span><span class="selector-pseudo">::before</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="built_in">radial-gradient</span>(circle at <span class="number">25%</span> <span class="number">65%</span>, transparent <span class="number">50%</span>, <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.9</span>) <span class="number">90%</span>), <span class="built_in">linear-gradient</span>(<span class="number">55deg</span>, transparent <span class="built_in">calc</span>(<span class="built_in">var</span>(--shine-bg-multiplier) + <span class="number">0%</span>), <span class="number">#e9f4ff</span> <span class="built_in">calc</span>(<span class="built_in">var</span>(--shine-bg-multiplier) + <span class="number">0%</span>), transparent <span class="built_in">calc</span>(<span class="built_in">var</span>(--shine-bg-multiplier) + <span class="number">50%</span>));</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="built_in">var</span>(--shine-opacity-multiplier);</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--middle-y-multiplier) * <span class="number">0.3181818182rem</span> / -<span class="number">2</span>)) <span class="built_in">scaleY</span>(<span class="built_in">var</span>(--middle-scale-multiplier)) <span class="built_in">rotate</span>(<span class="built_in">calc</span>(<span class="built_in">var</span>(--coin-rotation-multiplier) * <span class="number">1deg</span>));</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.coin</span><span class="selector-pseudo">::after</span> &#123;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#737c99</span>;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">0.3181818182rem</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translateY</span>(-<span class="number">50%</span>);</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">z-index</span>: <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">@keyframes</span> shake &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(<span class="number">4deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">66%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>(-<span class="number">4deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>: <span class="built_in">rotate</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、新建 <code>[Blogroot]\themes\butterfly\source\js\coin.js</code>：</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tipButtons = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.tip-button&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">coinAudio</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> coinAudio = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;coinAudio&quot;</span>);</span><br><span class="line">  <span class="keyword">if</span> (coinAudio) &#123;</span><br><span class="line">    coinAudio.<span class="title function_">play</span>();<span class="comment">//有音频时播放</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Loop through all buttons (allows for multiple buttons on page)</span></span><br><span class="line">tipButtons.<span class="title function_">forEach</span>(<span class="function">(<span class="params">button</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">var</span> coin = button.<span class="title function_">querySelector</span>(<span class="string">&#x27;.coin&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// The larger the number, the slower the animation</span></span><br><span class="line">  coin.<span class="property">maxMoveLoopCount</span> = <span class="number">90</span></span><br><span class="line"></span><br><span class="line">  button.<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="regexp">/Android|webOS|BlackBerry/i</span>.<span class="title function_">test</span>(navigator.<span class="property">userAgent</span>)) <span class="keyword">return</span> <span class="literal">true</span>; <span class="comment">//媒体选择</span></span><br><span class="line">    <span class="keyword">if</span> (button.<span class="property">clicked</span>) <span class="keyword">return</span></span><br><span class="line">    button.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;clicked&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Wait to start flipping th coin because of the button tilt animation</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// Randomize the flipping speeds just for fun</span></span><br><span class="line">      coin.<span class="property">sideRotationCount</span> = <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">5</span>) * <span class="number">90</span></span><br><span class="line">      coin.<span class="property">maxFlipAngle</span> = (<span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">4</span>) + <span class="number">3</span>) * <span class="title class_">Math</span>.<span class="property">PI</span></span><br><span class="line">      button.<span class="property">clicked</span> = <span class="literal">true</span></span><br><span class="line">      <span class="title function_">flipCoin</span>()</span><br><span class="line">      <span class="title function_">coinAudio</span>()</span><br><span class="line">    &#125;, <span class="number">50</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">flipCoin</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    coin.<span class="property">moveLoopCount</span> = <span class="number">0</span></span><br><span class="line">    <span class="title function_">flipCoinLoop</span>()</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">resetCoin</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-x-multiplier&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-scale-multiplier&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-rotation-multiplier&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--shine-opacity-multiplier&#x27;</span>, <span class="number">0.4</span>)</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--shine-bg-multiplier&#x27;</span>, <span class="string">&#x27;50%&#x27;</span>)</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;opacity&#x27;</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="comment">// Delay to give the reset animation some time before you can click again</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      button.<span class="property">clicked</span> = <span class="literal">false</span></span><br><span class="line">    &#125;, <span class="number">300</span>)</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">var</span> <span class="title function_">flipCoinLoop</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    coin.<span class="property">moveLoopCount</span>++</span><br><span class="line">    <span class="keyword">var</span> percentageCompleted = coin.<span class="property">moveLoopCount</span> / coin.<span class="property">maxMoveLoopCount</span></span><br><span class="line">    coin.<span class="property">angle</span> = -coin.<span class="property">maxFlipAngle</span> * <span class="title class_">Math</span>.<span class="title function_">pow</span>((percentageCompleted - <span class="number">1</span>), <span class="number">2</span>) + coin.<span class="property">maxFlipAngle</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Calculate the scale and position of the coin moving through the air</span></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-y-multiplier&#x27;</span>, -<span class="number">11</span> * <span class="title class_">Math</span>.<span class="title function_">pow</span>(percentageCompleted * <span class="number">2</span> - <span class="number">1</span>, <span class="number">4</span>) + <span class="number">11</span>)</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-x-multiplier&#x27;</span>, percentageCompleted)</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-scale-multiplier&#x27;</span>, percentageCompleted * <span class="number">0.6</span>)</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--coin-rotation-multiplier&#x27;</span>, percentageCompleted * coin.<span class="property">sideRotationCount</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Calculate the scale and position values for the different coin faces</span></span><br><span class="line">    <span class="comment">// The math uses sin/cos wave functions to similate the circular motion of 3D spin</span></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--front-scale-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="title class_">Math</span>.<span class="title function_">cos</span>(coin.<span class="property">angle</span>), <span class="number">0</span>))</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--front-y-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">sin</span>(coin.<span class="property">angle</span>))</span><br><span class="line"></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--middle-scale-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">abs</span>(<span class="title class_">Math</span>.<span class="title function_">cos</span>(coin.<span class="property">angle</span>), <span class="number">0</span>))</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--middle-y-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">cos</span>((coin.<span class="property">angle</span> + <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">2</span>) % <span class="title class_">Math</span>.<span class="property">PI</span>))</span><br><span class="line"></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--back-scale-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">max</span>(<span class="title class_">Math</span>.<span class="title function_">cos</span>(coin.<span class="property">angle</span> - <span class="title class_">Math</span>.<span class="property">PI</span>), <span class="number">0</span>))</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--back-y-multiplier&#x27;</span>, <span class="title class_">Math</span>.<span class="title function_">sin</span>(coin.<span class="property">angle</span> - <span class="title class_">Math</span>.<span class="property">PI</span>))</span><br><span class="line"></span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--shine-opacity-multiplier&#x27;</span>, <span class="number">4</span> * <span class="title class_">Math</span>.<span class="title function_">sin</span>((coin.<span class="property">angle</span> + <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">2</span>) % <span class="title class_">Math</span>.<span class="property">PI</span>) - <span class="number">3.2</span>)</span><br><span class="line">    coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;--shine-bg-multiplier&#x27;</span>, -<span class="number">40</span> * (<span class="title class_">Math</span>.<span class="title function_">cos</span>((coin.<span class="property">angle</span> + <span class="title class_">Math</span>.<span class="property">PI</span> / <span class="number">2</span>) % <span class="title class_">Math</span>.<span class="property">PI</span>) - <span class="number">0.5</span>) + <span class="string">&#x27;%&#x27;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Repeat animation loop</span></span><br><span class="line">    <span class="keyword">if</span> (coin.<span class="property">moveLoopCount</span> &lt; coin.<span class="property">maxMoveLoopCount</span>) &#123;</span><br><span class="line">      <span class="keyword">if</span> (coin.<span class="property">moveLoopCount</span> === coin.<span class="property">maxMoveLoopCount</span> - <span class="number">6</span>) button.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;shrink-landing&#x27;</span>)</span><br><span class="line">      <span class="variable language_">window</span>.<span class="title function_">requestAnimationFrame</span>(flipCoinLoop)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      button.<span class="property">classList</span>.<span class="title function_">add</span>(<span class="string">&#x27;coin-landed&#x27;</span>)</span><br><span class="line">      coin.<span class="property">style</span>.<span class="title function_">setProperty</span>(<span class="string">&#x27;opacity&#x27;</span>, <span class="number">0</span>)</span><br><span class="line">      <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        button.<span class="property">classList</span>.<span class="title function_">remove</span>(<span class="string">&#x27;clicked&#x27;</span>, <span class="string">&#x27;shrink-landing&#x27;</span>, <span class="string">&#x27;coin-landed&#x27;</span>)</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="title function_">resetCoin</span>()</span><br><span class="line">        &#125;, <span class="number">300</span>)</span><br><span class="line">      &#125;, <span class="number">1500</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>4、修改<code>_config.butterfly.yml</code>, 添加音频文件配置项，添加 CDN 配置项：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  # Sponsor/reward</span><br><span class="line">  reward:</span><br><span class="line">    enable: true</span><br><span class="line"><span class="addition">+   coinAudio: https://npm.elemecdn.com/akilar-candyassets@1.0.16/audio/coin.mp3</span></span><br><span class="line">    QR_code:</span><br><span class="line">    。</span><br><span class="line">    。</span><br><span class="line">    。</span><br><span class="line">  CDN:</span><br><span class="line">    # main</span><br><span class="line">    main_css: /css/index.css</span><br><span class="line">    jquery: https://npm.elemecdn.com/jquery@latest/dist/jquery.min.js</span><br><span class="line">    main: /js/main.js</span><br><span class="line">    utils:/js/utils.js</span><br><span class="line"><span class="addition">+    # 打赏按钮投币效果</span></span><br><span class="line"><span class="addition">+   coin_js: /js/coin.js</span></span><br><span class="line"><span class="addition">+   coin_css: /css/coin.css</span></span><br></pre></td></tr></table></figure><p>5、现在的打赏按钮样式需要稍作适配，当前若提示语太长，悬停时会无法显示完全。需要微调一下，修改 <code>[Blogroot]\themes\butterfly\source\css\_layout\reward.styl</code>，整体替换为以下内容：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.post-reward</span></span><br><span class="line">  <span class="attribute">position</span>: relative</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">4rem</span></span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">  <span class="attribute">text-align</span>: center</span><br><span class="line"></span><br><span class="line">  <span class="selector-class">.reward-button</span></span><br><span class="line">    <span class="attribute">display</span>: inline-block</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">2rem</span> <span class="number">1.2rem</span></span><br><span class="line">    <span class="attribute">background</span>: var(--btn-bg)</span><br><span class="line">    <span class="attribute">color</span>: var(--btn-color)</span><br><span class="line">    <span class="attribute">cursor</span>: pointer</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">4s</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">      <span class="attribute">box-shadow</span>: inset <span class="number">15em</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> var(--btn-hover-color)</span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.reward-main</span></span><br><span class="line">        <span class="attribute">display</span>: block</span><br><span class="line"></span><br><span class="line">    <span class="selector-class">.reward-main</span></span><br><span class="line">      <span class="attribute">position</span>: absolute</span><br><span class="line">      <span class="attribute">bottom</span>: <span class="number">40px</span></span><br><span class="line">      <span class="attribute">left</span>: -<span class="number">25%</span></span><br><span class="line">      <span class="attribute">z-index</span>: <span class="number">100</span></span><br><span class="line">      <span class="attribute">display</span>: none</span><br><span class="line">      <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">0</span> <span class="number">15px</span></span><br><span class="line">      <span class="attribute">width</span>: <span class="number">150%</span></span><br><span class="line"></span><br><span class="line">      <span class="selector-class">.reward-all</span></span><br><span class="line">        <span class="attribute">display</span>: inline-block</span><br><span class="line">        <span class="attribute">margin</span>: <span class="number">0</span></span><br><span class="line">        <span class="attribute">padding</span>: <span class="number">1rem</span> .<span class="number">5rem</span></span><br><span class="line">        <span class="attribute">border-radius</span>: <span class="number">4px</span></span><br><span class="line">        <span class="attribute">background</span>: var(--reward-pop)</span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:before</span></span><br><span class="line">          <span class="attribute">position</span>: absolute</span><br><span class="line">          <span class="attribute">bottom</span>: -<span class="number">10px</span></span><br><span class="line">          <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">width</span>: <span class="number">100%</span></span><br><span class="line">          <span class="attribute">height</span>: <span class="number">20px</span></span><br><span class="line">          <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-pseudo">&amp;:after</span></span><br><span class="line">          <span class="attribute">position</span>: absolute</span><br><span class="line">          <span class="attribute">right</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">bottom</span>: <span class="number">2px</span></span><br><span class="line">          <span class="attribute">left</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">margin</span>: <span class="number">0</span> auto</span><br><span class="line">          <span class="attribute">width</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">height</span>: <span class="number">0</span></span><br><span class="line">          <span class="attribute">border-top</span>: <span class="number">13px</span> solid var(--reward-pop)</span><br><span class="line">          <span class="attribute">border-right</span>: <span class="number">13px</span> solid transparent</span><br><span class="line">          <span class="attribute">border-left</span>: <span class="number">13px</span> solid transparent</span><br><span class="line">          <span class="attribute">content</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">        <span class="selector-class">.reward-item</span></span><br><span class="line">          <span class="attribute">display</span>: inline-block</span><br><span class="line">          <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">8px</span></span><br><span class="line">          <span class="attribute">list-style-type</span>: none</span><br><span class="line">          <span class="attribute">vertical-align</span>: top</span><br><span class="line"></span><br><span class="line">          <span class="selector-tag">img</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">130px</span></span><br><span class="line">            <span class="attribute">height</span>: <span class="number">130px</span></span><br><span class="line"></span><br><span class="line">          <span class="selector-class">.post-qr-code-desc</span></span><br><span class="line">            <span class="attribute">padding-top</span>: .<span class="number">4rem</span></span><br><span class="line">            <span class="attribute">width</span>: <span class="number">130px</span></span><br><span class="line">            <span class="attribute">color</span>: <span class="variable">$reward</span>-pop-up-color</span><br></pre></td></tr></table></figure><p>还可以针对自己的情况适度调整以下内容：</p><ul><li><p>修改悬停打赏按钮时的颜色填充长度：</p><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  <span class="selector-class">.reward-button</span></span><br><span class="line">    <span class="attribute">display</span>: inline-block</span><br><span class="line">    <span class="attribute">padding</span>: .<span class="number">2rem</span> <span class="number">1.2rem</span></span><br><span class="line">    <span class="attribute">background</span>: var(--btn-bg)</span><br><span class="line">    <span class="attribute">color</span>: var(--btn-color)</span><br><span class="line">    <span class="attribute">cursor</span>: pointer</span><br><span class="line">    <span class="attribute">transition</span>: all .<span class="number">4s</span></span><br><span class="line"></span><br><span class="line">    <span class="selector-pseudo">&amp;:hover</span></span><br><span class="line">-     <span class="attribute">box-shadow</span>: inset <span class="number">9em</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> var(--btn-hover-color)</span><br><span class="line">+     <span class="attribute">box-shadow</span>: inset <span class="number">20em</span> <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> var(--btn-hover-color)</span><br></pre></td></tr></table></figure></li><li><p>修改打赏二维码的样式（仅针对 2 张二维码的情况，单张不用改动。两张以上需要自己调试这两个参数）</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">  .reward-main</span><br><span class="line">    position: absolute</span><br><span class="line">    bottom: 40px</span><br><span class="line"><span class="deletion">-   left: 0</span></span><br><span class="line"><span class="addition">+   left: -25%</span></span><br><span class="line">    z-index: 100</span><br><span class="line">    display: none</span><br><span class="line">    padding: 0 0 15px</span><br><span class="line"><span class="deletion">-   width: 100%</span></span><br><span class="line"><span class="addition">+   width: 150%</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="页脚振翅蝴蝶动效"><a href="#页脚振翅蝴蝶动效" class="headerlink" title="页脚振翅蝴蝶动效"></a>页脚振翅蝴蝶动效</h2><p>1、引入相应的图标资源，修改<code>_config.butterfly.yml</code>，在 <code>inject</code> 配置项添加图标库 js。此处为我的图标库链接，掌握前置教程后可以改成自己的。</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">inject:</span></span><br><span class="line">  <span class="attr">head:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;link</span> <span class="string">rel=&quot;stylesheet&quot;</span> <span class="string">href=&quot;/css/custom.css&quot;</span>  <span class="string">media=&quot;defer&quot;</span> <span class="string">onload=&quot;this.media=&#x27;all&#x27;&quot;&gt;</span> <span class="comment">#教学用样式</span></span><br><span class="line">  <span class="attr">bottom:</span></span><br><span class="line">    <span class="comment"># 阿里矢量图标</span></span><br><span class="line">    <span class="bullet">-</span> <span class="string">&lt;script</span> <span class="string">async</span> <span class="string">src=&quot;//at.alicdn.com/t/font_2032782_8ns648avijk.js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure><p>2、新建 <code>[Blogroot]\themes\butterfly\source\css\custom.css</code>, 在里面添加图标默认样式和振翅蝴蝶动画。</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*iconfont默认样式*/</span></span><br><span class="line"><span class="selector-class">.icon</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1em</span>; <span class="attribute">height</span>: <span class="number">1em</span>;</span><br><span class="line">  <span class="attribute">vertical-align</span>: -<span class="number">0.15em</span>;</span><br><span class="line">  fill: currentColor;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  &#125;</span><br><span class="line"><span class="comment">/* 页脚蝴蝶振翅动画 */</span></span><br><span class="line"><span class="selector-class">.copyright</span> svg&#123;</span><br><span class="line">  <span class="attribute">animation</span>:butterfly <span class="number">1s</span> linear infinite alternate;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">@keyframes</span> butterfly &#123;</span><br><span class="line">  <span class="selector-tag">from</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>:<span class="built_in">rotateY</span>(<span class="number">70deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-tag">to</span> &#123;</span><br><span class="line">    <span class="attribute">transform</span>:<span class="built_in">rotateY</span>(<span class="number">0deg</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3、修改 <code>[Blogroot]\themes\butterfly\layout\includes\footer.pug</code>：</p><figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">  #footer-wrap</span><br><span class="line">    if theme.footer.owner.enable</span><br><span class="line">      - var now = new Date()</span><br><span class="line">      - var nowYear = now.getFullYear()</span><br><span class="line"><span class="deletion">-     if theme.footer.owner.since &amp;&amp; theme.footer.owner.since != nowYear</span></span><br><span class="line"><span class="deletion">-       .copyright!= `&amp;copy;$&#123;theme.footer.owner.since&#125; - $&#123;nowYear&#125; By $&#123;config.author&#125;`</span></span><br><span class="line"><span class="deletion">-     else</span></span><br><span class="line"><span class="deletion">-       .copyright!= `&amp;copy;$&#123;nowYear&#125; By $&#123;config.author&#125;`</span></span><br><span class="line"><span class="addition">+     if theme.footer.owner.since &amp;&amp; theme.footer.owner.since != nowYear</span></span><br><span class="line"><span class="addition">+       .copyright</span></span><br><span class="line"><span class="addition">+           span!= `&amp;copy;$&#123;theme.footer.owner.since&#125; - $&#123;nowYear&#125;`</span></span><br><span class="line"><span class="addition">+           svg(style=&quot;width:1.5em; height:1.5em&quot; aria-hidden=&quot;true&quot;)</span></span><br><span class="line"><span class="addition">+             use(xlink:href=&quot;#icon-Butterfly&quot;)</span></span><br><span class="line"><span class="addition">+           span!= `$&#123;config.author&#125;`</span></span><br><span class="line"><span class="addition">+     else</span></span><br><span class="line"><span class="addition">+       .copyright</span></span><br><span class="line"><span class="addition">+         span!= `&amp;copy;$&#123;nowYear&#125;`</span></span><br><span class="line"><span class="addition">+         svg(style=&quot;width:1.5em; height:1.5em&quot; aria-hidden=&quot;true&quot;)</span></span><br><span class="line"><span class="addition">+           use(xlink:href=&quot;#icon-Butterfly&quot;)</span></span><br><span class="line"><span class="addition">+         span!= `$&#123;config.author&#125;`</span></span><br></pre></td></tr></table></figure><p>4、事实上直接用 <code>emoji</code> 的🦋，配合 <code>fontawesome-animation</code> 也能做到类似效果，甚至还可以使用 <code>base64</code> 的图片，但是图标呈现的不论是色彩还是动效都不如用 <code>iconfont</code> 来的漂亮。这里的动画用到了 <code>rotateY</code>, 三维上其实是图标在绕着 Y 轴旋转，降维到二维以后就呈现出了对折振翅的效果，但是人脑是很神奇的，因为左右半脑的发达程度不均，有的人还是能看到蝴蝶其实是在旋转而不是振翅。当然也不乏切换自如的人才。这个就只能仁者见仁智者见智了。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
          <category> Butterfly </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Butterfly </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hexo+阿里云&amp;GitHub Pages 搭建个人博客教程</title>
      <link href="/post/2d5827fd.html"/>
      <url>/post/2d5827fd.html</url>
      
        <content type="html"><![CDATA[<p>Hexo 是一个快速、简洁且高效的博客框架。Hexo 使用 <a href="http://daringfireball.net/projects/markdown/">Markdown</a>（或其他渲染引擎）解析文章，在几秒内，即可利用靓丽的主题生成静态网页。</p><blockquote><p>本文参考自 Hexo 官方文档：<a href="https://hexo.io/zh-cn/docs/">https://hexo.io/zh-cn/docs/</a></p></blockquote><h1 id="一、本地部署-Hexo"><a href="#一、本地部署-Hexo" class="headerlink" title="一、本地部署 Hexo"></a>一、本地部署 Hexo</h1><h2 id="Hexo-快速部署"><a href="#Hexo-快速部署" class="headerlink" title="Hexo 快速部署"></a>Hexo 快速部署</h2><p>安装 Hexo 相当简单，只需要先安装下列应用程序即可：</p><ul><li><a href="http://nodejs.org/">Node.js</a> (Node.js 版本需不低于 10.13，建议使用 Node.js 12.0 及以上版本)</li><li><a href="http://git-scm.com/">Git</a></li></ul><p>如果您的电脑中已经安装上述必备程序，那么恭喜您！你可以直接跳过安装准备步骤。</p><h2 id="安装准备"><a href="#安装准备" class="headerlink" title="安装准备"></a>安装准备</h2><h3 id="安装-Node-js"><a href="#安装-Node-js" class="headerlink" title="安装 Node.js"></a>安装 Node.js</h3><p>Node.js 为大多数平台提供了官方的 <a href="https://nodejs.org/en/download/">安装程序</a>。对于中国大陆地区用户，可以前往 <a href="https://npm.taobao.org/mirrors/node">淘宝 Node.js 镜像</a> 下载。</p><p>其它的安装方法：</p><ul><li>Windows：通过 <a href="https://github.com/jasongin/nvs/">nvs</a>（推荐）或者 <a href="https://github.com/nvm-sh/nvm">nvm</a> 安装。</li><li>Mac：使用 <a href="https://brew.sh/">Homebrew</a> 或 <a href="http://www.macports.org/">MacPorts</a> 安装。</li><li>Linux（DEB&#x2F;RPM-based）：从 <a href="https://github.com/nodesource/distributions">NodeSource</a> 安装。</li><li>其它：使用相应的软件包管理器进行安装，可以参考由 Node.js 提供的 <a href="https://nodejs.org/en/download/package-manager/">指导</a>。</li></ul><p>对于 Mac 和 Linux 同样建议使用 nvs 或者 nvm，以避免可能会出现的权限问题。</p><h3 id="安装-Git"><a href="#安装-Git" class="headerlink" title="安装 Git"></a>安装 Git</h3><ul><li>Windows：下载并安装 <a href="https://git-scm.com/download/win">git</a>.</li><li>Mac：使用 <a href="http://mxcl.github.com/homebrew/">Homebrew</a>, <a href="http://www.macports.org/">MacPorts</a> 或者下载 <a href="http://sourceforge.net/projects/git-osx-installer/">安装程序</a>。</li><li>Linux (Ubuntu, Debian)：<code>sudo apt-get install git-core</code></li><li>Linux (Fedora, Red Hat, CentOS)：<code>sudo yum install git-core</code></li></ul><h2 id="安装部署"><a href="#安装部署" class="headerlink" title="安装部署"></a>安装部署</h2><p>所有必备的应用程序安装完成后，NPM 一键式安装 Hexo：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 设置淘宝镜像源</span></span><br><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"><span class="comment">## 一键安装 hexo</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p>初始化 Hexo 博客：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 本地创建一个目录用于存放博客</span></span><br><span class="line">hexo init</span><br><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure><p>本地启动服务器。默认情况下，访问网址为： <code>http://localhost:4000/</code>。</p><h1 id="二、部署-Hexo-到-GitHub-Pages"><a href="#二、部署-Hexo-到-GitHub-Pages" class="headerlink" title="二、部署 Hexo 到 GitHub Pages"></a>二、部署 Hexo 到 GitHub Pages</h1><p>前文我们已经成功在本地部署了 Hexo，为了方便的访问到自己的博客网站，本文讲述如何将 Hexo 部署到 Github Pages。</p><h2 id="注册-Github"><a href="#注册-Github" class="headerlink" title="注册 Github"></a>注册 Github</h2><p>首先我们需要注册一个 Github 账户（免费），使用浏览器（Chrome，Firefox）打开 <a href="https://link.zhihu.com/?target=https://github.com/">GitHub官网</a> 点击 <em><strong>sign up</strong></em> 进行注册即可。</p><h2 id="绑定-Github"><a href="#绑定-Github" class="headerlink" title="绑定 Github"></a>绑定 Github</h2><p>在此步骤前，请确保 GitHub 的注册和 GIt 的安装，接下来就是本地使用 Git 来绑定我们的 Github 账户，为了方便操作一般都选择使用公钥免密登录的方式。</p><h3 id="本地获取公钥"><a href="#本地获取公钥" class="headerlink" title="本地获取公钥"></a>本地获取公钥</h3><p>首先查看本机的公钥：</p><ul><li>Linux 系统：~&#x2F;.ssh</li><li>Mac 系统：~&#x2F;.ssh</li><li>Windows 10 ：C:&#x2F;Users&#x2F;ASUS&#x2F;.ssh</li></ul><p>我的电脑是 macOS：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure><p>将输出结果复制保存。</p><h3 id="Github-绑定-SSH-keys"><a href="#Github-绑定-SSH-keys" class="headerlink" title="Github 绑定 SSH keys"></a>Github 绑定 SSH keys</h3><p>打开 Github 官网，按照以下步骤操作：</p><ul><li><p>点击右上角头像，找到设置</p></li><li><p>打开 SSH and GPG keys 选项</p></li><li><p>新建 SSH key，输入公钥</p></li></ul><p>添加完成后，本地进行测试：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure><p>第一次连接测试需要输入 <code>yes</code> ，结果返回如下即代表成功：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Warning: Permanently added <span class="string">&#x27;github.com&#x27;</span> (ED25519) to the list of known hosts.</span><br><span class="line">Hi pc-study! You<span class="string">&#x27;ve successfully authenticated, but GitHub does not provide shell access.</span></span><br></pre></td></tr></table></figure><p>请确保 Git 已配置：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">&quot;pc1107750981@163.com&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;pc1107750981@163.com&quot;</span></span><br></pre></td></tr></table></figure><h2 id="Github-克隆和提交"><a href="#Github-克隆和提交" class="headerlink" title="Github 克隆和提交"></a>Github 克隆和提交</h2><p>由于我们要将 Hexo 部署到 Github Pages，所以首先要在 Github 创建一个新的仓库，仓库名设置为：<code>ps-study.github.io</code>。</p><p>创建好仓库后，接下来就是将本地安装好的 Hexo 部署到 Github Pages 上。</p><p>首先打开 Hexo 目录下的 <code>_config.yml</code> 文件，修改 deploy 选项：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repository:</span> <span class="string">git@github.com:pc-study/pc-study.github.io.git</span>  <span class="comment">#你的仓库地址</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">main</span></span><br></pre></td></tr></table></figure><p>接着回到 Blog 文件夹，使用 NPM 安装 Git 部署插件：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p>安装完成后，将本地 Hexo 部署推送至 Github 上：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>执行完成后，打开 <a href="https://pc-study.github.io/">https://pc-study.github.io</a> 即可访问。</p><h1 id="三、将-Hexo-部署到阿里云"><a href="#三、将-Hexo-部署到阿里云" class="headerlink" title="三、将 Hexo 部署到阿里云"></a>三、将 Hexo 部署到阿里云</h1><p>最近买了个阿里云服务器，结合之前 Hexo 部署到 Github Pages 的经验，尝试将 Hexo 部署到了阿里云上。</p><h2 id="搭建过程"><a href="#搭建过程" class="headerlink" title="搭建过程"></a>搭建过程</h2><p>本次个人博客大致的搭建步骤如下：</p><ul><li>购买阿里云服务器</li><li>配置阿里云服务器</li><li>服务端安装  Nodejs</li><li>服务端安装 Git</li><li>服务端安装 Nginx</li><li>客户端安装 Hexo</li><li>客户端配置免密登录</li><li>服务端创建 Git 仓库</li><li>Hexo 主题配置</li></ul><h2 id="购买阿里云服务器"><a href="#购买阿里云服务器" class="headerlink" title="购买阿里云服务器"></a>购买阿里云服务器</h2><p>这个比较简单，会花钱就行，尽量找一个新注册的账号，这样可以花几十 money 就可以购买一年的阿里云服务器，例如：</p><p><img src="https://img-blog.csdnimg.cn/45a9902f4c514169b09252d103108915.png"></p><p>嗯没错，就是很香，购买完之后简单配置一下就可以使用了，本文基于 CentOS7.9 系统搭建，所以大家要继续下去的话也只能选择 CentOS7.9 咯。</p><h2 id="配置阿里云服务器"><a href="#配置阿里云服务器" class="headerlink" title="配置阿里云服务器"></a>配置阿里云服务器</h2><p>阿里云服务器的配置很简单，主要有：</p><ul><li>重置实例密码</li><li>配置安全组策略</li></ul><p>配置的步骤都很简单，基本就是几分钟的事。</p><p><strong>重置实例密码：</strong></p><p><strong>配置安全组策略：</strong></p><p>配置好之后，复制一下公网IP，就可以开始建站了。</p><h2 id="服务端安装-Nodejs"><a href="#服务端安装-Nodejs" class="headerlink" title="服务端安装  Nodejs"></a>服务端安装  Nodejs</h2><p>在本地客户端使用 ssh 连接阿里云服务器公网IP：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@公网IP</span><br></pre></td></tr></table></figure><p>一键式安装配置 Nodejs：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp &amp;&amp; wget https://nodejs.org/dist/v17.5.0/node-v17.5.0-linux-x64.tar.xz </span><br><span class="line">tar xf node-v17.5.0-linux-x64.tar.xz </span><br><span class="line"><span class="built_in">mv</span> node-v17.5.0-linux-x64 /usr/local/node</span><br><span class="line"><span class="built_in">ln</span> -s /usr/local/node/bin/node /bin/node</span><br><span class="line"><span class="built_in">ln</span> -s /usr/local/node/bin/npm /bin/npm</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=/usr/local/node/bin:$PATH&#x27;</span> &gt;&gt; /etc/profile</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p>执行完就安装成功了。</p><h2 id="服务端安装-Git"><a href="#服务端安装-Git" class="headerlink" title="服务端安装 Git"></a>服务端安装 Git</h2><p>一键式安装 Git：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum install -y curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker</span><br><span class="line"><span class="built_in">cd</span> /tmp &amp;&amp; wget https://www.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz</span><br><span class="line">tar xf git-2.9.5.tar.gz</span><br><span class="line"><span class="built_in">cd</span> git-2.9.5 &amp;&amp; make all prefix=/usr/local/git</span><br><span class="line">make install prefix=/usr/local/git</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=$PATH:/usr/local/git/bin&#x27;</span> &gt;&gt; /etc/bashrc</span><br><span class="line"><span class="built_in">source</span> /etc/bashrc</span><br><span class="line">git version</span><br><span class="line">git config --global user.name <span class="string">&quot;你的账号&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;你的邮箱&quot;</span></span><br></pre></td></tr></table></figure><p>执行完就安装成功了，要注意的是客户端也需要安装一下 Git，图形化一直下一步就行。</p><h2 id="服务端安装-Nginx"><a href="#服务端安装-Nginx" class="headerlink" title="服务端安装 Nginx"></a>服务端安装 Nginx</h2><p>一键式安装 Nginx：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel</span><br><span class="line"><span class="built_in">cd</span> /tmp &amp;&amp; wget http://nginx.org/download/nginx-1.9.9.tar.gz</span><br><span class="line">tar xf nginx-1.9.9.tar.gz</span><br><span class="line"><span class="built_in">cd</span> nginx-1.9.9 &amp;&amp; ./configure</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>配置 Nginx 服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 创建 hexo 博客存放位置</span></span><br><span class="line"><span class="built_in">mkdir</span> /data/blog</span><br><span class="line"><span class="comment">## 修改 Nginx 配置文件</span></span><br><span class="line">vi /usr/local/nginx/conf/nginx.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">## 修改配置文件中以下几点</span></span><br><span class="line"><span class="comment">## 1、server_name，修改域名或ip</span></span><br><span class="line">server_name  服务器公网IP;</span><br><span class="line"><span class="comment">## 2、root index.html，修改为 hexo 博客存放的位置</span></span><br><span class="line">root /data/blog</span><br></pre></td></tr></table></figure><p>打开 Nginx 服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/nginx/sbin</span><br><span class="line"><span class="comment"># 启动 nginx</span></span><br><span class="line">./nginx</span><br></pre></td></tr></table></figure><p>至此 Nginx 也安装完成。</p><h2 id="客户端安装-Hexo"><a href="#客户端安装-Hexo" class="headerlink" title="客户端安装 Hexo"></a>客户端安装 Hexo</h2><p>Hexo 也是一键式安装，安装前，设置一下 npm 源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"><span class="comment">## 安装 hexo</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p>本地客户端创建 Hexo 博客目录并初始化启动博客：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 本地创建一个目录用于存放博客</span></span><br><span class="line">hexo init</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>启动之后本地浏览器 localhost:4000 访问一下是否成功。</p><h2 id="配置免密登录"><a href="#配置免密登录" class="headerlink" title="配置免密登录"></a>配置免密登录</h2><p>配置本地客户端与阿里云服务器端的 ssh 免密登录，方便上传仓库时一键式上传。</p><p>在本地客户端生成并上传公共密钥：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 执行完之后一直回车就行</span></span><br><span class="line">ssh-keygen</span><br><span class="line"><span class="comment">## 上传公共密钥到阿里云服务器</span></span><br><span class="line">ssh-copy-id root@阿里云公网IP</span><br><span class="line"><span class="comment">## 测试是否已免密</span></span><br><span class="line">ssh root@阿里云公网IP</span><br></pre></td></tr></table></figure><p>如果无需密码即可登录，说明已经配置完成。</p><h2 id="服务端创建-Git-仓库"><a href="#服务端创建-Git-仓库" class="headerlink" title="服务端创建 Git 仓库"></a>服务端创建 Git 仓库</h2><p>服务器上创建一个 Git 仓库，该仓库中新建一个 post-receive 钩子文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">git init --bare hexo.git</span><br><span class="line">vi ~/hexo.git/hooks/post-receive</span><br><span class="line"><span class="comment">## 填写以下内容，其中的--work-tree 为 hexo 博客目录</span></span><br><span class="line">git --work-tree=/data/blog --git-dir=/root/hexo.git checkout -f</span><br><span class="line"><span class="comment">## 授予钩子文件可执行权限</span></span><br><span class="line"><span class="built_in">chmod</span> +x ~/hexo.git/hooks/post-receive</span><br><span class="line"><span class="built_in">chmod</span> -R 777 /data/blog</span><br></pre></td></tr></table></figure><p>至此，Git 仓库创建并配置完成，对应的本地客户端也需要配置一下！</p><p>在本地计算机 hexo 的工程目录下，找到 <code>_config.yml</code>，对 deploy 参数进行修改，如下图所示</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: root@公网IP:/root/hexo.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p>在本地计算机安装插件: hexo-deployer-git 和 hexo-server，插件的作用分别是使用Git自动部署，和hexo本地简单的服务器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-server</span><br><span class="line"><span class="comment">## 配置全局变量</span></span><br><span class="line">git config --global user.name <span class="string">&quot;你的账号&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;你的邮箱&quot;</span></span><br><span class="line"><span class="comment">## 生成发布 Hexo 博客</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>此时，便可以通过浏览器访问 http:&#x2F;&#x2F;阿里云公网IP 进入 hexo 我的博客主页了。</p><h1 id="四、修改网站关键信息"><a href="#四、修改网站关键信息" class="headerlink" title="四、修改网站关键信息"></a>四、修改网站关键信息</h1><p>Hexo 初始化后，博客网站有一些关键信息是默认的，需要修改为我们自己的信息。</p><h2 id="网站资料"><a href="#网站资料" class="headerlink" title="网站资料"></a>网站资料</h2><p>修改网站各种资料，例如标题、副标题和邮箱等个人资料，请修改博客根目录的站点配置文件 _config.yml：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line"><span class="attr">title:</span> <span class="string">Lucifer三思而后行</span></span><br><span class="line"><span class="attr">subtitle:</span> <span class="string">&#x27;Lucifer三思而后行&#x27;</span></span><br><span class="line"><span class="attr">description:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"><span class="attr">keywords:</span></span><br><span class="line"><span class="attr">author:</span> <span class="string">三笠ぃ</span></span><br><span class="line"><span class="attr">language:</span> <span class="string">zh-CN</span></span><br><span class="line"><span class="attr">timezone:</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># URL</span></span><br><span class="line"><span class="comment">## Set your site url here. For example, if you use GitHub Page, set url as &#x27;https://username.github.io/project&#x27;</span></span><br><span class="line"><span class="attr">url:</span> <span class="string">https://pc-study.github.io/</span></span><br></pre></td></tr></table></figure><h2 id="导航菜单"><a href="#导航菜单" class="headerlink" title="导航菜单"></a>导航菜单</h2><p>修改主题配置文件 _config.butterfly.yml：</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="string">首页:</span> <span class="string">/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-home</span></span><br><span class="line">  <span class="string">归档:</span> <span class="string">/archives/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-archive</span></span><br><span class="line">  <span class="string">标签:</span> <span class="string">/tags/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-tags</span></span><br><span class="line">  <span class="string">分类:</span> <span class="string">/categories/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-folder-open</span></span><br><span class="line">  <span class="comment"># List||fas fa-list:</span></span><br><span class="line">  <span class="comment">#   Music: /music/ || fas fa-music</span></span><br><span class="line">  <span class="comment">#   Movie: /movies/ || fas fa-video</span></span><br><span class="line">  <span class="string">友链:</span> <span class="string">/link/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-link</span></span><br><span class="line">  <span class="string">关于我:</span> <span class="string">/about/</span> <span class="string">||</span> <span class="string">fas</span> <span class="string">fa-heart</span></span><br></pre></td></tr></table></figure><h1 id="五、博客关键页面生成"><a href="#五、博客关键页面生成" class="headerlink" title="五、博客关键页面生成"></a>五、博客关键页面生成</h1><p>博客有一些关键页面需要手动生成。</p><h2 id="标签页"><a href="#标签页" class="headerlink" title="标签页"></a>标签页</h2><p>进入 Hexo 博客的根目录，执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page tags</span><br></pre></td></tr></table></figure><p>打开 source&#x2F;tags&#x2F;index.md 文件，修改如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 标签</span><br><span class="line">date: 2022-03-11 12:53:45</span><br><span class="line"><span class="section">type: &quot;tags&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h2 id="分类页"><a href="#分类页" class="headerlink" title="分类页"></a>分类页</h2><p>进入 Hexo 博客的根目录，执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page categories</span><br></pre></td></tr></table></figure><p>打开 source&#x2F;categories&#x2F;index.md 文件，修改如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 分类</span><br><span class="line">date: 2022-03-11 12:56:06</span><br><span class="line"><span class="section">type: &quot;categories&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h2 id="友情链接"><a href="#友情链接" class="headerlink" title="友情链接"></a>友情链接</h2><p>进入 Hexo 博客的根目录，执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page <span class="built_in">link</span></span><br></pre></td></tr></table></figure><p>打开 source&#x2F;link&#x2F;index.md 文件，修改如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 友情链接</span><br><span class="line">date: 2022-03-11 12:57:48</span><br><span class="line"><span class="section">type: &quot;link&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h2 id="关于我"><a href="#关于我" class="headerlink" title="关于我"></a>关于我</h2><p>进入 Hexo 博客的根目录，执行：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new page about</span><br></pre></td></tr></table></figure><p>打开 source&#x2F;about-me&#x2F;index.md 文件，修改如下：</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">title: 关于作者</span><br><span class="line">date: 2022-03-11 13:01:21</span><br><span class="line"><span class="section">type: &quot;about&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>至此，简单的 Hexo 博客框架就完成搭建了。</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> 阿里云 </tag>
            
            <tag> GitHub Pages </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
