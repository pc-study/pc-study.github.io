<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>阿里云 CentOS7.9 搭建 Hexo 个人博客教程</title>
      <link href="/2022/03/10/%E9%98%BF%E9%87%8C%E4%BA%91-CentOS7-9-%E6%90%AD%E5%BB%BA-Hexo-%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/"/>
      <url>/2022/03/10/%E9%98%BF%E9%87%8C%E4%BA%91-CentOS7-9-%E6%90%AD%E5%BB%BA-Hexo-%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>最近买了个阿里云服务器，于是打算搭建一个个人博客网站，使用的是 Hexo，下面是搭建的过程。</p><h1 id="搭建过程"><a href="#搭建过程" class="headerlink" title="搭建过程"></a>搭建过程</h1><p>本次个人博客大致的搭建步骤如下：</p><ul><li>购买阿里云服务器</li><li>配置阿里云服务器</li><li>服务端安装  Nodejs</li><li>服务端安装 Git</li><li>服务端安装 Nginx</li><li>客户端安装 Hexo</li><li>客户端配置免密登录</li><li>服务端创建 Git 仓库</li><li>Hexo 主题配置</li></ul><h2 id="1、购买阿里云服务器"><a href="#1、购买阿里云服务器" class="headerlink" title="1、购买阿里云服务器"></a>1、购买阿里云服务器</h2><p>这个比较简单，会花钱就行，尽量找一个新注册的账号，这样可以花几十 money 就可以购买一年的阿里云服务器，例如：</p><p><img src="https://img-blog.csdnimg.cn/45a9902f4c514169b09252d103108915.png"></p><p>嗯没错，就是很香，购买完之后简单配置一下就可以使用了，本文基于 CentOS7.9 系统搭建，所以大家要继续下去的话也只能选择 CentOS7.9 咯。</p><h2 id="2、配置阿里云服务器"><a href="#2、配置阿里云服务器" class="headerlink" title="2、配置阿里云服务器"></a>2、配置阿里云服务器</h2><p>阿里云服务器的配置很简单，主要有：</p><ul><li>重置实例密码</li><li>配置安全组策略</li></ul><p>配置的步骤都很简单，基本就是几分钟的事。</p><p><strong>重置实例密码：</strong></p><p><strong>配置安全组策略：</strong></p><p>配置好之后，复制一下公网IP，就可以开始建站了。</p><h2 id="3、服务端安装-Nodejs"><a href="#3、服务端安装-Nodejs" class="headerlink" title="3、服务端安装  Nodejs"></a>3、服务端安装  Nodejs</h2><p>在本地客户端使用 ssh 连接阿里云服务器公网IP：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh root@公网IP</span><br></pre></td></tr></table></figure><p>一键式安装配置 Nodejs：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /tmp &amp;&amp; wget https://nodejs.org/dist/v17.5.0/node-v17.5.0-linux-x64.tar.xz </span><br><span class="line">tar xf node-v17.5.0-linux-x64.tar.xz </span><br><span class="line"><span class="built_in">mv</span> node-v17.5.0-linux-x64 /usr/local/node</span><br><span class="line"><span class="built_in">ln</span> -s /usr/local/node/bin/node /bin/node</span><br><span class="line"><span class="built_in">ln</span> -s /usr/local/node/bin/npm /bin/npm</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=/usr/local/node/bin:$PATH&#x27;</span> &gt;&gt; /etc/profile</span><br><span class="line"><span class="built_in">source</span> /etc/profile</span><br><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p>执行完就安装成功了。</p><h2 id="4、服务端安装-Git"><a href="#4、服务端安装-Git" class="headerlink" title="4、服务端安装 Git"></a>4、服务端安装 Git</h2><p>一键式安装 Git：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">yum install -y curl-devel expat-devel gettext-devel openssl-devel zlib-devel gcc perl-ExtUtils-MakeMaker</span><br><span class="line"><span class="built_in">cd</span> /tmp &amp;&amp; wget https://www.kernel.org/pub/software/scm/git/git-2.9.5.tar.gz</span><br><span class="line">tar xf git-2.9.5.tar.gz</span><br><span class="line"><span class="built_in">cd</span> git-2.9.5 &amp;&amp; make all prefix=/usr/local/git</span><br><span class="line">make install prefix=/usr/local/git</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;export PATH=$PATH:/usr/local/git/bin&#x27;</span> &gt;&gt; /etc/bashrc</span><br><span class="line"><span class="built_in">source</span> /etc/bashrc</span><br><span class="line">git version</span><br><span class="line">git config --global user.name <span class="string">&quot;你的账号&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;你的邮箱&quot;</span></span><br></pre></td></tr></table></figure><p>执行完就安装成功了，要注意的是客户端也需要安装一下 Git，图形化一直下一步就行。</p><h2 id="5、服务端安装-Nginx"><a href="#5、服务端安装-Nginx" class="headerlink" title="5、服务端安装 Nginx"></a>5、服务端安装 Nginx</h2><p>一键式安装 Nginx：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install -y gcc gcc-c++ pcre pcre-devel zlib zlib-devel openssl openssl-devel</span><br><span class="line"><span class="built_in">cd</span> /tmp &amp;&amp; wget http://nginx.org/download/nginx-1.9.9.tar.gz</span><br><span class="line">tar xf nginx-1.9.9.tar.gz</span><br><span class="line"><span class="built_in">cd</span> nginx-1.9.9 &amp;&amp; ./configure</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><p>配置 Nginx 服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 创建 hexo 博客存放位置</span></span><br><span class="line"><span class="built_in">mkdir</span> /data/blog</span><br><span class="line"><span class="comment">## 修改 Nginx 配置文件</span></span><br><span class="line">vi /usr/local/nginx/conf/nginx.conf</span><br><span class="line"></span><br><span class="line"><span class="comment">## 修改配置文件中以下几点</span></span><br><span class="line"><span class="comment">## 1、server_name，修改域名或ip</span></span><br><span class="line">server_name  服务器公网IP;</span><br><span class="line"><span class="comment">## 2、root index.html，修改为 hexo 博客存放的位置</span></span><br><span class="line">root /data/blog</span><br></pre></td></tr></table></figure><p>打开 Nginx 服务：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/local/nginx/sbin</span><br><span class="line"><span class="comment"># 启动 nginx</span></span><br><span class="line">./nginx</span><br></pre></td></tr></table></figure><p>至此 Nginx 也安装完成。</p><h2 id="6、客户端安装-Hexo"><a href="#6、客户端安装-Hexo" class="headerlink" title="6、客户端安装 Hexo"></a>6、客户端安装 Hexo</h2><p>Hexo 也是一键式安装，安装前，设置一下 npm 源：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npm.taobao.org</span><br><span class="line"><span class="comment">## 安装 hexo</span></span><br><span class="line">npm install -g hexo-cli</span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><p>本地客户端创建 Hexo 博客目录并初始化启动博客：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 本地创建一个目录用于存放博客</span></span><br><span class="line">hexo init</span><br><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure><p>启动之后本地浏览器 localhost:4000 访问一下是否成功。</p><h2 id="7、配置免密登录"><a href="#7、配置免密登录" class="headerlink" title="7、配置免密登录"></a>7、配置免密登录</h2><p>配置本地客户端与阿里云服务器端的 ssh 免密登录，方便上传仓库时一键式上传。</p><p>在本地客户端生成并上传公共密钥：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 执行完之后一直回车就行</span></span><br><span class="line">ssh-keygen</span><br><span class="line"><span class="comment">## 上传公共密钥到阿里云服务器</span></span><br><span class="line">ssh-copy-id root@阿里云公网IP</span><br><span class="line"><span class="comment">## 测试是否已免密</span></span><br><span class="line">ssh root@阿里云公网IP</span><br></pre></td></tr></table></figure><p>如果无需密码即可登录，说明已经配置完成。</p><h2 id="8、服务端创建-Git-仓库"><a href="#8、服务端创建-Git-仓库" class="headerlink" title="8、服务端创建 Git 仓库"></a>8、服务端创建 Git 仓库</h2><p>服务器上创建一个 Git 仓库，该仓库中新建一个 post-receive 钩子文件。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> ~</span><br><span class="line">git init --bare hexo.git</span><br><span class="line">vi ~/hexo.git/hooks/post-receive</span><br><span class="line"><span class="comment">## 填写以下内容，其中的--work-tree 为 hexo 博客目录</span></span><br><span class="line">git --work-tree=/data/blog --git-dir=/root/hexo.git checkout -f</span><br><span class="line"><span class="comment">## 授予钩子文件可执行权限</span></span><br><span class="line"><span class="built_in">chmod</span> +x ~/hexo.git/hooks/post-receive</span><br><span class="line"><span class="built_in">chmod</span> -R 777 /data/blog</span><br></pre></td></tr></table></figure><p>至此，Git 仓库创建并配置完成，对应的本地客户端也需要配置一下！</p><p>在本地计算机 hexo 的工程目录下，找到 <code>_config.yml</code>，对 deploy 参数进行修改，如下图所示</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Deployment</span></span><br><span class="line"><span class="comment">## Docs: https://hexo.io/docs/one-command-deployment</span></span><br><span class="line">deploy:</span><br><span class="line">  <span class="built_in">type</span>: git</span><br><span class="line">  repo: root@公网IP:/root/hexo.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><p><img src="https://img-blog.csdnimg.cn/b1f9c60238c44accb634023b4b4d5c99.png"></p><p>在本地计算机安装插件: hexo-deployer-git 和 hexo-server，插件的作用分别是使用Git自动部署，和hexo本地简单的服务器：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br><span class="line">npm install hexo-server</span><br><span class="line"><span class="comment">## 配置全局变量</span></span><br><span class="line">git config --global user.name <span class="string">&quot;你的账号&quot;</span></span><br><span class="line">git config --global user.email <span class="string">&quot;你的邮箱&quot;</span></span><br><span class="line"><span class="comment">## 生成发布 Hexo 博客</span></span><br><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br></pre></td></tr></table></figure><p>此时，便可以通过浏览器访问 http:&#x2F;&#x2F;阿里云公网IP 进入 hexo 我的博客主页了。</p><h2 id="9、Hexo-主题配置"><a href="#9、Hexo-主题配置" class="headerlink" title="9、Hexo 主题配置"></a>9、Hexo 主题配置</h2><p>最简单的 Hexo 个人博客搭建完成后，当然需要换个主题美化一下，选择大家都喜欢的 <code>NexT</code> 主题就好：<a href="https://github.com/iissnan/hexo-theme-next">https://github.com/iissnan/hexo-theme-next</a>，直接下载下来解压，放到本地 Hexo 博客目录的 theme 目录下，并改名为 <code>next</code>。</p><p>具体的配置可以参考网上的文章，不再重复演示：</p><ul><li><a href="https://blog.csdn.net/u012294515/article/details/83094693">Hexo | NexT打造一个炫酷博客</a></li><li><a href="https://blog.csdn.net/nightmare_dimple/article/details/86661502">Hexo博客优化之Next主题美化</a></li><li><a href="https://www.jianshu.com/p/7951e239ae04">Hexo配置NexT主题教程</a></li><li><a href="https://cloud.tencent.com/developer/article/1933186">【NexT主题美化】点击页面浮现24字核心价值观</a></li></ul><p>最后放一张个人博客简陋的主页吧：</p><p><img src="https://img-blog.csdnimg.cn/657a81244d174e39b60b0f674798e728.png"></p><p>祝大家玩的开心！</p>]]></content>
      
      
      <categories>
          
          <category> Hexo </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
            <tag> Centos </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
